import{r as e,a as t,g as n,b as r,u as s,L as i,c as a,N as o,R as l,O as c,d as u,e as d,f as h,h as m,i as p,B as f}from"./react-ClKir645.js";import{c as g}from"./vendor-A2HP01oy.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var y,x,v={exports:{}},b={};var w,N,j,S,k=(x||(x=1,v.exports=function(){if(y)return b;y=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var s=null;if(void 0!==r&&(s=""+r),void 0!==n.key&&(s=""+n.key),"key"in n)for(var i in r={},n)"key"!==i&&(r[i]=n[i]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:s,ref:void 0!==n?n:null,props:r}}return b.Fragment=t,b.jsx=n,b.jsxs=n,b}()),v.exports),E={exports:{}},T={},C={exports:{}},_={};function I(){return N||(N=1,C.exports=(w||(w=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,m=!1,p=!1,f=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var s=n(c);null!==s;){if(null===s.callback)r(c);else{if(!(s.startTime<=e))break;r(c),s.sortIndex=s.expirationTime,t(l,s)}s=n(c)}}function w(e){if(f=!1,b(e),!p)if(null!==n(l))p=!0,j||(j=!0,N());else{var t=n(c);null!==t&&P(w,t.startTime-e)}}var N,j=!1,S=-1,k=5,E=-1;function T(){return!(!g&&e.unstable_now()-E<k)}function C(){if(g=!1,j){var t=e.unstable_now();E=t;var s=!0;try{e:{p=!1,f&&(f=!1,x(S),S=-1),m=!0;var i=h;try{t:{for(b(t),d=n(l);null!==d&&!(d.expirationTime>t&&T());){var a=d.callback;if("function"==typeof a){d.callback=null,h=d.priorityLevel;var o=a(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){d.callback=o,b(t),s=!0;break t}d===n(l)&&r(l),b(t)}else r(l);d=n(l)}if(null!==d)s=!0;else{var u=n(c);null!==u&&P(w,u.startTime-t),s=!1}}break e}finally{d=null,h=i,m=!1}s=void 0}}finally{s?N():j=!1}}}if("function"==typeof v)N=function(){v(C)};else if("undefined"!=typeof MessageChannel){var _=new MessageChannel,I=_.port2;_.port1.onmessage=C,N=function(){I.postMessage(null)}}else N=function(){y(C,0)};function P(t,n){S=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,s,i){var a=e.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:s,priorityLevel:r,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(r.sortIndex=i,t(c,r),null===n(l)&&r===n(c)&&(f?(x(S),S=-1):f=!0,P(w,i-a))):(r.sortIndex=o,t(l,r),p||m||(p=!0,j||(j=!0,N()))),r},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(_)),_)),C.exports}function P(){if(j)return T;j=1;var n=I(),r=e(),s=t();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),b=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),_=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function A(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===L?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case g:return"Fragment";case x:return"Profiler";case y:return"StrictMode";case N:return"Suspense";case S:return"SuspenseList";case C:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case f:return"Portal";case b:return e.displayName||"Context";case v:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var M=Array.isArray,R=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},z=[],U=-1;function V(e){return{current:e}}function B(e){0>U||(e.current=z[U],z[U]=null,U--)}function q(e,t){U++,z[U]=e.current,e.current=t}var $,H,W=V(null),G=V(null),K=V(null),Q=V(null);function Y(e,t){switch(q(K,t),q(G,e),q(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(W),q(W,e)}function X(){B(W),B(G),B(K)}function J(e){null!==e.memoizedState&&q(Q,e);var t=W.current,n=bd(t,e.type);t!==n&&(q(G,e),q(W,n))}function Z(e){G.current===e&&(B(W),B(G)),Q.current===e&&(B(Q),hh._currentValue=F)}function ee(e){if(void 0===$)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$+e+H}var te=!1;function ne(e,t){if(!e||te)return"";te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var r=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"==typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],o=i[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===c.length)for(r=l.length-1,s=c.length-1;1<=r&&0<=s&&l[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==c[s]){if(1!==r||1!==s)do{if(r--,0>--s||l[r]!==c[s]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=s);break}}}finally{te=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ee(n):""}function re(e,t){switch(e.tag){case 26:case 27:case 5:return ee(e.type);case 16:return ee("Lazy");case 13:return e.child!==t&&null!==t?ee("Suspense Fallback"):ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return ne(e.type,!1);case 11:return ne(e.type.render,!1);case 1:return ne(e.type,!0);case 31:return ee("Activity");default:return""}}function se(e){try{var t="",n=null;do{t+=re(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var ie=Object.prototype.hasOwnProperty,ae=n.unstable_scheduleCallback,oe=n.unstable_cancelCallback,le=n.unstable_shouldYield,ce=n.unstable_requestPaint,ue=n.unstable_now,de=n.unstable_getCurrentPriorityLevel,he=n.unstable_ImmediatePriority,me=n.unstable_UserBlockingPriority,pe=n.unstable_NormalPriority,fe=n.unstable_LowPriority,ge=n.unstable_IdlePriority,ye=n.log,xe=n.unstable_setDisableYieldValue,ve=null,be=null;function we(e){if("function"==typeof ye&&xe(e),be&&"function"==typeof be.setStrictMode)try{be.setStrictMode(ve,e)}catch(t){}}var Ne=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(je(e)/Se|0)|0},je=Math.log,Se=Math.LN2;var ke=256,Ee=262144,Te=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _e(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?s=Ce(r):0!==(a&=o)?s=Ce(a):n||0!==(n=o&~e)&&(s=Ce(n)):0!==(o=r&~i)?s=Ce(o):0!==a?s=Ce(a):n||0!==(n=r&~e)&&(s=Ce(n)),0===s?0:0!==t&&t!==s&&0===(t&i)&&((i=s&-s)>=(n=t&-t)||32===i&&4194048&n)?t:s}function Ie(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Pe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=Te;return!(62914560&(Te<<=1))&&(Te=4194304),e}function Le(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Me(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ne(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ne(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function De(e,t){var n=t&-t;return 0!==((n=42&n?1:Fe(n))&(e.suspendedLanes|t))?0:n}function Fe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ze(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ue(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:Ch(e.type)}function Ve(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}var Be=Math.random().toString(36).slice(2),qe="__reactFiber$"+Be,$e="__reactProps$"+Be,He="__reactContainer$"+Be,We="__reactEvents$"+Be,Ge="__reactListeners$"+Be,Ke="__reactHandles$"+Be,Qe="__reactResources$"+Be,Ye="__reactMarker$"+Be;function Xe(e){delete e[qe],delete e[$e],delete e[We],delete e[Ge],delete e[Ke]}function Je(e){var t=e[qe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[qe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Fd(e);null!==e;){if(n=e[qe])return n;e=Fd(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[qe]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function et(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function tt(e){var t=e[Qe];return t||(t=e[Qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Ye]=!0}var rt=new Set,st={};function it(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(st[e]=t,e=0;e<t.length;e++)rt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},ct={};function ut(e,t,n){if(s=t,ie.call(ct,s)||!ie.call(lt,s)&&(ot.test(s)?ct[s]=!0:(lt[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function dt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ht(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=pt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function yt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var xt=/[\n"\\]/g;function vt(e){return e.replace(xt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,n,r,s,i,a,o){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+mt(t)):e.value!==""+mt(t)&&(e.value=""+mt(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?Nt(e,a,mt(t)):null!=n?Nt(e,a,mt(n)):null!=r&&e.removeAttribute("value"),null==s&&null!=i&&(e.defaultChecked=!!i),null!=s&&(e.checked=s&&"function"!=typeof s&&"symbol"!=typeof s),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+mt(o):e.removeAttribute("name")}function wt(e,t,n,r,s,i,a,o){if(null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.type=i),null!=t||null!=n){if(("submit"===i||"reset"===i)&&null==t)return void ft(e);n=null!=n?""+mt(n):"",t=null!=t?""+mt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:s)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a),ft(e)}function Nt(e,t,n){"number"===t&&yt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function jt(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+mt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+mt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(M(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=mt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Tt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Tt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _t(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&Ct(e,s,r)}else for(var a in t)t.hasOwnProperty(a)&&Ct(e,a,t[a])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ot(){}var Mt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Ft=null;function zt(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[$e]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[$e]||null;if(!s)throw Error(i(90));bt(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&gt(r)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&jt(e,!!n.multiple,t,!1)}}}var Ut=!1;function Vt(e,t,n){if(Ut)return e(t,n);Ut=!0;try{return e(t)}finally{if(Ut=!1,(null!==Dt||null!==Ft)&&(tu(),Dt&&(t=Dt,e=Ft,Ft=Dt=null,zt(t),e)))for(t=0;t<e.length;t++)zt(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[$e]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var qt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),$t=!1;if(qt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Zh){$t=!1}var Wt=null,Gt=null,Kt=null;function Qt(){if(Kt)return Kt;var e,t,n=Gt,r=n.length,s="value"in Wt?Wt.value:Wt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return Kt=s.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Xt(){return!0}function Jt(){return!1}function Zt(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Xt:Jt,this.isPropagationStopped=Jt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Xt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Xt)},persist:function(){},isPersistent:Xt}),t}var en,tn,nn,rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=Zt(rn),an=h({},rn,{view:0,detail:0}),on=Zt(an),ln=h({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&"mousemove"===e.type?(en=e.screenX-nn.screenX,tn=e.screenY-nn.screenY):tn=en=0,nn=e),en)},movementY:function(e){return"movementY"in e?e.movementY:tn}}),cn=Zt(ln),un=Zt(h({},ln,{dataTransfer:0})),dn=Zt(h({},an,{relatedTarget:0})),hn=Zt(h({},rn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=Zt(h({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Zt(h({},rn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yn[e])&&!!t[e]}function vn(){return xn}var bn=Zt(h({},an,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),wn=Zt(h({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=Zt(h({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),jn=Zt(h({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=Zt(h({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=Zt(h({},rn,{newState:0,oldState:0})),En=[9,13,27,32],Tn=qt&&"CompositionEvent"in window,Cn=null;qt&&"documentMode"in document&&(Cn=document.documentMode);var _n=qt&&"TextEvent"in window&&!Cn,In=qt&&(!Tn||Cn&&8<Cn&&11>=Cn),Pn=String.fromCharCode(32),An=!1;function Ln(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Mn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Fn(e,t,n,r){Dt?Ft?Ft.push(r):Ft=[r]:Dt=r,0<(t=id(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Un=null;function Vn(e){Xu(e,0)}function Bn(e){if(gt(et(e)))return e}function qn(e,t){if("change"===e)return t}var $n=!1;if(qt){var Hn;if(qt){var Wn="oninput"in document;if(!Wn){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),Wn="function"==typeof Gn.oninput}Hn=Wn}else Hn=!1;$n=Hn&&(!document.documentMode||9<document.documentMode)}function Kn(){zn&&(zn.detachEvent("onpropertychange",Qn),Un=zn=null)}function Qn(e){if("value"===e.propertyName&&Bn(Un)){var t=[];Fn(t,Un,e,Rt(e)),Vt(Vn,t)}}function Yn(e,t,n){"focusin"===e?(Kn(),Un=n,(zn=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&Kn()}function Xn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Un)}function Jn(e,t){if("click"===e)return Bn(t)}function Zn(e,t){if("input"===e||"change"===e)return Bn(t)}var er="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function tr(e,t){if(er(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ie.call(t,s)||!er(e[s],t[s]))return!1}return!0}function nr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rr(e,t){var n,r=nr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nr(r)}}function sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ir(e){for(var t=yt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=yt((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=qt&&"documentMode"in document&&11>=document.documentMode,lr=null,cr=null,ur=null,dr=!1;function hr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;dr||null==lr||lr!==yt(r)||("selectionStart"in(r=lr)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ur&&tr(ur,r)||(ur=r,0<(r=id(cr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionrun:mr("Transition","TransitionRun"),transitionstart:mr("Transition","TransitionStart"),transitioncancel:mr("Transition","TransitionCancel"),transitionend:mr("Transition","TransitionEnd")},fr={},gr={};function yr(e){if(fr[e])return fr[e];if(!pr[e])return e;var t,n=pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in gr)return fr[e]=n[t];return e}qt&&(gr=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);var xr=yr("animationend"),vr=yr("animationiteration"),br=yr("animationstart"),wr=yr("transitionrun"),Nr=yr("transitionstart"),jr=yr("transitioncancel"),Sr=yr("transitionend"),kr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){kr.set(e,t),it(t,[e])}Er.push("scrollEnd");var Cr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},_r=[],Ir=0,Pr=0;function Ar(){for(var e=Ir,t=Pr=Ir=0;t<e;){var n=_r[t];_r[t++]=null;var r=_r[t];_r[t++]=null;var s=_r[t];_r[t++]=null;var i=_r[t];if(_r[t++]=null,null!==r&&null!==s){var a=r.pending;null===a?s.next=s:(s.next=a.next,a.next=s),r.pending=s}0!==i&&Rr(n,s,i)}}function Lr(e,t,n,r){_r[Ir++]=e,_r[Ir++]=t,_r[Ir++]=n,_r[Ir++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Lr(e,t,n,r),Dr(e)}function Mr(e,t){return Lr(e,null,null,t),Dr(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var s=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(s=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,s&&null!==t&&(s=31-Ne(n),null===(r=(e=i.hiddenUpdates)[s])?e[s]=[t]:r.push(t),t.lane=536870912|n),i):null}function Dr(e){if(50<Wc)throw Wc=0,Gc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Fr={};function zr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(e,t,n,r){return new zr(e,t,n,r)}function Vr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=Ur(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $r(e,t,n,r,s,a){var o=0;if(r=e,"function"==typeof e)Vr(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Ur(31,n,t,s)).elementType=C,e.lanes=a,e;case g:return Hr(n.children,s,a,t);case y:o=8,s|=24;break;case x:return(e=Ur(12,n,t,2|s)).elementType=x,e.lanes=a,e;case N:return(e=Ur(13,n,t,s)).elementType=N,e.lanes=a,e;case S:return(e=Ur(19,n,t,s)).elementType=S,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:o=10;break e;case v:o=9;break e;case w:o=11;break e;case k:o=14;break e;case E:o=16,r=null;break e}o=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=Ur(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Hr(e,t,n,r){return(e=Ur(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=Ur(6,e,null,t)).lanes=n,e}function Gr(e){var t=Ur(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=Ur(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qr=new WeakMap;function Yr(e,t){if("object"==typeof e&&null!==e){var n=Qr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:se(t)},Qr.set(e,t),t)}return{value:e,source:t,stack:se(t)}}var Xr=[],Jr=0,Zr=null,es=0,ts=[],ns=0,rs=null,ss=1,is="";function as(e,t){Xr[Jr++]=es,Xr[Jr++]=Zr,Zr=e,es=t}function os(e,t,n){ts[ns++]=ss,ts[ns++]=is,ts[ns++]=rs,rs=e;var r=ss;e=is;var s=32-Ne(r)-1;r&=~(1<<s),n+=1;var i=32-Ne(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ss=1<<32-Ne(t)+s|n<<s|r,is=i+e}else ss=1<<i|n<<s|r,is=e}function ls(e){null!==e.return&&(as(e,1),os(e,1,0))}function cs(e){for(;e===Zr;)Zr=Xr[--Jr],Xr[Jr]=null,es=Xr[--Jr],Xr[Jr]=null;for(;e===rs;)rs=ts[--ns],ts[ns]=null,is=ts[--ns],ts[ns]=null,ss=ts[--ns],ts[ns]=null}function us(e,t){ts[ns++]=ss,ts[ns++]=is,ts[ns++]=rs,ss=t.id,is=t.overflow,rs=e}var ds=null,hs=null,ms=!1,ps=null,fs=!1,gs=Error(i(519));function ys(e){throw js(Yr(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),gs}function xs(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[qe]=e,t[$e]=r,n){case"dialog":Ju("cancel",t),Ju("close",t);break;case"iframe":case"object":case"embed":Ju("load",t);break;case"video":case"audio":for(n=0;n<Qu.length;n++)Ju(Qu[n],t);break;case"source":Ju("error",t);break;case"img":case"image":case"link":Ju("error",t),Ju("load",t);break;case"details":Ju("toggle",t);break;case"input":Ju("invalid",t),wt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ju("invalid",t);break;case"textarea":Ju("invalid",t),kt(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||dd(t.textContent,n)?(null!=r.popover&&(Ju("beforetoggle",t),Ju("toggle",t)),null!=r.onScroll&&Ju("scroll",t),null!=r.onScrollEnd&&Ju("scrollend",t),null!=r.onClick&&(t.onclick=Ot),t=!0):t=!1,t||ys(e,!0)}function vs(e){for(ds=e.return;ds;)switch(ds.tag){case 5:case 31:case 13:return void(fs=!1);case 27:case 3:return void(fs=!0);default:ds=ds.return}}function bs(e){if(e!==ds)return!1;if(!ms)return vs(e),ms=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wd(e.type,e.memoizedProps)),t=!t),t&&hs&&ys(e),vs(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));hs=Dd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));hs=Dd(e)}else 27===n?(n=hs,Cd(e.type)?(e=Rd,Rd=null,hs=e):hs=n):hs=ds?Md(e.stateNode.nextSibling):null;return!0}function ws(){hs=ds=null,ms=!1}function Ns(){var e=ps;return null!==e&&(null===Ac?Ac=e:Ac.push.apply(Ac,e),ps=null),e}function js(e){null===ps?ps=[e]:ps.push(e)}var Ss=V(null),ks=null,Es=null;function Ts(e,t,n){q(Ss,t._currentValue),t._currentValue=n}function Cs(e){e._currentValue=Ss.current,B(Ss)}function _s(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t,n,r){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var a=s.dependencies;if(null!==a){var o=s.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),_s(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),_s(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function Ps(e,t,n,r){e=null;for(var s=t,a=!1;null!==s;){if(!a)if(524288&s.flags)a=!0;else if(262144&s.flags)break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=s.type;er(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===Q.current){if(null===(o=s.alternate))throw Error(i(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(hh):e=[hh])}s=s.return}null!==e&&Is(t,e,n,r),t.flags|=262144}function As(e){for(e=e.firstContext;null!==e;){if(!er(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ls(e){ks=e,Es=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Os(e){return Rs(ks,e)}function Ms(e,t){return null===ks&&Ls(e),Rs(e,t)}function Rs(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Es){if(null===e)throw Error(i(308));Es=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Es=Es.next=t;return n}var Ds="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Fs=n.unstable_scheduleCallback,zs=n.unstable_NormalPriority,Us={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vs(){return{controller:new Ds,data:new Map,refCount:0}}function Bs(e){e.refCount--,0===e.refCount&&Fs(zs,function(){e.controller.abort()})}var qs=null,$s=0,Hs=0,Ws=null;function Gs(){if(0===--$s&&null!==qs){null!==Ws&&(Ws.status="fulfilled");var e=qs;qs=null,Hs=0,Ws=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ks=R.S;R.S=function(e,t){Mc=ue(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===qs){var n=qs=[];$s=0,Hs=$u(),Ws={status:"pending",value:void 0,then:function(e){n.push(e)}}}$s++,t.then(Gs,Gs)}(0,t),null!==Ks&&Ks(e,t)};var Qs=V(null);function Ys(){var e=Qs.current;return null!==e?e:gc.pooledCache}function Xs(e,t){q(Qs,null===t?Qs.current:t.pool)}function Js(){var e=Ys();return null===e?null:{parent:Us._currentValue,pool:e}}var Zs=Error(i(460)),ei=Error(i(474)),ti=Error(i(542)),ni={then:function(){}};function ri(e){return"fulfilled"===(e=e.status)||"rejected"===e}function si(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ot,Ot),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw li(e=t.reason),e;default:if("string"==typeof t.status)t.then(Ot,Ot);else{if(null!==(e=gc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw li(e=t.reason),e}throw ai=t,Zs}}function ii(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw ai=t,Zs;throw t}}var ai=null;function oi(){if(null===ai)throw Error(i(459));var e=ai;return ai=null,e}function li(e){if(e===Zs||e===ti)throw Error(i(483))}var ci=null,ui=0;function di(e){var t=ui;return ui+=1,null===ci&&(ci=[]),si(ci,e,t)}function hi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function mi(e,t){if(t.$$typeof===m)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===E&&ii(i)===t.type)?(hi(t=s(t,n.props),n),t.return=e,t):(hi(t=$r(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return hi(n=$r(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Kr(t,e.mode,n)).return=e,t;case E:return h(e,t=ii(t),n)}if(M(t)||A(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return h(e,di(t),n);if(t.$$typeof===b)return h(e,Ms(e,t),n);mi(e,t)}return null}function m(e,t,n,r){var s=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==s?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===s?c(e,t,n,r):null;case f:return n.key===s?u(e,t,n,r):null;case E:return m(e,t,n=ii(n),r)}if(M(n)||A(n))return null!==s?null:d(e,t,n,r,null);if("function"==typeof n.then)return m(e,t,di(n),r);if(n.$$typeof===b)return m(e,t,Ms(e,n),r);mi(e,n)}return null}function y(e,t,n,r,s){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"==typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case E:return y(e,t,n,r=ii(r),s)}if(M(r)||A(r))return d(t,e=e.get(n)||null,r,s,null);if("function"==typeof r.then)return y(e,t,n,di(r),s);if(r.$$typeof===b)return y(e,t,n,Ms(t,r),s);mi(t,r)}return null}function x(l,c,u,d){if("object"==typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var v=u.key;null!==c;){if(c.key===v){if((v=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=s(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===E&&ii(v)===c.type){n(l,c.sibling),hi(d=s(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Hr(u.props.children,l.mode,d,u.key)).return=l,l=d):(hi(d=$r(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case f:e:{for(v=u.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=s(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Kr(u,l.mode,d)).return=l,l=d}return o(l);case E:return x(l,c,u=ii(u),d)}if(M(u))return function(s,i,o,l){for(var c=null,u=null,d=i,p=i=0,f=null;null!==d&&p<o.length;p++){d.index>p?(f=d,d=null):f=d.sibling;var g=m(s,d,o[p],l);if(null===g){null===d&&(d=f);break}e&&d&&null===g.alternate&&t(s,d),i=a(g,i,p),null===u?c=g:u.sibling=g,u=g,d=f}if(p===o.length)return n(s,d),ms&&as(s,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(s,o[p],l))&&(i=a(d,i,p),null===u?c=d:u.sibling=d,u=d);return ms&&as(s,p),c}for(d=r(d);p<o.length;p++)null!==(f=y(d,s,p,o[p],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?p:f.key),i=a(f,i,p),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(s,e)}),ms&&as(s,p),c}(l,c,u,d);if(A(u)){if("function"!=typeof(v=A(u)))throw Error(i(150));return function(s,o,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,p=o,f=o=0,g=null,x=l.next();null!==p&&!x.done;f++,x=l.next()){p.index>f?(g=p,p=null):g=p.sibling;var v=m(s,p,x.value,c);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(s,p),o=a(v,o,f),null===d?u=v:d.sibling=v,d=v,p=g}if(x.done)return n(s,p),ms&&as(s,f),u;if(null===p){for(;!x.done;f++,x=l.next())null!==(x=h(s,x.value,c))&&(o=a(x,o,f),null===d?u=x:d.sibling=x,d=x);return ms&&as(s,f),u}for(p=r(p);!x.done;f++,x=l.next())null!==(x=y(p,s,f,x.value,c))&&(e&&null!==x.alternate&&p.delete(null===x.key?f:x.key),o=a(x,o,f),null===d?u=x:d.sibling=x,d=x);return e&&p.forEach(function(e){return t(s,e)}),ms&&as(s,f),u}(l,c,u=v.call(u),d)}if("function"==typeof u.then)return x(l,c,di(u),d);if(u.$$typeof===b)return x(l,c,Ms(l,u),d);mi(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=s(c,u)).return=l,l=d):(n(l,c),(d=Wr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{ui=0;var s=x(e,t,n,r);return ci=null,s}catch(a){if(a===Zs||a===ti)throw a;var i=Ur(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var fi=pi(!0),gi=pi(!1),yi=!1;function xi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&fc){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=Dr(e),Rr(e,null,n),t}return Lr(e,r,t,n),Dr(e)}function Ni(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}function ji(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Si=!1;function ki(){if(Si){if(null!==Ws)throw Ws}}function Ei(e,t,n,r){Si=!1;var s=e.updateQueue;yi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=s.baseState;for(a=0,u=c=l=null,o=i;;){var m=-536870913&o.lane,p=m!==o.lane;if(p?(xc&m)===m:(r&m)===m){0!==m&&m===Hs&&(Si=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;m=t;var y=n;switch(g.tag){case 1:if("function"==typeof(f=g.payload)){d=f.call(y,d,m);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(m="function"==typeof(f=g.payload)?f.call(y,d,m):f))break e;d=h({},d,m);break e;case 2:yi=!0}}null!==(m=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=s.callbacks)?s.callbacks=[m]:p.push(m))}else p={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=m;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(p=o).next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null===i&&(s.shared.lanes=0),Ec|=a,e.lanes=a,e.memoizedState=d}}function Ti(e,t){if("function"!=typeof e)throw Error(i(191,e));e.call(t)}function Ci(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ti(n[e],t)}var _i=V(null),Ii=V(0);function Pi(e,t){q(Ii,e=Sc),q(_i,t),Sc=e|t.baseLanes}function Ai(){q(Ii,Sc),q(_i,_i.current)}function Li(){Sc=Ii.current,B(_i),B(Ii)}var Oi=V(null),Mi=null;function Ri(e){var t=e.alternate;q(Vi,1&Vi.current),q(Oi,e),null===Mi&&(null===t||null!==_i.current||null!==t.memoizedState)&&(Mi=e)}function Di(e){q(Vi,Vi.current),q(Oi,e),null===Mi&&(Mi=e)}function Fi(e){22===e.tag?(q(Vi,Vi.current),q(Oi,e),null===Mi&&(Mi=e)):zi()}function zi(){q(Vi,Vi.current),q(Oi,Oi.current)}function Ui(e){B(Oi),Mi===e&&(Mi=null),B(Vi)}var Vi=V(0);function Bi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ld(n)||Od(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qi=0,$i=null,Hi=null,Wi=null,Gi=!1,Ki=!1,Qi=!1,Yi=0,Xi=0,Ji=null,Zi=0;function ea(){throw Error(i(321))}function ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!er(e[n],t[n]))return!1;return!0}function na(e,t,n,r,s,i){return qi=i,$i=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?xo:vo,Qi=!1,i=n(r,s),Qi=!1,Ki&&(i=sa(t,n,r,s)),ra(e),i}function ra(e){R.H=yo;var t=null!==Hi&&null!==Hi.next;if(qi=0,Wi=Hi=$i=null,Gi=!1,Xi=0,Ji=null,t)throw Error(i(300));null===e||Mo||null!==(e=e.dependencies)&&As(e)&&(Mo=!0)}function sa(e,t,n,r){$i=e;var s=0;do{if(Ki&&(Ji=null),Xi=0,Ki=!1,25<=s)throw Error(i(301));if(s+=1,Wi=Hi=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}R.H=bo,a=t(n,r)}while(Ki);return a}function ia(){var e=R.H,t=e.useState()[0];return t="function"==typeof t.then?da(t):t,e=e.useState()[0],(null!==Hi?Hi.memoizedState:null)!==e&&($i.flags|=1024),t}function aa(){var e=0!==Yi;return Yi=0,e}function oa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function la(e){if(Gi){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Gi=!1}qi=0,Wi=Hi=$i=null,Ki=!1,Xi=Yi=0,Ji=null}function ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wi?$i.memoizedState=Wi=e:Wi=Wi.next=e,Wi}function ua(){if(null===Hi){var e=$i.alternate;e=null!==e?e.memoizedState:null}else e=Hi.next;var t=null===Wi?$i.memoizedState:Wi.next;if(null!==t)Wi=t,Hi=e;else{if(null===e){if(null===$i.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Hi=e).memoizedState,baseState:Hi.baseState,baseQueue:Hi.baseQueue,queue:Hi.queue,next:null},null===Wi?$i.memoizedState=Wi=e:Wi=Wi.next=e}return Wi}function da(e){var t=Xi;return Xi+=1,null===Ji&&(Ji=[]),e=si(Ji,e,t),t=$i,null===(null===Wi?t.memoizedState:Wi.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?xo:vo),e}function ha(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return da(e);if(e.$$typeof===b)return Os(e)}throw Error(i(438,String(e)))}function ma(e){var t=null,n=$i.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=$i.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},$i.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=_;return t.index++,n}function pa(e,t){return"function"==typeof t?t(e):t}function fa(e){return ga(ua(),Hi,e)}function ga(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var s=e.baseQueue,a=r.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}t.baseQueue=s=a,r.pending=null}if(a=e.baseState,null===s)e.memoizedState=a;else{var l=o=null,c=null,u=t=s.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(xc&h)===h:(qi&h)===h){var m=u.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Hs&&(d=!0);else{if((qi&m)===m){u=u.next,m===Hs&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,$i.lanes|=m,Ec|=m}h=u.action,Qi&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else m={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=m,o=a):c=c.next=m,$i.lanes|=h,Ec|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!er(a,e.memoizedState)&&(Mo=!0,d&&null!==(n=Ws)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===s&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ya(e){var t=ua(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);er(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function xa(e,t,n){var r=$i,s=ua(),a=ms;if(a){if(void 0===n)throw Error(i(407));n=n()}else n=t();var o=!er((Hi||s).memoizedState,n);if(o&&(s.memoizedState=n,Mo=!0),s=s.queue,qa(wa.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||null!==Wi&&1&Wi.memoizedState.tag){if(r.flags|=2048,Fa(9,{destroy:void 0},ba.bind(null,r,s,n,t),null),null===gc)throw Error(i(349));a||127&qi||va(r,t,n)}return n}function va(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=$i.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},$i.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ba(e,t,n,r){t.value=n,t.getSnapshot=r,Na(t)&&ja(e)}function wa(e,t,n){return n(function(){Na(t)&&ja(e)})}function Na(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!er(e,n)}catch(r){return!0}}function ja(e){var t=Mr(e,2);null!==t&&Yc(t,e,2)}function Sa(e){var t=ca();if("function"==typeof e){var n=e;if(e=n(),Qi){we(!0);try{n()}finally{we(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},t}function ka(e,t,n,r){return e.baseState=n,ga(e,Hi,"function"==typeof r?r:pa)}function Ea(e,t,n,r,s){if(po(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==R.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,Ta(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Ta(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var i=R.T,a={};R.T=a;try{var o=n(s,r),l=R.S;null!==l&&l(a,o),Ca(e,t,o)}catch(c){Ia(e,t,c)}finally{null!==i&&null!==a.types&&(i.types=a.types),R.T=i}}else try{Ca(e,t,i=n(s,r))}catch(u){Ia(e,t,u)}}function Ca(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){_a(e,t,n)},function(n){return Ia(e,t,n)}):_a(e,t,n)}function _a(e,t,n){t.status="fulfilled",t.value=n,Pa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ta(e,n)))}function Ia(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Pa(t),t=t.next}while(t!==r)}e.action=null}function Pa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Aa(e,t){return t}function La(e,t){if(ms){var n=gc.formState;if(null!==n){e:{var r=$i;if(ms){if(hs){t:{for(var s=hs,i=fs;8!==s.nodeType;){if(!i){s=null;break t}if(null===(s=Md(s.nextSibling))){s=null;break t}}s="F!"===(i=s.data)||"F"===i?s:null}if(s){hs=Md(s.nextSibling),r="F!"===s.data;break e}}ys(r)}r=!1}r&&(t=n[0])}}return(n=ca()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:t},n.queue=r,n=uo.bind(null,$i,r),r.dispatch=n,r=Sa(!1),i=mo.bind(null,$i,!1,r.queue),s={state:t,dispatch:null,action:e,pending:null},(r=ca()).queue=s,n=Ea.bind(null,$i,s,i,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function Oa(e){return Ma(ua(),Hi,e)}function Ma(e,t,n){if(t=ga(e,t,Aa)[0],e=fa(pa)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=da(t)}catch(a){if(a===Zs)throw ti;throw a}else r=t;var s=(t=ua()).queue,i=s.dispatch;return n!==t.memoizedState&&($i.flags|=2048,Fa(9,{destroy:void 0},Ra.bind(null,s,n),null)),[r,i,e]}function Ra(e,t){e.action=t}function Da(e){var t=ua(),n=Hi;if(null!==n)return Ma(t,n,e);ua(),t=t.memoizedState;var r=(n=ua()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Fa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=$i.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},$i.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return ua().memoizedState}function Ua(e,t,n,r){var s=ca();$i.flags|=e,s.memoizedState=Fa(1|t,{destroy:void 0},n,void 0===r?null:r)}function Va(e,t,n,r){var s=ua();r=void 0===r?null:r;var i=s.memoizedState.inst;null!==Hi&&null!==r&&ta(r,Hi.memoizedState.deps)?s.memoizedState=Fa(t,i,n,r):($i.flags|=e,s.memoizedState=Fa(1|t,i,n,r))}function Ba(e,t){Ua(8390656,8,e,t)}function qa(e,t){Va(2048,8,e,t)}function $a(e){var t=ua().memoizedState;return function(e){$i.flags|=4;var t=$i.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},$i.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&fc)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Ha(e,t){return Va(4,2,e,t)}function Wa(e,t){return Va(4,4,e,t)}function Ga(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ka(e,t,n){n=null!=n?n.concat([e]):null,Va(4,4,Ga.bind(null,t,e),n)}function Qa(){}function Ya(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ta(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ta(t,r[1]))return r[0];if(r=e(),Qi){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r}function Ja(e,t,n){return void 0===n||1073741824&qi&&!(261930&xc)?e.memoizedState=t:(e.memoizedState=n,e=Qc(),$i.lanes|=e,Ec|=e,n)}function Za(e,t,n,r){return er(n,t)?n:null!==_i.current?(e=Ja(e,n,r),er(e,t)||(Mo=!0),e):42&qi&&(!(1073741824&qi)||261930&xc)?(e=Qc(),$i.lanes|=e,Ec|=e,t):(Mo=!0,e.memoizedState=n)}function eo(e,t,n,r,s){var i=D.p;D.p=0!==i&&8>i?i:8;var a,o,l,c=R.T,u={};R.T=u,mo(e,!1,t,n);try{var d=s(),h=R.S;if(null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)ho(e,t,(a=r,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then(function(){l.status="fulfilled",l.value=a;for(var e=0;e<o.length;e++)(0,o[e])(a)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Kc());else ho(e,t,r,Kc())}catch(m){ho(e,t,{then:function(){},status:"rejected",reason:m},Kc())}finally{D.p=i,null!==c&&null!==u.types&&(c.types=u.types),R.T=c}}function to(){}function no(e,t,n,r){if(5!==e.tag)throw Error(i(476));var s=ro(e).queue;eo(e,s,t,F,null===n?to:function(){return so(e),n(r)})}function ro(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:F},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function so(e){var t=ro(e);null===t.next&&(t=e.alternate.memoizedState),ho(e,t.next.queue,{},Kc())}function io(){return Os(hh)}function ao(){return ua().memoizedState}function oo(){return ua().memoizedState}function lo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),r=wi(t,e=bi(n),n);return null!==r&&(Yc(r,t,n),Ni(r,t,n)),t={cache:Vs()},void(e.payload=t)}t=t.return}}function co(e,t,n){var r=Kc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},po(e)?fo(t,n):null!==(n=Or(e,t,n,r))&&(Yc(n,e,r),go(n,t,r))}function uo(e,t,n){ho(e,t,n,Kc())}function ho(e,t,n,r){var s={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(po(e))fo(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,er(o,a))return Lr(e,t,s,0),null===gc&&Ar(),!1}catch(l){}if(null!==(n=Or(e,t,s,r)))return Yc(n,e,r),go(n,t,r),!0}return!1}function mo(e,t,n,r){if(r={lane:2,revertLane:$u(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},po(e)){if(t)throw Error(i(479))}else null!==(t=Or(e,n,r,2))&&Yc(t,e,2)}function po(e){var t=e.alternate;return e===$i||null!==t&&t===$i}function fo(e,t){Ki=Gi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function go(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}var yo={readContext:Os,use:ha,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useLayoutEffect:ea,useInsertionEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useDeferredValue:ea,useTransition:ea,useSyncExternalStore:ea,useId:ea,useHostTransitionStatus:ea,useFormState:ea,useActionState:ea,useOptimistic:ea,useMemoCache:ea,useCacheRefresh:ea};yo.useEffectEvent=ea;var xo={readContext:Os,use:ha,useCallback:function(e,t){return ca().memoizedState=[e,void 0===t?null:t],e},useContext:Os,useEffect:Ba,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Ua(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){Ua(4,2,e,t)},useMemo:function(e,t){var n=ca();t=void 0===t?null:t;var r=e();if(Qi){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ca();if(void 0!==n){var s=n(t);if(Qi){we(!0);try{n(t)}finally{we(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=co.bind(null,$i,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ca().memoizedState=e},useState:function(e){var t=(e=Sa(e)).queue,n=uo.bind(null,$i,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qa,useDeferredValue:function(e,t){return Ja(ca(),e,t)},useTransition:function(){var e=Sa(!1);return e=eo.bind(null,$i,e.queue,!0,!1),ca().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=$i,s=ca();if(ms){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===gc)throw Error(i(349));127&xc||va(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Ba(wa.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,{destroy:void 0},ba.bind(null,r,a,n,t),null),n},useId:function(){var e=ca(),t=gc.identifierPrefix;if(ms){var n=is;t="_"+t+"R_"+(n=(ss&~(1<<32-Ne(ss)-1)).toString(32)+n),0<(n=Yi++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zi++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:io,useFormState:La,useActionState:La,useOptimistic:function(e){var t=ca();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=mo.bind(null,$i,!0,n),n.dispatch=t,[e,t]},useMemoCache:ma,useCacheRefresh:function(){return ca().memoizedState=lo.bind(null,$i)},useEffectEvent:function(e){var t=ca(),n={impl:e};return t.memoizedState=n,function(){if(2&fc)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},vo={readContext:Os,use:ha,useCallback:Ya,useContext:Os,useEffect:qa,useImperativeHandle:Ka,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Xa,useReducer:fa,useRef:za,useState:function(){return fa(pa)},useDebugValue:Qa,useDeferredValue:function(e,t){return Za(ua(),Hi.memoizedState,e,t)},useTransition:function(){var e=fa(pa)[0],t=ua().memoizedState;return["boolean"==typeof e?e:da(e),t]},useSyncExternalStore:xa,useId:ao,useHostTransitionStatus:io,useFormState:Oa,useActionState:Oa,useOptimistic:function(e,t){return ka(ua(),0,e,t)},useMemoCache:ma,useCacheRefresh:oo};vo.useEffectEvent=$a;var bo={readContext:Os,use:ha,useCallback:Ya,useContext:Os,useEffect:qa,useImperativeHandle:Ka,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Xa,useReducer:ya,useRef:za,useState:function(){return ya(pa)},useDebugValue:Qa,useDeferredValue:function(e,t){var n=ua();return null===Hi?Ja(n,e,t):Za(n,Hi.memoizedState,e,t)},useTransition:function(){var e=ya(pa)[0],t=ua().memoizedState;return["boolean"==typeof e?e:da(e),t]},useSyncExternalStore:xa,useId:ao,useHostTransitionStatus:io,useFormState:Da,useActionState:Da,useOptimistic:function(e,t){var n=ua();return null!==Hi?ka(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ma,useCacheRefresh:oo};function wo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bo.useEffectEvent=$a;var No={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kc(),s=bi(r);s.payload=t,null!=n&&(s.callback=n),null!==(t=wi(e,s,r))&&(Yc(t,e,r),Ni(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kc(),s=bi(r);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=wi(e,s,r))&&(Yc(t,e,r),Ni(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),r=bi(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=wi(e,r,n))&&(Yc(t,e,n),Ni(t,e,n))}};function jo(e,t,n,r,s,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!tr(n,r)||!tr(s,i))}function So(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&No.enqueueReplaceState(t,t.state,null)}function ko(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var s in n===t&&(n=h({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}function Eo(e){Cr(e)}function To(e){console.error(e)}function Co(e){Cr(e)}function _o(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Io(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Po(e,t,n){return(n=bi(n)).tag=3,n.payload={element:null},n.callback=function(){_o(e,t)},n}function Ao(e){return(e=bi(e)).tag=3,e}function Lo(e,t,n,r){var s=n.type.getDerivedStateFromError;if("function"==typeof s){var i=r.value;e.payload=function(){return s(i)},e.callback=function(){Io(t,n,r)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){Io(t,n,r),"function"!=typeof s&&(null===Fc?Fc=new Set([this]):Fc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Oo=Error(i(461)),Mo=!1;function Ro(e,t,n,r){t.child=null===e?gi(t,null,n,r):fi(t,e.child,n,r)}function Do(e,t,n,r,s){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Ls(t),r=na(e,t,n,a,i,s),o=aa(),null===e||Mo?(ms&&o&&ls(t),t.flags|=1,Ro(e,t,r,s),t.child):(oa(e,t,s),al(e,t,s))}function Fo(e,t,n,r,s){if(null===e){var i=n.type;return"function"!=typeof i||Vr(i)||void 0!==i.defaultProps||null!==n.compare?((e=$r(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,zo(e,t,i,r,s))}if(i=e.child,!ol(e,s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:tr)(a,r)&&e.ref===t.ref)return al(e,t,s)}return t.flags|=1,(e=Br(i,r)).ref=t.ref,e.return=t,t.child=e}function zo(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(tr(i,r)&&e.ref===t.ref){if(Mo=!1,t.pendingProps=r=i,!ol(e,s))return t.lanes=e.lanes,al(e,t,s);131072&e.flags&&(Mo=!0)}}return Wo(e,t,n,r,s)}function Uo(e,t,n,r){var s=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,s=0;null!==r;)s=s|r.lanes|r.childLanes,r=r.sibling;r=s&~i}else r=0,t.child=null;return Bo(e,t,i,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Bo(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xs(0,null!==i?i.cachePool:null),null!==i?Pi(t,i):Ai(),Fi(t)}else null!==i?(Xs(0,i.cachePool),Pi(t,i),zi(),t.memoizedState=null):(null!==e&&Xs(0,null),Ai(),zi());return Ro(e,t,s,n),t.child}function Vo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bo(e,t,n,r,s){var i=Ys();return i=null===i?null:{parent:Us._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Xs(0,null),Ai(),Fi(t),null!==e&&Ps(e,t,r,!0),t.childLanes=s,null}function qo(e,t){return(t=tl({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function $o(e,t,n){return fi(t,e.child,null,n),(e=qo(t,t.pendingProps)).flags|=2,Ui(t),t.memoizedState=null,e}function Ho(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Wo(e,t,n,r,s){return Ls(t),n=na(e,t,n,r,void 0,s),r=aa(),null===e||Mo?(ms&&r&&ls(t),t.flags|=1,Ro(e,t,n,s),t.child):(oa(e,t,s),al(e,t,s))}function Go(e,t,n,r,s,i){return Ls(t),t.updateQueue=null,n=sa(t,r,n,s),ra(e),r=aa(),null===e||Mo?(ms&&r&&ls(t),t.flags|=1,Ro(e,t,n,i),t.child):(oa(e,t,i),al(e,t,i))}function Ko(e,t,n,r,s){if(Ls(t),null===t.stateNode){var i=Fr,a=n.contextType;"object"==typeof a&&null!==a&&(i=Os(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=No,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},xi(t),a=n.contextType,i.context="object"==typeof a&&null!==a?Os(a):Fr,i.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(wo(t,n,a,r),i.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(a=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&No.enqueueReplaceState(i,i.state,null),Ei(t,r,i,s),ki(),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=ko(n,o);i.props=l;var c=i.context,u=n.contextType;a=Fr,"object"==typeof u&&null!==u&&(a=Os(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o||c!==a)&&So(t,i,r,a),yi=!1;var h=t.memoizedState;i.state=h,Ei(t,r,i,s),ki(),c=t.memoizedState,o||h!==c||yi?("function"==typeof d&&(wo(t,n,d,r),c=t.memoizedState),(l=yi||jo(t,n,l,r,h,c,a))?(u||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,vi(e,t),u=ko(n,a=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Fr,"object"==typeof c&&null!==c&&(l=Os(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(a!==d||h!==l)&&So(t,i,r,l),yi=!1,h=t.memoizedState,i.state=h,Ei(t,r,i,s),ki();var m=t.memoizedState;a!==d||h!==m||yi||null!==e&&null!==e.dependencies&&As(e.dependencies)?("function"==typeof o&&(wo(t,n,o,r),m=t.memoizedState),(u=yi||jo(t,n,u,r,h,m,l)||null!==e&&null!==e.dependencies&&As(e.dependencies))?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=l,r=u):("function"!=typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Ho(e,t),r=!!(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=fi(t,e.child,null,s),t.child=fi(t,null,n,s)):Ro(e,t,n,s),t.memoizedState=i.state,e=t.child):e=al(e,t,s),e}function Qo(e,t,n,r){return ws(),t.flags|=256,Ro(e,t,n,r),t.child}var Yo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xo(e){return{baseLanes:e,cachePool:Js()}}function Jo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=_c),e}function Zo(e,t,n){var r,s=t.pendingProps,a=!1,o=!!(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&Vi.current)),r&&(a=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(ms){if(a?Ri(t):zi(),(e=hs)?null!==(e=null!==(e=Ad(e,fs))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==rs?{id:ss,overflow:is}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,ds=t,hs=null):e=null,null===e)throw ys(t);return Od(e)?t.lanes=32:t.lanes=536870912,null}var l=s.children;return s=s.fallback,a?(zi(),l=tl({mode:"hidden",children:l},a=t.mode),s=Hr(s,a,n,null),l.return=t,s.return=t,l.sibling=s,t.child=l,(s=t.child).memoizedState=Xo(n),s.childLanes=Jo(e,r,n),t.memoizedState=Yo,Vo(null,s)):(Ri(t),el(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Ri(t),t.flags&=-257,t=nl(e,t,n)):null!==t.memoizedState?(zi(),t.child=e.child,t.flags|=128,t=null):(zi(),l=s.fallback,a=t.mode,s=tl({mode:"visible",children:s.children},a),(l=Hr(l,a,n,null)).flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,fi(t,e.child,null,n),(s=t.child).memoizedState=Xo(n),s.childLanes=Jo(e,r,n),t.memoizedState=Yo,t=Vo(null,s));else if(Ri(t),Od(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(s=Error(i(419))).stack="",s.digest=r,js({value:s,source:null,stack:null}),t=nl(e,t,n)}else if(Mo||Ps(e,t,n,!1),r=0!==(n&e.childLanes),Mo||r){if(null!==(r=gc)&&(0!==(s=De(r,n))&&s!==c.retryLane))throw c.retryLane=s,Mr(e,s),Yc(r,e,s),Oo;Ld(l)||lu(),t=nl(e,t,n)}else Ld(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,hs=Md(l.nextSibling),ds=t,ms=!0,ps=null,fs=!1,null!==e&&us(t,e),(t=el(t,s.children)).flags|=4096);return t}return a?(zi(),l=s.fallback,a=t.mode,u=(c=e.child).sibling,(s=Br(c,{mode:"hidden",children:s.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Br(u,l):(l=Hr(l,a,n,null)).flags|=2,l.return=t,s.return=t,s.sibling=l,t.child=s,Vo(null,s),s=t.child,null===(l=e.child.memoizedState)?l=Xo(n):(null!==(a=l.cachePool)?(c=Us._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Js(),l={baseLanes:l.baseLanes|n,cachePool:a}),s.memoizedState=l,s.childLanes=Jo(e,r,n),t.memoizedState=Yo,Vo(e.child,s)):(Ri(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function el(e,t){return(t=tl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function tl(e,t){return(e=Ur(22,e,null,t)).lanes=0,e}function nl(e,t,n){return fi(t,e.child,null,n),(e=el(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function rl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_s(e.return,t,n)}function sl(e,t,n,r,s,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s,treeForkCount:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s,a.treeForkCount=i)}function il(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;r=r.children;var a=Vi.current,o=!!(2&a);if(o?(a=1&a|2,t.flags|=128):a&=1,q(Vi,a),Ro(e,t,r,n),r=ms?es:0,!o&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rl(e,n,t);else if(19===e.tag)rl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===Bi(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),sl(t,!1,s,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===Bi(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}sl(t,!0,n,null,i,r);break;case"together":sl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function al(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ec|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ps(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!As(e))}function ll(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Mo=!0;else{if(!(ol(e,n)||128&t.flags))return Mo=!1,function(e,t,n){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),Ts(0,Us,e.memoizedState.cache),ws();break;case 27:case 5:J(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:Ts(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Di(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ri(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Zo(e,t,n):(Ri(t),null!==(e=al(e,t,n))?e.sibling:null);Ri(t);break;case 19:var s=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Ps(e,t,n,!1),r=0!==(n&t.childLanes)),s){if(r)return il(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(Vi,Vi.current),r)break;return null;case 22:return t.lanes=0,Uo(e,t,n,t.pendingProps);case 24:Ts(0,Us,e.memoizedState.cache)}return al(e,t,n)}(e,t,n);Mo=!!(131072&e.flags)}else Mo=!1,ms&&1048576&t.flags&&os(t,es,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ii(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var s=e.$$typeof;if(s===w){t.tag=11,t=Do(null,t,e,r,n);break e}if(s===k){t.tag=14,t=Fo(null,t,e,r,n);break e}}throw t=O(e)||e,Error(i(306,t,""))}Vr(e)?(r=ko(e,r),t.tag=1,t=Ko(null,t,e,r,n)):(t.tag=0,t=Wo(null,t,e,r,n))}return t;case 0:return Wo(e,t,t.type,t.pendingProps,n);case 1:return Ko(e,t,r=t.type,s=ko(r,t.pendingProps),n);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var a=t.memoizedState;s=a.element,vi(e,t),Ei(t,r,null,n);var o=t.memoizedState;if(r=o.cache,Ts(0,Us,r),r!==a.cache&&Is(t,[Us],n,!0),ki(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Qo(e,t,r,n);break e}if(r!==s){js(s=Yr(Error(i(424)),t)),t=Qo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(hs=Md(e.firstChild),ds=t,ms=!0,ps=null,fs=!0,n=gi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ws(),r===s){t=al(e,t,n);break e}Ro(e,t,r,n)}t=t.child}return t;case 26:return Ho(e,t),null===e?(n=Gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ms||(n=t.type,e=t.pendingProps,(r=xd(K.current).createElement(n))[qe]=t,r[$e]=e,pd(r,n,e),nt(r),t.stateNode=r):t.memoizedState=Gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&ms&&(r=t.stateNode=zd(t.type,t.pendingProps,K.current),ds=t,fs=!0,s=hs,Cd(t.type)?(Rd=s,hs=Md(r.firstChild)):hs=s),Ro(e,t,t.pendingProps.children,n),Ho(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ms&&((s=r=hs)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ye])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===i)return e}if(null===(e=Md(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fs))?(t.stateNode=r,ds=t,hs=Md(r.firstChild),fs=!1,s=!0):s=!1),s||ys(t)),J(t),s=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,wd(s,a)?r=null:null!==o&&wd(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=na(e,t,ia,null,null,n),hh._currentValue=s),Ho(e,t),Ro(e,t,r,n),t.child;case 6:return null===e&&ms&&((e=n=hs)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Md(e.nextSibling)))return null}return e}(n,t.pendingProps,fs))?(t.stateNode=n,ds=t,hs=null,e=!0):e=!1),e||ys(t)),null;case 13:return Zo(e,t,n);case 4:return Y(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fi(t,null,r,n):Ro(e,t,r,n),t.child;case 11:return Do(e,t,t.type,t.pendingProps,n);case 7:return Ro(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ro(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ts(0,t.type,r.value),Ro(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,Ls(t),r=r(s=Os(s)),t.flags|=1,Ro(e,t,r,n),t.child;case 14:return Fo(e,t,t.type,t.pendingProps,n);case 15:return zo(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,s=!!(128&t.flags);if(t.flags&=-129,null===e){if(ms){if("hidden"===r.mode)return e=qo(t,r),t.lanes=536870912,Vo(null,e);if(Di(t),(e=hs)?null!==(e=null!==(e=Ad(e,fs))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==rs?{id:ss,overflow:is}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,ds=t,hs=null):e=null,null===e)throw ys(t);return t.lanes=536870912,null}return qo(t,r)}var a=e.memoizedState;if(null!==a){var o=a.dehydrated;if(Di(t),s)if(256&t.flags)t.flags&=-257,t=$o(e,t,n);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(Mo||Ps(e,t,n,!1),s=0!==(n&e.childLanes),Mo||s){if(null!==(r=gc)&&0!==(o=De(r,n))&&o!==a.retryLane)throw a.retryLane=o,Mr(e,o),Yc(r,e,o),Oo;lu(),t=$o(e,t,n)}else e=a.treeContext,hs=Md(o.nextSibling),ds=t,ms=!0,ps=null,fs=!1,null!==e&&us(t,e),(t=qo(t,r)).flags|=4096;return t}return(e=Br(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Uo(e,t,n,t.pendingProps);case 24:return Ls(t),r=Os(Us),null===e?(null===(s=Ys())&&(s=gc,a=Vs(),s.pooledCache=a,a.refCount++,null!==a&&(s.pooledCacheLanes|=n),s=a),t.memoizedState={parent:r,cache:s},xi(t),Ts(0,Us,s)):(0!==(e.lanes&n)&&(vi(e,t),Ei(t,null,null,n),ki()),s=e.memoizedState,a=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),Ts(0,Us,r)):(r=a.cache,Ts(0,Us,r),r!==s.cache&&Is(t,[Us],n,!0))),Ro(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function cl(e){e.flags|=4}function ul(e,t,n,r,s){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&s)===s)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw ai=ni,ei;e.flags|=8192}}else e.flags&=-16777217}function dl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!ah(t)){if(!iu())throw ai=ni,ei;e.flags|=8192}}function hl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ae():536870912,e.lanes|=t,Ic|=t)}function ml(e,t){if(!ms)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=65011712&s.subtreeFlags,r|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(cs(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return pl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Cs(Us),X(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bs(t)?cl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Ns())),pl(t),null;case 26:var s=t.type,a=t.memoizedState;return null===e?(cl(t),null!==a?(pl(t),dl(t,a)):(pl(t),ul(t,s,0,0,n))):a?a!==e.memoizedState?(cl(t),pl(t),dl(t,a)):(pl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&cl(t),pl(t),ul(t,s,0,0,n)),null;case 27:if(Z(t),n=K.current,s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&cl(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return pl(t),null}e=W.current,bs(t)?xs(t):(e=zd(s,r,n),t.stateNode=e,cl(t))}return pl(t),null;case 5:if(Z(t),s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&cl(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return pl(t),null}if(a=W.current,bs(t))xs(t);else{var o=xd(K.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":(a=o.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"==typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"==typeof r.is?o.createElement(s,{is:r.is}):o.createElement(s)}}a[qe]=t,a[$e]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)a.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=a;e:switch(pd(a,s,r),s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&cl(t)}}return pl(t),ul(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&cl(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(e=K.current,bs(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(s=ds))switch(s.tag){case 27:case 5:r=s.memoizedProps}e[qe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||dd(e.nodeValue,n)))||ys(t,!0)}else(e=xd(e).createTextNode(r))[qe]=t,t.stateNode=e}return pl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bs(t),null!==n){if(null===e){if(!r)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[qe]=t}else ws(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),e=!1}else n=Ns(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ui(t),t):(Ui(t),null);if(128&t.flags)throw Error(i(558))}return pl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=bs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[qe]=t}else ws(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),s=!1}else s=Ns(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(Ui(t),t):(Ui(t),null)}return Ui(t),128&t.flags?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(s=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(s=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==s&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),hl(t,t.updateQueue),pl(t),null);case 4:return X(),null===e&&td(t.stateNode.containerInfo),pl(t),null;case 10:return Cs(t.type),pl(t),null;case 19:if(B(Vi),null===(r=t.memoizedState))return pl(t),null;if(s=!!(128&t.flags),null===(a=r.rendering))if(s)ml(r,!1);else{if(0!==kc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=Bi(e))){for(t.flags|=128,ml(r,!1),e=a.updateQueue,t.updateQueue=e,hl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)qr(n,e),n=n.sibling;return q(Vi,1&Vi.current|2),ms&&as(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&ue()>Rc&&(t.flags|=128,s=!0,ml(r,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=Bi(a))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,hl(t,e),ml(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!ms)return pl(t),null}else 2*ue()-r.renderingStartTime>Rc&&536870912!==n&&(t.flags|=128,s=!0,ml(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ue(),e.sibling=null,n=Vi.current,q(Vi,s?1&n|2:1&n),ms&&as(t,r.treeForkCount),e):(pl(t),null);case 22:case 23:return Ui(t),Li(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(pl(t),6&t.subtreeFlags&&(t.flags|=8192)):pl(t),null!==(n=t.updateQueue)&&hl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Qs),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Cs(Us),pl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function gl(e,t){switch(cs(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Cs(Us),X(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 31:if(null!==t.memoizedState){if(Ui(t),null===t.alternate)throw Error(i(340));ws()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ui(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ws()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(Vi),null;case 4:return X(),null;case 10:return Cs(t.type),null;case 22:case 23:return Ui(t),Li(),null!==e&&B(Qs),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Cs(Us),null;default:return null}}function yl(e,t){switch(cs(t),t.tag){case 3:Cs(Us),X();break;case 26:case 27:case 5:Z(t);break;case 4:X();break;case 31:null!==t.memoizedState&&Ui(t);break;case 13:Ui(t);break;case 19:B(Vi);break;case 10:Cs(t.type);break;case 22:case 23:Ui(t),Li(),null!==e&&B(Qs);break;case 24:Cs(Us)}}function xl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==s)}}catch(o){ku(t,t.return,o)}}function vl(e,t,n){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var i=s.next;r=i;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,s=t;var l=n,c=o;try{c()}catch(u){ku(s,l,u)}}}r=r.next}while(r!==i)}}catch(u){ku(t,t.return,u)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ci(t,n)}catch(r){ku(e,e.return,r)}}}function wl(e,t,n){n.props=ko(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ku(e,t,r)}}function Nl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(s){ku(e,t,s)}}function jl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(s){ku(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(i){ku(e,t,i)}else n.current=null}function Sl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){ku(e,e.return,s)}}function kl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||hd(e,t,p,null,r,h)}}for(var m in r){var p=r[m];if(h=n[m],r.hasOwnProperty(m)&&(null!=p||null!=h))switch(m){case"type":a=p;break;case"name":s=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:p!==h&&hd(e,t,m,p,r,h)}}return void bt(e,o,l,c,u,d,a,s);case"select":for(a in p=o=l=m=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||hd(e,t,a,null,r,c)}for(s in r)if(a=r[s],c=n[s],r.hasOwnProperty(s)&&(null!=a||null!=c))switch(s){case"value":m=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&hd(e,t,s,a,r,c)}return t=l,n=o,r=p,void(null!=m?jt(e,!!n,m,!1):!!r!=!!n&&(null!=t?jt(e,!!n,t,!0):jt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=m=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:hd(e,t,l,null,r,s)}for(o in r)if(s=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=s||null!=a))switch(o){case"value":m=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(i(91));break;default:s!==a&&hd(e,t,o,s,r,a)}return void St(e,m,p);case"option":for(var f in n)if(m=n[f],n.hasOwnProperty(f)&&null!=m&&!r.hasOwnProperty(f))if("selected"===f)e.selected=!1;else hd(e,t,f,null,r,m);for(c in r)if(m=r[c],p=n[c],r.hasOwnProperty(c)&&m!==p&&(null!=m||null!=p))if("selected"===c)e.selected=m&&"function"!=typeof m&&"symbol"!=typeof m;else hd(e,t,c,m,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!r.hasOwnProperty(g)&&hd(e,t,g,null,r,m);for(u in r)if(m=r[u],p=n[u],r.hasOwnProperty(u)&&m!==p&&(null!=m||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:hd(e,t,u,m,r,p)}return;default:if(It(t)){for(var y in n)m=n[y],n.hasOwnProperty(y)&&void 0!==m&&!r.hasOwnProperty(y)&&md(e,t,y,void 0,r,m);for(d in r)m=r[d],p=n[d],!r.hasOwnProperty(d)||m===p||void 0===m&&void 0===p||md(e,t,d,m,r,p);return}}for(var x in n)m=n[x],n.hasOwnProperty(x)&&null!=m&&!r.hasOwnProperty(x)&&hd(e,t,x,null,r,m);for(h in r)m=r[h],p=n[h],!r.hasOwnProperty(h)||m===p||null==m&&null==p||hd(e,t,h,m,r,p)}(r,e.type,n,t),r[$e]=t}catch(s){ku(e,e.return,s)}}function El(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cd(e.type)||4===e.tag}function Tl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||El(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ot));else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function _l(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(_l(e,t,n),e=e.sibling;null!==e;)_l(e,t,n),e=e.sibling}function Il(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);pd(t,r,n),t[qe]=e,t[$e]=n}catch(i){ku(e,e.return,i)}}var Pl=!1,Al=!1,Ll=!1,Ol="function"==typeof WeakSet?WeakSet:Set,Ml=null;function Rl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Yl(e,n),4&r&&xl(5,n);break;case 1:if(Yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){ku(n,n.return,a)}else{var s=ko(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){ku(n,n.return,o)}}64&r&&bl(n),512&r&&Nl(n,n.return);break;case 3:if(Yl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ci(e,t)}catch(a){ku(n,n.return,a)}}break;case 27:null===t&&4&r&&Il(n);case 26:case 5:Yl(e,n),null===t&&4&r&&Sl(n),512&r&&Nl(n,n.return);break;case 12:Yl(e,n);break;case 31:Yl(e,n),4&r&&Bl(e,n);break;case 13:Yl(e,n),4&r&&ql(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=_u.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Pl)){t=null!==t&&null!==t.memoizedState||Al,s=Pl;var i=Al;Pl=r,(Al=t)&&!i?Jl(e,n,!!(8772&n.subtreeFlags)):Yl(e,n),Pl=s,Al=i}break;case 30:break;default:Yl(e,n)}}function Dl(e){var t=e.alternate;null!==t&&(e.alternate=null,Dl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Xe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fl=null,zl=!1;function Ul(e,t,n){for(n=n.child;null!==n;)Vl(e,t,n),n=n.sibling}function Vl(e,t,n){if(be&&"function"==typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ve,n)}catch(i){}switch(n.tag){case 26:Al||jl(n,t),Ul(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Al||jl(n,t);var r=Fl,s=zl;Cd(n.type)&&(Fl=n.stateNode,zl=!1),Ul(e,t,n),Ud(n.stateNode),Fl=r,zl=s;break;case 5:Al||jl(n,t);case 6:if(r=Fl,s=zl,Fl=null,Ul(e,t,n),zl=s,null!==(Fl=r))if(zl)try{(9===Fl.nodeType?Fl.body:"HTML"===Fl.nodeName?Fl.ownerDocument.body:Fl).removeChild(n.stateNode)}catch(a){ku(n,t,a)}else try{Fl.removeChild(n.stateNode)}catch(a){ku(n,t,a)}break;case 18:null!==Fl&&(zl?(_d(9===(e=Fl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wh(e)):_d(Fl,n.stateNode));break;case 4:r=Fl,s=zl,Fl=n.stateNode.containerInfo,zl=!0,Ul(e,t,n),Fl=r,zl=s;break;case 0:case 11:case 14:case 15:vl(2,n,t),Al||vl(4,n,t),Ul(e,t,n);break;case 1:Al||(jl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),Ul(e,t,n);break;case 21:Ul(e,t,n);break;case 22:Al=(r=Al)||null!==n.memoizedState,Ul(e,t,n),Al=r;break;default:Ul(e,t,n)}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wh(e)}catch(n){ku(t,t.return,n)}}}function ql(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wh(e)}catch(n){ku(t,t.return,n)}}function $l(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ol),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ol),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Iu.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Cd(l.type)){Fl=l.stateNode,zl=!1;break e}break;case 5:Fl=l.stateNode,zl=!1;break e;case 3:case 4:Fl=l.stateNode.containerInfo,zl=!0;break e}l=l.return}if(null===Fl)throw Error(i(160));Vl(a,o,s),Fl=null,zl=!1,null!==(a=s.alternate)&&(a.return=null),s.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Gl(t,e),t=t.sibling}var Wl=null;function Gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Kl(e),4&r&&(vl(3,e,e.return),xl(3,e),vl(5,e,e.return));break;case 1:Hl(t,e),Kl(e),512&r&&(Al||null===n||jl(n,n.return)),64&r&&Pl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var s=Wl;if(Hl(t,e),Kl(e),512&r&&(Al||null===n||jl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":(!(a=s.getElementsByTagName("title")[0])||a[Ye]||a[qe]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=s.createElement(r),s.head.insertBefore(a,s.querySelector("head > title"))),pd(a,r,n),a[qe]=e,nt(a),r=a;break e;case"link":var o=sh("link","href",s).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}pd(a=s.createElement(r),r,n),s.head.appendChild(a);break;case"meta":if(o=sh("meta","content",s).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}pd(a=s.createElement(r),r,n),s.head.appendChild(a);break;default:throw Error(i(468,r))}a[qe]=e,nt(a),r=a}e.stateNode=r}else ih(s,e.type,e.stateNode);else e.stateNode=Zd(s,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?ih(s,e.type,e.stateNode):Zd(s,r,e.memoizedProps)):null===r&&null!==e.stateNode&&kl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Kl(e),512&r&&(Al||null===n||jl(n,n.return)),null!==n&&4&r&&kl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Kl(e),512&r&&(Al||null===n||jl(n,n.return)),32&e.flags){s=e.stateNode;try{Et(s,"")}catch(f){ku(e,e.return,f)}}4&r&&null!=e.stateNode&&kl(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&r&&(Ll=!0);break;case 6:if(Hl(t,e),Kl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){ku(e,e.return,f)}}break;case 3:if(rh=null,s=Wl,Wl=qd(t.containerInfo),Hl(t,e),Wl=s,Kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wh(t.containerInfo)}catch(f){ku(e,e.return,f)}Ll&&(Ll=!1,Ql(e));break;case 4:r=Wl,Wl=qd(e.stateNode.containerInfo),Hl(t,e),Kl(e),Wl=r;break;case 12:default:Hl(t,e),Kl(e);break;case 31:case 19:Hl(t,e),Kl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,$l(e,r)));break;case 13:Hl(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Oc=ue()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,$l(e,r)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Pl,d=Al;if(Pl=u||s,Al=d||c,Hl(t,e),Al=d,Pl=u,Kl(e),8192&r)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||Pl||Al||Xl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,s)"function"==typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==m||"boolean"==typeof m?"":(""+m).trim()}}catch(f){ku(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(f){ku(c,c.return,f)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;s?Id(p,!0):Id(c.stateNode,!1)}catch(f){ku(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,$l(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(El(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var s=n.stateNode;_l(e,Tl(e),s);break;case 5:var a=n.stateNode;32&n.flags&&(Et(a,""),n.flags&=-33),_l(e,Tl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;Cl(e,Tl(e),o);break;default:throw Error(i(161))}}catch(l){ku(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Rl(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Xl(t);break;case 1:jl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&wl(t,t.return,n),Xl(t);break;case 27:Ud(t.stateNode);case 26:case 5:jl(t,t.return),Xl(t);break;case 22:null===t.memoizedState&&Xl(t);break;default:Xl(t)}e=e.sibling}}function Jl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,s=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:Jl(s,i,n),xl(4,i);break;case 1:if(Jl(s,i,n),"function"==typeof(s=(r=i).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){ku(r,r.return,c)}if(null!==(s=(r=i).updateQueue)){var o=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)Ti(l[s],o)}catch(c){ku(r,r.return,c)}}n&&64&a&&bl(i),Nl(i,i.return);break;case 27:Il(i);case 26:case 5:Jl(s,i,n),n&&null===r&&4&a&&Sl(i),Nl(i,i.return);break;case 12:Jl(s,i,n);break;case 31:Jl(s,i,n),n&&4&a&&Bl(s,i);break;case 13:Jl(s,i,n),n&&4&a&&ql(s,i);break;case 22:null===i.memoizedState&&Jl(s,i,n),Nl(i,i.return);break;case 30:break;default:Jl(s,i,n)}t=t.sibling}}function Zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bs(n))}function ec(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bs(e))}function tc(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)nc(e,t,n,r),t=t.sibling}function nc(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:tc(e,t,n,r),2048&s&&xl(9,t);break;case 1:case 31:case 13:default:tc(e,t,n,r);break;case 3:tc(e,t,n,r),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bs(e)));break;case 12:if(2048&s){tc(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,o=i.onPostCommit;"function"==typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ku(t,t.return,l)}}else tc(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?tc(e,t,n,r):sc(e,t):2&i._visibility?tc(e,t,n,r):(i._visibility|=2,rc(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&s&&Zl(a,t);break;case 24:tc(e,t,n,r),2048&s&&ec(t.alternate,t)}}function rc(e,t,n,r,s){for(s=s&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:rc(i,a,o,l,s),xl(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?rc(i,a,o,l,s):sc(i,a):(u._visibility|=2,rc(i,a,o,l,s)),s&&2048&c&&Zl(a.alternate,a);break;case 24:rc(i,a,o,l,s),s&&2048&c&&ec(a.alternate,a);break;default:rc(i,a,o,l,s)}t=t.sibling}}function sc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:sc(n,r),2048&s&&Zl(r.alternate,r);break;case 24:sc(n,r),2048&s&&ec(r.alternate,r);break;default:sc(n,r)}t=t.sibling}}var ic=8192;function ac(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)oc(e,t,n),e=e.sibling}function oc(e,t,n){switch(e.tag){case 26:ac(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var s=Kd(r.href),i=t.querySelector(Qd(s));if(i)return null!==(t=i._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=lh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void nt(i);i=t.ownerDocument||t,r=Yd(r),(s=Vd.get(s))&&th(r,s),nt(i=i.createElement("link"));var a=i;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),pd(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=lh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Wl,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,n);break;case 3:case 4:var r=Wl;Wl=qd(e.stateNode.containerInfo),ac(e,t,n),Wl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ic,ic=16777216,ac(e,t,n),ic=r):ac(e,t,n))}}function lc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function cc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ml=r,hc(r,e)}lc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)uc(e),e=e.sibling}function uc(e){switch(e.tag){case 0:case 11:case 15:cc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:cc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,dc(e)):cc(e)}}function dc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ml=r,hc(r,e)}lc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),dc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,dc(t));break;default:dc(t)}e=e.sibling}}function hc(e,t){for(;null!==Ml;){var n=Ml;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bs(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ml=r;else e:for(n=e;null!==Ml;){var s=(r=Ml).sibling,i=r.return;if(Dl(r),r===n){Ml=null;break e}if(null!==s){s.return=i,Ml=s;break e}Ml=i}}}var mc={getCacheForType:function(e){var t=Os(Us),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Os(Us).controller.signal}},pc="function"==typeof WeakMap?WeakMap:Map,fc=0,gc=null,yc=null,xc=0,vc=0,bc=null,wc=!1,Nc=!1,jc=!1,Sc=0,kc=0,Ec=0,Tc=0,Cc=0,_c=0,Ic=0,Pc=null,Ac=null,Lc=!1,Oc=0,Mc=0,Rc=1/0,Dc=null,Fc=null,zc=0,Uc=null,Vc=null,Bc=0,qc=0,$c=null,Hc=null,Wc=0,Gc=null;function Kc(){return 2&fc&&0!==xc?xc&-xc:null!==R.T?$u():Ue()}function Qc(){if(0===_c)if(536870912&xc&&!ms)_c=536870912;else{var e=Ee;!(3932160&(Ee<<=1))&&(Ee=262144),_c=e}return null!==(e=Oi.current)&&(e.flags|=32),_c}function Yc(e,t,n){(e!==gc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(ru(e,0),eu(e,xc,_c,!1)),Oe(e,n),2&fc&&e===gc||(e===gc&&(!(2&fc)&&(Tc|=n),4===kc&&eu(e,xc,_c,!1)),Du(e))}function Xc(e,t,n){if(6&fc)throw Error(i(327));for(var r=!n&&!(127&t)&&0===(t&e.expiredLanes)||Ie(e,t),s=r?function(e,t){var n=fc;fc|=2;var r=au(),s=ou();gc!==e||xc!==t?(Dc=null,Rc=ue()+500,ru(e,t)):Nc=Ie(e,t);e:for(;;)try{if(0!==vc&&null!==yc){t=yc;var a=bc;t:switch(vc){case 1:vc=0,bc=null,pu(e,t,a,1);break;case 2:case 9:if(ri(a)){vc=0,bc=null,mu(t);break}t=function(){2!==vc&&9!==vc||gc!==e||(vc=7),Du(e)},a.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ri(a)?(vc=0,bc=null,mu(t)):(vc=0,bc=null,pu(e,t,a,7));break;case 5:var o=null;switch(yc.tag){case 26:o=yc.memoizedState;case 5:case 27:var l=yc;if(o?ah(o):l.stateNode.complete){vc=0,bc=null;var c=l.sibling;if(null!==c)yc=c;else{var u=l.return;null!==u?(yc=u,fu(u)):yc=null}break t}}vc=0,bc=null,pu(e,t,a,5);break;case 6:vc=0,bc=null,pu(e,t,a,6);break;case 8:nu(),kc=6;break e;default:throw Error(i(462))}}du();break}catch(d){su(e,d)}return Es=ks=null,R.H=r,R.A=s,fc=n,null!==yc?0:(gc=null,xc=0,Ar(),kc)}(e,t):cu(e,t,!0),a=r;;){if(0===s){Nc&&!r&&eu(e,t,0,!1);break}if(n=e.current.alternate,!a||Zc(n)){if(2===s){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=Pc;var c=l.current.memoizedState.isDehydrated;if(c&&(ru(l,o).flags|=256),2!==(o=cu(l,o,!1))){if(jc&&!c){l.errorRecoveryDisabledLanes|=a,Tc|=a,s=4;break e}a=Ac,Ac=s,null!==a&&(null===Ac?Ac=a:Ac.push.apply(Ac,a))}s=o}if(a=!1,2!==s)continue}}if(1===s){ru(e,0),eu(e,t,0,!0);break}e:{switch(r=e,a=s){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:eu(r,t,_c,!wc);break e;case 2:Ac=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(s=Oc+300-ue())){if(eu(r,t,_c,!wc),0!==_e(r,0,!0))break e;Bc=t,r.timeoutHandle=jd(Jc.bind(null,r,n,Ac,Dc,Lc,t,_c,Tc,Ic,wc,a,"Throttled",-0,0),s)}else Jc(r,n,Ac,Dc,Lc,t,_c,Tc,Ic,wc,a,null,-0,0)}break}s=cu(e,t,!1),a=!1}Du(e)}function Jc(e,t,n,r,s,i,a,o,l,c,u,d,h,m){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){oc(t,i,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ot});var p=(62914560&i)===i?Oc-ue():(4194048&i)===i?Mc-ue():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&uh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&uh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===oh&&(oh=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var s=n[r],i=s.transferSize,a=s.initiatorType,o=s.duration;if(i&&o&&fd(a)){for(a=0,o=s.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&fd(d)&&(a+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(i+a)/(s.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var s=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&uh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>oh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(s)}}:null}(d,p)))return Bc=i,e.cancelPendingCommit=p(yu.bind(null,e,t,i,n,r,s,a,o,l,u,d,null,h,m)),void eu(e,i,a,!c)}yu(e,t,i,n,r,s,a,o,l)}function Zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!er(i(),s))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function eu(e,t,n,r){t&=~Cc,t&=~Tc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var i=31-Ne(s),a=1<<i;r[i]=-1,s&=~a}0!==n&&Me(e,n,t)}function tu(){return!!(6&fc)||(Fu(0),!1)}function nu(){if(null!==yc){if(0===vc)var e=yc.return;else Es=ks=null,la(e=yc),ci=null,ui=0,e=yc;for(;null!==e;)yl(e.alternate,e),e=e.return;yc=null}}function ru(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Sd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc=0,nu(),gc=e,yc=n=Br(e.current,null),xc=t,vc=0,bc=null,wc=!1,Nc=Ie(e,t),jc=!1,Ic=_c=Cc=Tc=Ec=kc=0,Ac=Pc=null,Lc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var s=31-Ne(r),i=1<<s;t|=e[s],r&=~i}return Sc=t,Ar(),n}function su(e,t){$i=null,R.H=yo,t===Zs||t===ti?(t=oi(),vc=3):t===ei?(t=oi(),vc=4):vc=t===Oo?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,bc=t,null===yc&&(kc=1,_o(e,Yr(t,e.current)))}function iu(){var e=Oi.current;return null===e||((4194048&xc)===xc?null===Mi:!!((62914560&xc)===xc||536870912&xc)&&e===Mi)}function au(){var e=R.H;return R.H=yo,null===e?yo:e}function ou(){var e=R.A;return R.A=mc,e}function lu(){kc=4,wc||(4194048&xc)!==xc&&null!==Oi.current||(Nc=!0),!(134217727&Ec)&&!(134217727&Tc)||null===gc||eu(gc,xc,_c,!1)}function cu(e,t,n){var r=fc;fc|=2;var s=au(),i=ou();gc===e&&xc===t||(Dc=null,ru(e,t)),t=!1;var a=kc;e:for(;;)try{if(0!==vc&&null!==yc){var o=yc,l=bc;switch(vc){case 8:nu(),a=6;break e;case 3:case 2:case 9:case 6:null===Oi.current&&(t=!0);var c=vc;if(vc=0,bc=null,pu(e,o,l,c),n&&Nc){a=0;break e}break;default:c=vc,vc=0,bc=null,pu(e,o,l,c)}}uu(),a=kc;break}catch(u){su(e,u)}return t&&e.shellSuspendCounter++,Es=ks=null,fc=r,R.H=s,R.A=i,null===yc&&(gc=null,xc=0,Ar()),a}function uu(){for(;null!==yc;)hu(yc)}function du(){for(;null!==yc&&!le();)hu(yc)}function hu(e){var t=ll(e.alternate,e,Sc);e.memoizedProps=e.pendingProps,null===t?fu(e):yc=t}function mu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Go(n,t,t.pendingProps,t.type,void 0,xc);break;case 11:t=Go(n,t,t.pendingProps,t.type.render,t.ref,xc);break;case 5:la(t);default:yl(n,t),t=ll(n,t=yc=qr(t,Sc),Sc)}e.memoizedProps=e.pendingProps,null===t?fu(e):yc=t}function pu(e,t,n,r){Es=ks=null,la(t),ci=null,ui=0;var s=t.return;try{if(function(e,t,n,r,s){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Ps(t,n,s,!0),null!==(n=Oi.current)){switch(n.tag){case 31:case 13:return null===Mi?lu():null===n.alternate&&0===kc&&(kc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===ni?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Eu(e,r,s)),!1;case 22:return n.flags|=65536,r===ni?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Eu(e,r,s)),!1}throw Error(i(435,n.tag))}return Eu(e,r,s),lu(),!1}if(ms)return null!==(t=Oi.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==gs&&js(Yr(e=Error(i(422),{cause:r}),n))):(r!==gs&&js(Yr(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,r=Yr(r,n),ji(e,s=Po(e.stateNode,r,s)),4!==kc&&(kc=2)),!1;var a=Error(i(520),{cause:r});if(a=Yr(a,n),null===Pc?Pc=[a]:Pc.push(a),4!==kc&&(kc=2),null===t)return!0;r=Yr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,ji(n,e=Po(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Fc&&Fc.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,Lo(s=Ao(s),e,n,r),ji(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,xc))return kc=1,_o(e,Yr(n,e.current)),void(yc=null)}catch(a){if(null!==s)throw yc=s,a;return kc=1,_o(e,Yr(n,e.current)),void(yc=null)}32768&t.flags?(ms||1===r?e=!0:Nc||536870912&xc?e=!1:(wc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Oi.current)&&13===r.tag&&(r.flags|=16384))),gu(t,e)):fu(t)}function fu(e){var t=e;do{if(32768&t.flags)return void gu(t,wc);e=t.return;var n=fl(t.alternate,t,Sc);if(null!==n)return void(yc=n);if(null!==(t=t.sibling))return void(yc=t);yc=t=e}while(null!==t);0===kc&&(kc=5)}function gu(e,t){do{var n=gl(e.alternate,e);if(null!==n)return n.flags&=32767,void(yc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(yc=e);yc=e=n}while(null!==e);kc=6,yc=null}function yu(e,t,n,r,s,a,o,l,c){e.cancelPendingCommit=null;do{Nu()}while(0!==zc);if(6&fc)throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,s,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-Ne(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var m=h[u];null!==m&&(m.lane&=-536870913)}n&=~d}0!==r&&Me(e,r,0),0!==i&&0===s&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,a|=Pr,o,l,c),e===gc&&(yc=gc=null,xc=0),Vc=t,Uc=e,Bc=n,qc=a,$c=s,Hc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,ae(pe,function(){return ju(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=R.T,R.T=null,s=D.p,D.p=2,o=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,gd=wh,ar(e=ir(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=o),m===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yd={focusedElem:e,selectionRange:n},wh=!1,Ml=t;null!==Ml;)if(e=(t=Ml).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ml=e;else for(;null!==Ml;){switch(a=(t=Ml).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(s=e[n]).ref.impl=s.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,s=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var f=ko(n.type,s);e=r.getSnapshotBeforeUpdate(f,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){ku(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Ml=e;break}Ml=t.return}}(e,t)}finally{fc=o,D.p=s,R.T=r}}zc=1,xu(),vu(),bu()}}function xu(){if(1===zc){zc=0;var e=Uc,t=Vc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=R.T,R.T=null;var r=D.p;D.p=2;var s=fc;fc|=4;try{Gl(t,e);var i=yd,a=ir(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(a!==o&&o&&o.ownerDocument&&sr(o.ownerDocument.documentElement,o)){if(null!==l&&ar(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),p=o.textContent.length,f=Math.min(l.start,p),g=void 0===l.end?f:Math.min(l.end,p);!m.extend&&f>g&&(a=g,g=f,f=a);var y=rr(o,f),x=rr(o,g);if(y&&x&&(1!==m.rangeCount||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==x.node||m.focusOffset!==x.offset)){var v=d.createRange();v.setStart(y.node,y.offset),m.removeAllRanges(),f>g?(m.addRange(v),m.extend(x.node,x.offset)):(v.setEnd(x.node,x.offset),m.addRange(v))}}}}for(d=[],m=o;m=m.parentNode;)1===m.nodeType&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<d.length;o++){var b=d[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}wh=!!gd,yd=gd=null}finally{fc=s,D.p=r,R.T=n}}e.current=t,zc=2}}function vu(){if(2===zc){zc=0;var e=Uc,t=Vc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=R.T,R.T=null;var r=D.p;D.p=2;var s=fc;fc|=4;try{Rl(e,t.alternate,t)}finally{fc=s,D.p=r,R.T=n}}zc=3}}function bu(){if(4===zc||3===zc){zc=0,ce();var e=Uc,t=Vc,n=Bc,r=Hc;10256&t.subtreeFlags||10256&t.flags?zc=5:(zc=0,Vc=Uc=null,wu(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Fc=null),ze(n),t=t.stateNode,be&&"function"==typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ve,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=R.T,s=D.p,D.p=2,R.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];i(o.value,{componentStack:o.stack})}}finally{R.T=t,D.p=s}}3&Bc&&Nu(),Du(e),s=e.pendingLanes,261930&n&&42&s?e===Gc?Wc++:(Wc=0,Gc=e):Wc=0,Fu(0)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bs(t)))}function Nu(){return xu(),vu(),bu(),ju()}function ju(){if(5!==zc)return!1;var e=Uc,t=qc;qc=0;var n=ze(Bc),r=R.T,s=D.p;try{D.p=32>n?32:n,R.T=null,n=$c,$c=null;var a=Uc,o=Bc;if(zc=0,Vc=Uc=null,Bc=0,6&fc)throw Error(i(331));var l=fc;if(fc|=4,uc(a.current),nc(a,a.current,o,n),fc=l,Fu(0,!1),be&&"function"==typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ve,a)}catch(c){}return!0}finally{D.p=s,R.T=r,wu(e,t)}}function Su(e,t,n){t=Yr(n,t),null!==(e=wi(e,t=Po(e.stateNode,t,2),2))&&(Oe(e,2),Du(e))}function ku(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fc||!Fc.has(r))){e=Yr(n,e),null!==(r=wi(t,n=Ao(2),2))&&(Lo(n,r,t,e),Oe(r,2),Du(r));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pc;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(jc=!0,s.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gc===e&&(xc&n)===n&&(4===kc||3===kc&&(62914560&xc)===xc&&300>ue()-Oc?!(2&fc)&&ru(e,0):Cc|=n,Ic===xc&&(Ic=0)),Du(e)}function Cu(e,t){0===t&&(t=Ae()),null!==(e=Mr(e,t))&&(Oe(e,t),Du(e))}function _u(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cu(e,n)}var Pu=null,Au=null,Lu=!1,Ou=!1,Mu=!1,Ru=0;function Du(e){e!==Au&&null===e.next&&(null===Au?Pu=Au=e:Au=Au.next=e),Ou=!0,Lu||(Lu=!0,Ed(function(){6&fc?ae(he,zu):Uu()}))}function Fu(e,t){if(!Mu&&Ou){Mu=!0;do{for(var n=!1,r=Pu;null!==r;){if(0!==e){var s=r.pendingLanes;if(0===s)var i=0;else{var a=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-Ne(42|e)+1)-1,i=201326741&(i&=s&~(a&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,qu(r,i))}else i=xc,!(3&(i=_e(r,r===gc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ie(r,i)||(n=!0,qu(r,i));r=r.next}}while(n);Mu=!1}}function zu(){Uu()}function Uu(){Ou=Lu=!1;var e=0;0!==Ru&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Nd&&(Nd=e,!0);return Nd=null,!1}()&&(e=Ru);for(var t=ue(),n=null,r=Pu;null!==r;){var s=r.next,i=Vu(r,t);0===i?(r.next=null,null===n?Pu=s:n.next=s,null===s&&(Au=n)):(n=r,(0!==e||3&i)&&(Ou=!0)),r=s}0!==zc&&5!==zc||Fu(e),0!==Ru&&(Ru=0)}function Vu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-Ne(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=Pe(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=xc,n=_e(e,e===(t=gc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Ie(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),ze(n)){case 2:case 8:n=me;break;case 32:default:n=pe;break;case 268435456:n=ge}return r=Bu.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function Bu(e,t){if(0!==zc&&5!==zc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Nu()&&e.callbackNode!==n)return null;var r=xc;return 0===(r=_e(e,e===gc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xc(e,r,t),Vu(e,ue()),null!=e.callbackNode&&e.callbackNode===n?Bu.bind(null,e):null)}function qu(e,t){if(Nu())return null;Xc(e,t,!0)}function $u(){if(0===Ru){var e=Hs;0===e&&(e=ke,!(261888&(ke<<=1))&&(ke=256)),Ru=e}return Ru}function Hu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Lt(""+e)}function Wu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Gu=0;Gu<Er.length;Gu++){var Ku=Er[Gu];Tr(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}Tr(xr,"onAnimationEnd"),Tr(vr,"onAnimationIteration"),Tr(br,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(wr,"onTransitionRun"),Tr(Nr,"onTransitionStart"),Tr(jr,"onTransitionCancel"),Tr(Sr,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),it("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),it("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),it("onBeforeInput",["compositionend","keypress","textInput","paste"]),it("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Xu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){Cr(u)}s.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){Cr(u)}s.currentTarget=null,i=l}}}}function Ju(e,t){var n=t[We];void 0===n&&(n=t[We]=new Set);var r=e+"__bubble";n.has(r)||(nd(t,e,2,!1),n.add(r))}function Zu(e,t,n){var r=0;t&&(r|=4),nd(n,e,r,t)}var ed="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[ed]){e[ed]=!0,rt.forEach(function(t){"selectionchange"!==t&&(Yu.has(t)||Zu(t,!1,e),Zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ed]||(t[ed]=!0,Zu("selectionchange",!1,t))}}function nd(e,t,n,r){switch(Ch(t)){case 2:var s=Nh;break;case 8:s=jh;break;default:s=Sh}n=s.bind(null,t,n,e),s=void 0,!$t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function rd(e,t,n,r,s){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===s)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===s)return;a=a.return}for(;null!==l;){if(null===(a=Je(l)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=i=a;continue e}l=l.parentNode}}r=r.return}Vt(function(){var r=i,s=Rt(n),a=[];e:{var l=kr.get(e);if(void 0!==l){var c=sn,u=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":c=bn;break;case"focusin":u="focus",c=dn;break;case"focusout":u="blur",c=dn;break;case"beforeblur":case"afterblur":c=dn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=un;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nn;break;case xr:case vr:case br:c=hn;break;case Sr:c=jn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=Sn;break;case"copy":case"cut":case"paste":c=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=wn;break;case"toggle":case"beforetoggle":c=kn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),m=d?null!==l?l+"Capture":null:l;d=[];for(var p,f=r;null!==f;){var g=f;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===m||null!=(g=Bt(f,m))&&d.push(sd(f,g,p)),h)break;f=f.return}0<d.length&&(l=new c(l,u,null,n,s),a.push({event:l,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Mt||!(u=n.relatedTarget||n.fromElement)||!Je(u)&&!u[He])&&(c||l)&&(l=s.window===s?s:(l=s.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Je(u):null)&&(h=o(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=cn,g="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=wn,g="onPointerLeave",m="onPointerEnter",f="pointer"),h=null==c?l:et(c),p=null==u?l:et(u),(l=new d(g,f+"leave",c,n,s)).target=h,l.relatedTarget=p,g=null,Je(s)===r&&((d=new d(m,f+"enter",u,n,s)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=ad,f=u,p=0,g=m=c;g;g=d(g))p++;g=0;for(var y=f;y;y=d(y))g++;for(;0<p-g;)m=d(m),p--;for(;0<g-p;)f=d(f),g--;for(;p--;){if(m===f||null!==f&&m===f.alternate){d=m;break e}m=d(m),f=d(f)}d=null}else d=null;null!==c&&od(a,l,c,d,!1),null!==u&&null!==h&&od(a,h,u,d,!0)}if("select"===(c=(l=r?et(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var x=qn;else if(Dn(l))if($n)x=Zn;else{x=Xn;var v=Yn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&It(r.elementType)&&(x=qn):x=Jn;switch(x&&(x=x(e,r))?Fn(a,x,n,s):(v&&v(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&Nt(l,"number",l.value)),v=r?et(r):window,e){case"focusin":(Dn(v)||"true"===v.contentEditable)&&(lr=v,cr=r,ur=null);break;case"focusout":ur=cr=lr=null;break;case"mousedown":dr=!0;break;case"contextmenu":case"mouseup":case"dragend":dr=!1,hr(a,n,s);break;case"selectionchange":if(or)break;case"keydown":case"keyup":hr(a,n,s)}var b;if(Tn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Mn?Ln(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(In&&"ko"!==n.locale&&(Mn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Mn&&(b=Qt()):(Gt="value"in(Wt=s)?Wt.value:Wt.textContent,Mn=!0)),0<(v=id(r,w)).length&&(w=new pn(w,e,null,n,s),a.push({event:w,listeners:v}),b?w.data=b:null!==(b=On(n))&&(w.data=b))),(b=_n?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(An=!0,Pn);case"textInput":return(e=t.data)===Pn&&An?null:e;default:return null}}(e,n):function(e,t){if(Mn)return"compositionend"===e||!Tn&&Ln(e,t)?(e=Qt(),Kt=Gt=Wt=null,Mn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=id(r,"onBeforeInput")).length&&(v=new pn("onBeforeInput","beforeinput",null,n,s),a.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,s){if("submit"===t&&n&&n.stateNode===s){var i=Hu((s[$e]||null).action),a=r.submitter;a&&null!==(t=(t=a[$e]||null)?Hu(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var o=new sn("action","action",null,r,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ru){var e=a?Wu(s,a):new FormData(s);no(n,{pending:!0,data:e,method:s.method,action:i},null,e)}}else"function"==typeof i&&(o.preventDefault(),e=a?Wu(s,a):new FormData(s),no(n,{pending:!0,data:e,method:s.method,action:i},i,e))},currentTarget:s}]})}}(a,e,r,n,s)}Xu(a,t)})}function sd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===i||(null!=(s=Bt(e,n))&&r.unshift(sd(e,s,i)),null!=(s=Bt(e,t))&&r.push(sd(e,s,i))),3===e.tag)return r;e=e.return}return[]}function ad(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function od(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,s?null!=(c=Bt(n,i))&&a.unshift(sd(n,c,l)):s||null!=(c=Bt(n,i))&&a.push(sd(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ld=/\r\n?/g,cd=/\u0000|\uFFFD/g;function ud(e){return("string"==typeof e?e:""+e).replace(ld,"\n").replace(cd,"")}function dd(e,t){return t=ud(t),ud(e)===t}function hd(e,t,n,r,s,a){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":dt(e,"class",r);break;case"tabIndex":dt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":dt(e,n,r);break;case"style":_t(e,r,a);break;case"data":if("object"!==t){dt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Lt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&hd(e,t,"name",s.name,s,null),hd(e,t,"formEncType",s.formEncType,s,null),hd(e,t,"formMethod",s.formMethod,s,null),hd(e,t,"formTarget",s.formTarget,s,null)):(hd(e,t,"encType",s.encType,s,null),hd(e,t,"method",s.method,s,null),hd(e,t,"target",s.target,s,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Lt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ot);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Lt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ju("beforetoggle",e),Ju("toggle",e),ut(e,"popover",r);break;case"xlinkActuate":ht(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ht(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ht(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ht(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ht(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ht(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ht(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ht(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ht(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ut(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ut(e,n=Pt.get(n)||n,r)}}function md(e,t,n,r,s,a){switch(n){case"style":_t(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"==typeof r?Et(e,r):("number"==typeof r||"bigint"==typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ot);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:st.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"==typeof(a=null!=(a=e[$e]||null)?a[n]:null)&&e.removeEventListener(t,a,s),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ut(e,n,r):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s)))}}function pd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ju("error",e),Ju("load",e);var r,s=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":s=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:hd(e,t,r,o,n,null)}}return a&&hd(e,t,"srcSet",n.srcSet,n,null),void(s&&hd(e,t,"src",n.src,n,null));case"input":Ju("invalid",e);var l=r=o=a=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:hd(e,t,s,d,n,null)}}return void wt(e,r,l,c,u,o,a,!1);case"select":for(a in Ju("invalid",e),s=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:hd(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!s,void(null!=t?jt(e,!!s,t,!1):null!=n&&jt(e,!!s,n,!0));case"textarea":for(o in Ju("invalid",e),r=a=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:hd(e,t,o,l,n,null)}return void kt(e,s,a,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!=typeof s&&"symbol"!=typeof s;else hd(e,t,c,s,n,null);return;case"dialog":Ju("beforetoggle",e),Ju("toggle",e),Ju("cancel",e),Ju("close",e);break;case"iframe":case"object":Ju("load",e);break;case"video":case"audio":for(s=0;s<Qu.length;s++)Ju(Qu[s],e);break;case"image":Ju("error",e),Ju("load",e);break;case"details":Ju("toggle",e);break;case"embed":case"source":case"link":Ju("error",e),Ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:hd(e,t,u,s,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&md(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&hd(e,t,l,s,n,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gd=null,yd=null;function xd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Nd=null;var jd="function"==typeof setTimeout?setTimeout:void 0,Sd="function"==typeof clearTimeout?clearTimeout:void 0,kd="function"==typeof Promise?Promise:void 0,Ed="function"==typeof queueMicrotask?queueMicrotask:void 0!==kd?function(e){return kd.resolve(null).then(e).catch(Td)}:jd;function Td(e){setTimeout(function(){throw e})}function Cd(e){return"head"===e}function _d(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)||"/&"===n){if(0===r)return e.removeChild(s),void Wh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Ud(e.ownerDocument.documentElement);else if("head"===n){Ud(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var a=i.nextSibling,o=i.nodeName;i[Ye]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=a}}else"body"===n&&Ud(e.ownerDocument.body);n=s}while(n);Wh(t)}function Id(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pd(n),Xe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ad(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Md(e.nextSibling)))return null}return e}function Ld(e){return"$?"===e.data||"$~"===e.data}function Od(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Md(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Rd=null;function Dd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Md(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Fd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function zd(e,t,n){switch(t=xd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function Ud(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xe(e)}var Vd=new Map,Bd=new Set;function qd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var $d=D.d;D.d={f:function(){var e=$d.f(),t=tu();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?so(t):$d.r(e)},D:function(e){$d.D(e),Wd("dns-prefetch",e,null)},C:function(e,t){$d.C(e,t),Wd("preconnect",e,t)},L:function(e,t,n){$d.L(e,t,n);var r=Hd;if(r&&e&&t){var s='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(s+='[imagesizes="'+vt(n.imageSizes)+'"]')):s+='[href="'+vt(e)+'"]';var i=s;switch(t){case"style":i=Kd(e);break;case"script":i=Xd(e)}Vd.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Vd.set(i,e),null!==r.querySelector(s)||"style"===t&&r.querySelector(Qd(i))||"script"===t&&r.querySelector(Jd(i))||(pd(t=r.createElement("link"),"link",e),nt(t),r.head.appendChild(t)))}},m:function(e,t){$d.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',i=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Xd(e)}if(!Vd.has(i)&&(e=h({rel:"modulepreload",href:e},t),Vd.set(i,e),null===n.querySelector(s))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Jd(i)))return}pd(r=n.createElement("link"),"link",e),nt(r),n.head.appendChild(r)}}},X:function(e,t){$d.X(e,t);var n=Hd;if(n&&e){var r=tt(n).hoistableScripts,s=Xd(e),i=r.get(s);i||((i=n.querySelector(Jd(s)))||(e=h({src:e,async:!0},t),(t=Vd.get(s))&&nh(e,t),nt(i=n.createElement("script")),pd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}},S:function(e,t,n){$d.S(e,t,n);var r=Hd;if(r&&e){var s=tt(r).hoistableStyles,i=Kd(e);t=t||"default";var a=s.get(i);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Qd(i)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Vd.get(i))&&th(e,n);var l=a=r.createElement("link");nt(l),pd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,eh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(i,a)}}},M:function(e,t){$d.M(e,t);var n=Hd;if(n&&e){var r=tt(n).hoistableScripts,s=Xd(e),i=r.get(s);i||((i=n.querySelector(Jd(s)))||(e=h({src:e,async:!0,type:"module"},t),(t=Vd.get(s))&&nh(e,t),nt(i=n.createElement("script")),pd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}};var Hd="undefined"==typeof document?null:document;function Wd(e,t,n){var r=Hd;if(r&&"string"==typeof t&&t){var s=vt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"==typeof n&&(s+='[crossorigin="'+n+'"]'),Bd.has(s)||(Bd.add(s),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(s)&&(pd(t=r.createElement("link"),"link",e),nt(t),r.head.appendChild(t)))}}function Gd(e,t,n,r){var s,a,o,l,c=(c=K.current)?qd(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Kd(n.href),(r=(n=tt(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Kd(n.href);var u=tt(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Qd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Vd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vd.set(e,n),u||(s=c,a=e,o=n,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=s.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),pd(a,"link",o),nt(a),s.head.appendChild(a))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Xd(n),(r=(n=tt(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Kd(e){return'href="'+vt(e)+'"'}function Qd(e){return'link[rel="stylesheet"]['+e+"]"}function Yd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Xd(e){return'[src="'+vt(e)+'"]'}function Jd(e){return"script[async]"+e}function Zd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,nt(r),r;var s=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return nt(r=(e.ownerDocument||e).createElement("style")),pd(r,"style",s),eh(r,n.precedence,e),t.instance=r;case"stylesheet":s=Kd(n.href);var a=e.querySelector(Qd(s));if(a)return t.state.loading|=4,t.instance=a,nt(a),a;r=Yd(n),(s=Vd.get(s))&&th(r,s),nt(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),pd(a,"link",r),t.state.loading|=4,eh(a,n.precedence,e),t.instance=a;case"script":return a=Xd(n.src),(s=e.querySelector(Jd(a)))?(t.instance=s,nt(s),s):(r=n,(s=Vd.get(a))&&nh(r=h({},n),s),nt(s=(e=e.ownerDocument||e).createElement("script")),pd(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,eh(r,n.precedence,e));return t.instance}function eh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,i=s,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)i=o;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function nh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var rh=null;function sh(e,t,n){if(null===rh){var r=new Map,s=rh=new Map;s.set(n,r)}else(r=(s=rh).get(n))||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[Ye]||i[qe]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(i):r.set(a,[i])}}return r}function ih(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ah(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var oh=0;function lh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ch=null;function uh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ch=new Map,t.forEach(dh,e),ch=null,lh.call(e))}function dh(e,t){if(!(4&t.state.loading)){var n=ch.get(e);if(n)var r=n.get(null);else{n=new Map,ch.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var a=s[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(s=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,s),n.set(a,s),this.count++,r=lh.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),i?i.parentNode.insertBefore(s,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var hh={$$typeof:b,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function mh(e,t,n,r,s,i,a,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Le(0),this.hiddenUpdates=Le(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function ph(e,t,n,r,s,i,a,o,l,c,u,d){return e=new mh(e,t,n,a,l,c,u,d,o),t=1,!0===i&&(t|=24),i=Ur(3,null,null,t),e.current=i,i.stateNode=e,(t=Vs()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},xi(i),e}function fh(e){return e?e=Fr:Fr}function gh(e,t,n,r,s,i){s=fh(s),null===r.context?r.context=s:r.pendingContext=s,(r=bi(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=wi(e,r,t))&&(Yc(n,0,t),Ni(n,e,t))}function yh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function xh(e,t){yh(e,t),(e=e.alternate)&&yh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Mr(e,67108864);null!==t&&Yc(t,0,67108864),xh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Kc(),n=Mr(e,t=Fe(t));null!==n&&Yc(n,0,t),xh(e,t)}}var wh=!0;function Nh(e,t,n,r){var s=R.T;R.T=null;var i=D.p;try{D.p=2,Sh(e,t,n,r)}finally{D.p=i,R.T=s}}function jh(e,t,n,r){var s=R.T;R.T=null;var i=D.p;try{D.p=8,Sh(e,t,n,r)}finally{D.p=i,R.T=s}}function Sh(e,t,n,r){if(wh){var s=kh(r);if(null===s)rd(e,t,r,Eh,n),Dh(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Ih=Fh(Ih,e,t,n,r,s),!0;case"dragenter":return Ph=Fh(Ph,e,t,n,r,s),!0;case"mouseover":return Ah=Fh(Ah,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Lh.set(i,Fh(Lh.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Oh.set(i,Fh(Oh.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Dh(e,r),4&t&&-1<Rh.indexOf(e)){for(;null!==s;){var i=Ze(s);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=Ce(i.pendingLanes);if(0!==a){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-Ne(a);o.entanglements[1]|=l,a&=~l}Du(i),!(6&fc)&&(Rc=ue()+500,Fu(0))}}break;case 31:case 13:null!==(o=Mr(i,2))&&Yc(o,0,2),tu(),xh(i,2)}if(null===(i=kh(r))&&rd(e,t,r,Eh,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else rd(e,t,r,null,n)}}function kh(e){return Th(e=Rt(e))}var Eh=null;function Th(e){if(Eh=null,null!==(e=Je(e))){var t=o(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Eh=e,null}function Ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case he:return 2;case me:return 8;case pe:case fe:return 32;case ge:return 268435456;default:return 32}default:return 32}}var _h=!1,Ih=null,Ph=null,Ah=null,Lh=new Map,Oh=new Map,Mh=[],Rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dh(e,t){switch(e){case"focusin":case"focusout":Ih=null;break;case"dragenter":case"dragleave":Ph=null;break;case"mouseover":case"mouseout":Ah=null;break;case"pointerover":case"pointerout":Lh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oh.delete(t.pointerId)}}function Fh(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=Ze(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function zh(e){var t=Je(e.target);if(null!==t){var n=o(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void Ve(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void Ve(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Uh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=kh(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Mt=r,n.target.dispatchEvent(r),Mt=null,t.shift()}return!0}function Vh(e,t,n){Uh(e)&&n.delete(t)}function Bh(){_h=!1,null!==Ih&&Uh(Ih)&&(Ih=null),null!==Ph&&Uh(Ph)&&(Ph=null),null!==Ah&&Uh(Ah)&&(Ah=null),Lh.forEach(Vh),Oh.forEach(Vh)}function qh(e,t){e.blockedOn===t&&(e.blockedOn=null,_h||(_h=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Bh)))}var $h=null;function Hh(e){$h!==e&&($h=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$h===e&&($h=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if("function"!=typeof r){if(null===Th(r||n))continue;break}var i=Ze(n);null!==i&&(e.splice(t,3),t-=3,no(i,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function Wh(e){function t(t){return qh(t,e)}null!==Ih&&qh(Ih,e),null!==Ph&&qh(Ph,e),null!==Ah&&qh(Ah,e),Lh.forEach(t),Oh.forEach(t);for(var n=0;n<Mh.length;n++){var r=Mh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Mh.length&&null===(n=Mh[0]).blockedOn;)zh(n),null===n.blockedOn&&Mh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var s=n[r],i=n[r+1],a=s[$e]||null;if("function"==typeof i)a||Hh(n);else if(a){var o=null;if(i&&i.hasAttribute("formAction")){if(s=i,a=i[$e]||null)o=a.formAction;else if(null!==Th(s))continue}else o=a.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Hh(n)}}}function Gh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return s=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==s&&(s(),s=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==s&&(s(),s=null)}}}function Kh(e){this._internalRoot=e}function Qh(e){this._internalRoot=e}Qh.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));gh(t.current,Kc(),e,t,null,null)},Qh.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gh(e.current,2,null,e,null,null),tu(),t[He]=null}},Qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ue();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mh.length&&0!==t&&t<Mh[n].priority;n++);Mh.splice(n,0,e),0===n&&zh(e)}};var Yh=r.version;if("19.2.4"!==Yh)throw Error(i(527,Yh,"19.2.4"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return u(s),e;if(a===r)return u(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=a;else{for(var l=!1,c=s.child;c;){if(c===n){l=!0,n=s,r=a;break}if(c===r){l=!0,r=s,n=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===n){l=!0,n=a,r=s;break}if(c===r){l=!0,r=a,n=s;break}c=c.sibling}if(!l)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Xh={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{ve=Jh.inject(Xh),be=Jh}catch(em){}}return T.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r="",s=Eo,o=To,l=Co;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=ph(e,1,!1,null,0,n,r,null,s,o,l,Gh),e[He]=t.current,td(e),new Kh(t)},T.hydrateRoot=function(e,t,n){if(!a(e))throw Error(i(299));var r=!1,s="",o=Eo,l=To,c=Co,u=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=ph(e,1,!0,t,0,r,s,u,o,l,c,Gh)).context=fh(null),n=t.current,(s=bi(r=Fe(r=Kc()))).callback=null,wi(n,s,r),n=r,t.current.lanes=n,Oe(t,n),Du(t),e[He]=t.current,td(e),new Qh(t)},T.version="19.2.4",T}const A=n((S||(S=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),E.exports=P()),E.exports)),L=r.createContext(),O=({children:e})=>{const[t,n]=r.useState([]),[s,i]=r.useState(!1);r.useEffect(()=>{const e=localStorage.getItem("svasamCart");if(e)try{n(JSON.parse(e))}catch(t){console.error("Failed to parse cart from localStorage",t),localStorage.removeItem("svasamCart")}},[]),r.useEffect(()=>{t.length>0?localStorage.setItem("svasamCart",JSON.stringify(t)):localStorage.removeItem("svasamCart")},[t]);const a=e=>{n(t=>t.filter(t=>t.id!==e))},o=t.reduce((e,t)=>e+t.price*t.quantity,0),l=t.reduce((e,t)=>e+t.quantity,0);return k.jsx(L.Provider,{value:{cart:t,isOpen:s,setIsOpen:i,addToCart:e=>{n(t=>{const n=t.findIndex(t=>t.id===e.id);if(n>=0){const r=[...t];return r[n]={...r[n],quantity:r[n].quantity+e.quantity},r}return[...t,e]}),i(!0)},removeFromCart:a,updateQuantity:(e,t)=>{t<=0?a(e):n(n=>n.map(n=>n.id===e?{...n,quantity:t}:n))},clearCart:()=>{n([]),localStorage.removeItem("svasamCart")},cartTotal:o,itemCount:l},children:e})},M=()=>{const e=r.useContext(L);if(!e)throw new Error("useCart must be used within a CartProvider");return e};var R={};const D=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},F={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(D(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new z;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U=function(e){return function(e){const t=D(e);return F.encodeByteArray(t,!0)}(e).replace(/\./g,"")},V=function(e){try{return F.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const B=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,q=()=>{try{return B()||(()=>{if("undefined"==typeof process)return;const e=R.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&V(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},$=e=>q()?.emulatorHosts?.[e],H=()=>q()?.config,W=e=>q()?.[`_${e}`];class G{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function K(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Q(e){return(await fetch(e,{credentials:"include"})).ok}const Y={};let X=!1;function J(e,t){if("undefined"==typeof window||"undefined"==typeof document||!K(window.location.host)||Y[e]===t||Y[e]||X)return;function n(e){return`__firebase__banner__${e}`}Y[e]=t;const r="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Y))Y[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{X=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}s?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function Z(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ee(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function te(){return!function(){const e=q()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ne(){try{return"object"==typeof indexedDB}catch(e){return!1}}function re(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(n){t(n)}})}class se extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ie.prototype.create)}}class ie{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],i=s?function(e,t){return e.replace(ae,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(s,n):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new se(r,a,n)}}const ae=/\{\$([^}]+)}/g;function oe(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(le(n)&&le(i)){if(!oe(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function le(e){return null!==e&&"object"==typeof e}function ce(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ue(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function de(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class he{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=me),void 0===r.error&&(r.error=me),void 0===r.complete&&(r.complete=me);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function me(){}function pe(e,t=1e3,n=2){const r=t*Math.pow(n,e),s=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+s)}function fe(e){return e&&e._delegate?e._delegate:e}class ge{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ye="[DEFAULT]";class xe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new G;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(n)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ye})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e=ye){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=ye){return this.instances.has(e)}getOptions(e=ye){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const s=this.instances.get(n);return s&&e(s,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===ye?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}var r;return n||null}normalizeInstanceIdentifier(e=ye){return this.component?this.component.multipleInstances?e:ye:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var be,we;(we=be||(be={}))[we.DEBUG=0]="DEBUG",we[we.VERBOSE=1]="VERBOSE",we[we.INFO=2]="INFO",we[we.WARN=3]="WARN",we[we.ERROR=4]="ERROR",we[we.SILENT=5]="SILENT";const Ne={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},je=be.INFO,Se={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},ke=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),s=Se[t];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[s](`[${r}]  ${e.name}:`,...n)};class Ee{constructor(e){this.name=e,this._logLevel=je,this._logHandler=ke,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Ne[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}let Te,Ce;const _e=new WeakMap,Ie=new WeakMap,Pe=new WeakMap,Ae=new WeakMap,Le=new WeakMap;let Oe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ie.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Pe.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return De(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Me(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Fe(this),t),De(_e.get(this))}:function(...t){return De(e.apply(Fe(this),t))}:function(t,...n){const r=e.call(Fe(this),t,...n);return Pe.set(r,t.sort?t.sort():[t]),De(r)}}function Re(e){return"function"==typeof e?Me(e):(e instanceof IDBTransaction&&function(e){if(Ie.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});Ie.set(e,t)}(e),t=e,(Te||(Te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Oe):e);var t}function De(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(De(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&_e.set(t,e)}).catch(()=>{}),Le.set(t,e),t}(e);if(Ae.has(e))return Ae.get(e);const t=Re(e);return t!==e&&(Ae.set(e,t),Le.set(t,e)),t}const Fe=e=>Le.get(e);function ze(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),o=De(a);return r&&a.addEventListener("upgradeneeded",e=>{r(De(a.result),e.oldVersion,e.newVersion,De(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const Ue=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],Be=new Map;function qe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Be.get(t))return Be.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Ve.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!Ue.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,s?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),s&&i.done]))[0]};return Be.set(t,i),i}Oe=(e=>({...e,get:(t,n,r)=>qe(t,n)||e.get(t,n,r),has:(t,n)=>!!qe(t,n)||e.has(t,n)}))(Oe);class $e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const He="@firebase/app",We="0.14.2",Ge=new Ee("@firebase/app"),Ke="@firebase/app-compat",Qe="@firebase/analytics-compat",Ye="@firebase/analytics",Xe="@firebase/app-check-compat",Je="@firebase/app-check",Ze="@firebase/auth",et="@firebase/auth-compat",tt="@firebase/database",nt="@firebase/data-connect",rt="@firebase/database-compat",st="@firebase/functions",it="@firebase/functions-compat",at="@firebase/installations",ot="@firebase/installations-compat",lt="@firebase/messaging",ct="@firebase/messaging-compat",ut="@firebase/performance",dt="@firebase/performance-compat",ht="@firebase/remote-config",mt="@firebase/remote-config-compat",pt="@firebase/storage",ft="@firebase/storage-compat",gt="@firebase/firestore",yt="@firebase/ai",xt="@firebase/firestore-compat",vt="firebase",bt="[DEFAULT]",wt={[He]:"fire-core",[Ke]:"fire-core-compat",[Ye]:"fire-analytics",[Qe]:"fire-analytics-compat",[Je]:"fire-app-check",[Xe]:"fire-app-check-compat",[Ze]:"fire-auth",[et]:"fire-auth-compat",[tt]:"fire-rtdb",[nt]:"fire-data-connect",[rt]:"fire-rtdb-compat",[st]:"fire-fn",[it]:"fire-fn-compat",[at]:"fire-iid",[ot]:"fire-iid-compat",[lt]:"fire-fcm",[ct]:"fire-fcm-compat",[ut]:"fire-perf",[dt]:"fire-perf-compat",[ht]:"fire-rc",[mt]:"fire-rc-compat",[pt]:"fire-gcs",[ft]:"fire-gcs-compat",[gt]:"fire-fst",[xt]:"fire-fst-compat",[yt]:"fire-vertex","fire-js":"fire-js",[vt]:"fire-js-all"},Nt=new Map,jt=new Map,St=new Map;function kt(e,t){try{e.container.addComponent(t)}catch(n){Ge.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Et(e){const t=e.name;if(St.has(t))return Ge.debug(`There were multiple attempts to register component ${t}.`),!1;St.set(t,e);for(const n of Nt.values())kt(n,e);for(const n of jt.values())kt(n,e);return!0}function Tt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ct(e){return null!=e&&void 0!==e.settings}const _t=new ie("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class It{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ge("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _t.create("app-deleted",{appName:this._name})}}const Pt="12.2.0";function At(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r={name:bt,automaticDataCollectionEnabled:!0,...t},s=r.name;if("string"!=typeof s||!s)throw _t.create("bad-app-name",{appName:String(s)});if(n||(n=H()),!n)throw _t.create("no-options");const i=Nt.get(s);if(i){if(oe(n,i.options)&&oe(r,i.config))return i;throw _t.create("duplicate-app",{appName:s})}const a=new ve(s);for(const l of St.values())a.addComponent(l);const o=new It(n,r,a);return Nt.set(s,o),o}function Lt(e=bt){const t=Nt.get(e);if(!t&&e===bt&&H())return At();if(!t)throw _t.create("no-app",{appName:e});return t}function Ot(e,t,n){let r=wt[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const e=[`Unable to register library "${r}" with version "${t}":`];return s&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&e.push("and"),i&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ge.warn(e.join(" "))}Et(new ge(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Mt="firebase-heartbeat-store";let Rt=null;function Dt(){return Rt||(Rt=ze("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Mt)}catch(n){console.warn(n)}}}).catch(e=>{throw _t.create("idb-open",{originalErrorMessage:e.message})})),Rt}async function Ft(e,t){try{const n=(await Dt()).transaction(Mt,"readwrite"),r=n.objectStore(Mt);await r.put(t,zt(e)),await n.done}catch(n){if(n instanceof se)Ge.warn(n.message);else{const e=_t.create("idb-set",{originalErrorMessage:n?.message});Ge.warn(e.message)}}}function zt(e){return`${e.name}!${e.options.appId}`}class Ut{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Bt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Vt();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ge.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=Vt(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),qt(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),qt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=U(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Ge.warn(e),""}}}function Vt(){return(new Date).toISOString().substring(0,10)}class Bt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ne()&&re().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Dt()).transaction(Mt),n=await t.objectStore(Mt).get(zt(e));return await t.done,n}catch(t){if(t instanceof se)Ge.warn(t.message);else{const e=_t.create("idb-get",{originalErrorMessage:t?.message});Ge.warn(e.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return Ft(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return Ft(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function qt(e){return U(JSON.stringify({version:2,heartbeats:e})).length}var $t;$t="",Et(new ge("platform-logger",e=>new $e(e),"PRIVATE")),Et(new ge("heartbeat",e=>new Ut(e),"PRIVATE")),Ot(He,We,$t),Ot(He,We,"esm2020"),Ot("fire-js","");function Ht(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}Ot("firebase","12.2.1","app");const Wt=Ht,Gt=new ie("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Kt=new Ee("@firebase/auth");function Qt(e,...t){Kt.logLevel<=be.ERROR&&Kt.error(`Auth (${Pt}): ${e}`,...t)}function Yt(e,...t){throw tn(e,...t)}function Xt(e,...t){return tn(e,...t)}function Jt(e,t,n){const r={...Wt(),[t]:n};return new ie("auth","Firebase",r).create(t,{appName:e.name})}function Zt(e){return Jt(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function en(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Yt(e,"argument-error"),Jt(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tn(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Gt.create(e,...t)}function nn(e,t,...n){if(!e)throw tn(t,...n)}function rn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Qt(t),new Error(t)}function sn(e,t){e||rn(t)}function an(){return"undefined"!=typeof self&&self.location?.href||""}function on(){return"undefined"!=typeof self&&self.location?.protocol||null}function ln(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==on()&&"https:"!==on()&&!ee()&&!("connection"in navigator)||navigator.onLine}class cn{constructor(e,t){this.shortDelay=e,this.longDelay=t,sn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Z())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return ln()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function un(e,t){sn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class dn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},mn=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pn=new cn(3e4,6e4);function fn(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function gn(e,t,n,r,s={}){return yn(e,s,async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const a=ce({key:e.config.apiKey,...i}).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:o,...s};return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&K(e.emulatorConfig.host)&&(l.credentials="include"),dn.fetch()(await vn(e,e.config.apiHost,n,a),l)})}async function yn(e,t,n){e._canInitEmulator=!1;const r={...hn,...t};try{const t=new wn(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw Nn(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Nn(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw Nn(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw Nn(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Jt(e,o,a);Yt(e,o)}}catch(s){if(s instanceof se)throw s;Yt(e,"network-request-failed",{message:String(s)})}}async function xn(e,t,n,r,s={}){const i=await gn(e,t,n,r,s);return"mfaPendingCredential"in i&&Yt(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function vn(e,t,n,r){const s=`${t}${n}?${r}`,i=e,a=i.config.emulator?un(e.config,s):`${e.config.apiScheme}://${s}`;if(mn.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(a).toString()}return a}function bn(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Xt(this.auth,"network-request-failed")),pn.get())})}}function Nn(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Xt(e,t,r);return s.customData._tokenResponse=n,s}function jn(e){return void 0!==e&&void 0!==e.enterprise}class Sn{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return bn(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kn(e,t){return gn(e,"POST","/v1/accounts:lookup",t)}function En(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Tn(e){return 1e3*Number(e)}function Cn(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Qt("JWT malformed, contained fewer than 3 sections"),null;try{const e=V(n);return e?JSON.parse(e):(Qt("Failed to decode base64 JWT payload"),null)}catch(s){return Qt("Caught error parsing JWT payload as JSON",s?.toString()),null}}function _n(e){const t=Cn(e);return nn(t,"internal-error"),nn(void 0!==t.exp,"internal-error"),nn(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function In(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof se&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}class Pn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&this.schedule(!0))}this.schedule()}}class An{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=En(this.lastLoginAt),this.creationTime=En(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ln(e){const t=e.auth,n=await e.getIdToken(),r=await In(e,kn(t,{idToken:n}));nn(r?.users.length,t,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const i=s.providerUserInfo?.length?On(s.providerUserInfo):[],a=(o=e.providerData,l=i,[...o.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var o,l;const c=e.isAnonymous,u=!(e.email&&s.passwordHash||a?.length),d=!!c&&u,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new An(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,h)}function On(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}class Mn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nn(e.idToken,"internal-error"),nn(void 0!==e.idToken,"internal-error"),nn(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):_n(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){nn(0!==e.length,"internal-error");const t=_n(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(nn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await yn(e,{},async()=>{const n=ce({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=await vn(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&K(e.emulatorConfig.host)&&(o.credentials="include"),dn.fetch()(i,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new Mn;return n&&(nn("string"==typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(nn("string"==typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(nn("number"==typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mn,this.toJSON())}_performRefresh(){return rn("not implemented")}}function Rn(e,t){nn("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Dn{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId="firebase",this.proactiveRefresh=new Pn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new An(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await In(this,this.stsTokenManager.getToken(this.auth,e));return nn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=fe(e),r=await n.getIdToken(t),s=Cn(r);nn(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"==typeof s.firebase?s.firebase:void 0,a=i?.sign_in_provider;return{claims:s,token:r,authTime:En(Tn(s.auth_time)),issuedAtTime:En(Tn(s.iat)),expirationTime:En(Tn(s.exp)),signInProvider:a||null,signInSecondFactor:i?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=fe(e);await Ln(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(nn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){nn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ln(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ct(this.auth.app))return Promise.reject(Zt(this.auth));const e=await this.getIdToken();return await In(this,async function(e,t){return gn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,s=t.phoneNumber??void 0,i=t.photoURL??void 0,a=t.tenantId??void 0,o=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:u,emailVerified:d,isAnonymous:h,providerData:m,stsTokenManager:p}=t;nn(u&&p,e,"internal-error");const f=Mn.fromJSON(this.name,p);nn("string"==typeof u,e,"internal-error"),Rn(n,e.name),Rn(r,e.name),nn("boolean"==typeof d,e,"internal-error"),nn("boolean"==typeof h,e,"internal-error"),Rn(s,e.name),Rn(i,e.name),Rn(a,e.name),Rn(o,e.name),Rn(l,e.name),Rn(c,e.name);const g=new Dn({uid:u,auth:e,email:r,emailVerified:d,displayName:n,isAnonymous:h,photoURL:i,phoneNumber:s,tenantId:a,stsTokenManager:f,createdAt:l,lastLoginAt:c});return m&&Array.isArray(m)&&(g.providerData=m.map(e=>({...e}))),o&&(g._redirectEventId=o),g}static async _fromIdTokenResponse(e,t,n=!1){const r=new Mn;r.updateFromServerResponse(t);const s=new Dn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ln(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];nn(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?On(r.providerUserInfo):[],i=!(r.email&&r.passwordHash||s?.length),a=new Mn;a.updateFromIdToken(n);const o=new Dn({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new An(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||s?.length)};return Object.assign(o,l),o}}const Fn=new Map;function zn(e){sn(e instanceof Function,"Expected a class definition");let t=Fn.get(e);return t?(sn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Fn.set(e,t),t)}class Un{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Un.type="NONE";const Vn=Un;function Bn(e,t,n){return`firebase:${e}:${t}:${n}`}class qn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Bn(this.userKey,r.apiKey,s),this.fullPersistenceKey=Bn("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){const t=await kn(this.auth,{idToken:e}).catch(()=>{});return t?Dn._fromGetAccountInfoResponse(this.auth,t,e):null}return Dn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new qn(zn(Vn),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||zn(Vn);const i=Bn(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(i);if(t){let n;if("string"==typeof t){const r=await kn(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Dn._fromGetAccountInfoResponse(e,r,t)}else n=Dn._fromJSON(e,t);l!==s&&(a=n),s=l;break}}catch{}const o=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(i)}catch{}})),new qn(s,e,n)):new qn(s,e,n)}}function $n(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Hn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Yn(t))return"Blackberry";if(Xn(t))return"Webos";if(Wn(t))return"Safari";if((t.includes("chrome/")||Gn(t))&&!t.includes("edge/"))return"Chrome";if(Qn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===n?.length)return n[1]}return"Other"}function Hn(e=Z()){return/firefox\//i.test(e)}function Wn(e=Z()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Gn(e=Z()){return/crios\//i.test(e)}function Kn(e=Z()){return/iemobile/i.test(e)}function Qn(e=Z()){return/android/i.test(e)}function Yn(e=Z()){return/blackberry/i.test(e)}function Xn(e=Z()){return/webos/i.test(e)}function Jn(e=Z()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Zn(){return function(){const e=Z();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function er(e=Z()){return Jn(e)||Qn(e)||Xn(e)||Yn(e)||/windows phone/i.test(e)||Kn(e)}function tr(e,t=[]){let n;switch(e){case"Browser":n=$n(Z());break;case"Worker":n=`${$n(Z())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pt}/${r}`}class nr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(s){r(s)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}class rr{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class sr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ar(this),this.idTokenSubscription=new ar(this),this.beforeStateQueue=new nr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zn(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qn.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(n){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await kn(this,{idToken:e}),n=await Dn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ct(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,s=n?._redirectEventId,i=await this.tryRedirectSignIn(e);t&&t!==s||!i?.user||(n=i.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return nn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ln(e)}catch(t){if("auth/network-request-failed"!==t?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ct(this.app))return Promise.reject(Zt(this));const t=e?fe(e):null;return t&&nn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&nn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ct(this.app)?Promise.reject(Zt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ct(this.app)?Promise.reject(Zt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zn(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return gn(e,"GET","/v2/passwordPolicy",fn(e,t))}(this),t=new rr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ie("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return gn(e,"POST","/v2/accounts:revokeToken",fn(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zn(e)||this._popupRedirectResolver;nn(t,this,"argument-error"),this.redirectPersistenceManager=await qn.create(this,[zn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(nn(a,this,"internal-error"),a.then(()=>{i||s(this.currentUser)}),"function"==typeof t){const s=e.addObserver(t,n,r);return()=>{i=!0,s()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Ct(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e,...t){Kt.logLevel<=be.WARN&&Kt.warn(`Auth (${Pt}): ${e}`,...t)}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ir(e){return fe(e)}class ar{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new he(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return nn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let or={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lr(e){return or.loadJS(e)}class cr{constructor(){this.enterprise=new ur}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ur{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dr="NO_RECAPTCHA";class hr{constructor(e){this.type="recaptcha-enterprise",this.auth=ir(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{(async function(e,t){return gn(e,"GET","/v2/recaptchaConfig",fn(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Sn(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})}function r(t,n,r){const s=window.grecaptcha;jn(s)?s.enterprise.ready(()=>{s.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(dr)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new cr).execute("siteKey",{action:"verify"})}return new Promise((e,s)=>{n(this.auth).then(n=>{if(!t&&jn(window.grecaptcha))r(n,e,s);else{if("undefined"==typeof window)return void s(new Error("RecaptchaVerifier is only supported in browser"));let t=or.recaptchaEnterpriseScript;0!==t.length&&(t+=n),lr(t).then(()=>{r(n,e,s)}).catch(e=>{s(e)})}}).catch(e=>{s(e)})})}}async function mr(e,t,n,r=!1,s=!1){const i=new hr(e);let a;if(s)a=dr;else try{a=await i.verify(n)}catch(l){a=await i.verify(n,!0)}const o={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function pr(e,t,n,r,s){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await mr(e,t,n,"getOobCode"===n);return r(e,s)}return r(e,t).catch(async s=>{if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await mr(e,t,n,"getOobCode"===n);return r(e,s)}return Promise.reject(s)})}function fr(e,t,n){const r=ir(e);nn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=gr(t),{host:i,port:a}=function(e){const t=gr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:yr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:yr(t)}}}(t),o=null===a?"":`:${a}`,l={url:`${s}//${i}${o}/`},c=Object.freeze({host:i,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!r._canInitEmulator)return nn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void nn(oe(l,r.config.emulator)&&oe(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,K(i)?(Q(`${s}//${i}${o}`),J("Auth",!0)):function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function gr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class xr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rn("not implemented")}_getIdTokenResponse(e){return rn("not implemented")}_linkToIdToken(e,t){return rn("not implemented")}_getReauthenticationResolver(e){return rn("not implemented")}}async function vr(e,t){return gn(e,"POST","/v1/accounts:signUp",t)}async function br(e,t){return xn(e,"POST","/v1/accounts:signInWithPassword",fn(e,t))}async function wr(e,t){return async function(e,t){return gn(e,"POST","/v1/accounts:sendOobCode",fn(e,t))}(e,t)}class Nr extends xr{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Nr(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Nr(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return pr(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",br);case"emailLink":return async function(e,t){return xn(e,"POST","/v1/accounts:signInWithEmailLink",fn(e,t))}(e,{email:this._email,oobCode:this._password});default:Yt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return pr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vr);case"emailLink":return async function(e,t){return xn(e,"POST","/v1/accounts:signInWithEmailLink",fn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Yt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function jr(e,t){return xn(e,"POST","/v1/accounts:signInWithIdp",fn(e,t))}class Sr extends xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Sr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,...s}=t;if(!n||!r)return null;const i=new Sr(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return jr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,jr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ce(t)}return e}}class kr{constructor(e){const t=ue(de(e)),n=t.apiKey??null,r=t.oobCode??null,s=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);nn(n&&r&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=ue(de(e)).link,n=t?ue(de(t)).deep_link_id:null,r=ue(de(e)).deep_link_id;return(r?ue(de(r)).link:null)||r||n||t||e}(e);try{return new kr(t)}catch{return null}}}class Er{constructor(){this.providerId=Er.PROVIDER_ID}static credential(e,t){return Nr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=kr.parseLink(t);return nn(n,"argument-error"),Nr._fromEmailAndCode(e,n.code,n.tenantId)}}Er.PROVIDER_ID="password",Er.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Er.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Tr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Cr extends Tr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _r extends Cr{constructor(){super("facebook.com")}static credential(e){return Sr._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.FACEBOOK_SIGN_IN_METHOD="facebook.com",_r.PROVIDER_ID="facebook.com";class Ir extends Cr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Sr._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ir.credential(t,n)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com",Ir.PROVIDER_ID="google.com";class Pr extends Cr{constructor(){super("github.com")}static credential(e){return Sr._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com",Pr.PROVIDER_ID="github.com";class Ar extends Cr{constructor(){super("twitter.com")}static credential(e,t){return Sr._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ar.credential(t,n)}catch{return null}}}async function Lr(e,t){return xn(e,"POST","/v1/accounts:signUp",fn(e,t))}Ar.TWITTER_SIGN_IN_METHOD="twitter.com",Ar.PROVIDER_ID="twitter.com";class Or{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const s=await Dn._fromIdTokenResponse(e,n,r),i=Mr(n);return new Or({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Mr(n);return new Or({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Mr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Rr extends se{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Rr.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Rr(e,t,n,r)}}function Dr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Rr._fromErrorAndOperation(e,n,t,r);throw n})}async function Fr(e,t,n=!1){if(Ct(e.app))return Promise.reject(Zt(e));const r="signIn",s=await Dr(e,r,t),i=await Or._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function zr(e){const t=ir(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Ur(e,t,n){return Ct(e.app)?Promise.reject(Zt(e)):async function(e,t){return Fr(ir(e),t)}(fe(e),Er.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&zr(e),t})}async function Vr(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=fe(e),s={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},i=await In(r,async function(e,t){return gn(e,"POST","/v1/accounts:update",t)}(r.auth,s));r.displayName=i.displayName||null,r.photoURL=i.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(i)}const Br="__sak";class qr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Br,"1"),this.storage.removeItem(Br),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class $r extends qr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=er(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);Zn()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$r.type="LOCAL";const Hr=$r;class Wr extends qr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Wr.type="SESSION";const Gr=Wr;class Kr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Kr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!i?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map(async e=>e(t.origin,s)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Qr(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Kr.receivers=[];class Yr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((a,o)=>{const l=Qr("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function Xr(){return window}function Jr(){return void 0!==Xr().WorkerGlobalScope&&"function"==typeof Xr().importScripts}const Zr="firebaseLocalStorageDb",es="firebaseLocalStorage",ts="fbase_key";class ns{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rs(e,t){return e.transaction([es],t?"readwrite":"readonly").objectStore(es)}function ss(){const e=indexedDB.open(Zr,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(es,{keyPath:ts})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(es)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Zr);return new ns(e).toPromise()}(),t(await ss()))})})}async function is(e,t,n){const r=rs(e,!0).put({[ts]:t,value:n});return new ns(r).toPromise()}function as(e,t){const n=rs(e,!0).delete(t);return new ns(n).toPromise()}class os{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await ss()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kr._getInstance(Jr()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new Yr(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ss();return await is(e,Br,"1"),await as(e,Br),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>is(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=rs(e,!1).get(t),r=await new ns(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>as(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=rs(e,!1).getAll();return new ns(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}os.type="LOCAL";const ls=os;function cs(e,t){return t?zn(t):(nn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}new cn(3e4,6e4);class us extends xr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ds(e){return Fr(e.auth,new us(e),e.bypassAuthState)}function hs(e){const{auth:t,user:n}=e;return nn(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e;if(Ct(r.app))return Promise.reject(Zt(r));const s="reauthenticate";try{const i=await In(e,Dr(r,s,t,e),n);nn(i.idToken,r,"internal-error");const a=Cn(i.idToken);nn(a,r,"internal-error");const{sub:o}=a;return nn(e.uid===o,r,"user-mismatch"),Or._forOperation(e,s,i)}catch(i){throw"auth/user-not-found"===i?.code&&Yt(r,"user-mismatch"),i}}(n,new us(e),e.bypassAuthState)}async function ms(e){const{auth:t,user:n}=e;return nn(n,t,"internal-error"),async function(e,t,n=!1){const r=await In(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Or._forOperation(e,"link",r)}(n,new us(e),e.bypassAuthState)}class ps{constructor(e,t,n,r,s=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ds;case"linkViaPopup":case"linkViaRedirect":return ms;case"reauthViaPopup":case"reauthViaRedirect":return hs;default:Yt(this.auth,"internal-error")}}resolve(e){sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fs=new cn(2e3,1e4);class gs extends ps{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,gs.currentPopupAction&&gs.currentPopupAction.cancel(),gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return nn(e,this.auth,"internal-error"),e}async onExecution(){sn(1===this.filter.length,"Popup operations only handle one event");const e=Qr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Xt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xt(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,fs.get())};e()}}gs.currentPopupAction=null;const ys=new Map;class xs extends ps{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=ys.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ws(t),r=bs(e);if(!(await r._isAvailable()))return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}ys.set(this.auth._key(),e)}return this.bypassAuthState||ys.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function vs(e,t){ys.set(e._key(),t)}function bs(e){return zn(e._redirectPersistence)}function ws(e){return Bn("pendingRedirect",e.config.apiKey,e.name)}function Ns(e,t,n){return async function(e,t,n){if(Ct(e.app))return Promise.reject(Zt(e));const r=ir(e);en(e,t,Tr),await r._initializationPromise;const s=cs(r,n);return await async function(e,t){return bs(e)._set(ws(t),"true")}(s,r),s._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}async function js(e,t,n=!1){if(Ct(e.app))return Promise.reject(Zt(e));const r=ir(e),s=cs(r,t),i=new xs(r,s,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Ss{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Es(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Es(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Xt(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ks(e))}saveEventToCache(e){this.cachedEventUids.add(ks(e)),this.lastProcessedEventTime=Date.now()}}function ks(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Es({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===t?.code}const Ts=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cs=/^https?/;async function _s(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return gn(e,"GET","/v1/projects",t)}(e);for(const n of t)try{if(Is(n))return}catch{}Yt(e,"unauthorized-domain")}function Is(e){const t=an(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Cs.test(n))return!1;if(Ts.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const Ps=new cn(3e4,6e4);function As(){const e=Xr().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ls(e){return new Promise((t,n)=>{function r(){As(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{As(),n(Xt(e,"network-request-failed"))},timeout:Ps.get()})}if(Xr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!Xr().gapi?.load){const t=`__${"iframefcb"}${Math.floor(1e6*Math.random())}`;return Xr()[t]=()=>{gapi.load?r():n(Xt(e,"network-request-failed"))},lr(`${or.gapiScript}?onload=${t}`).catch(e=>n(e))}r()}}).catch(e=>{throw Os=null,e})}let Os=null;const Ms=new cn(5e3,15e3),Rs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ds=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fs(e){const t=e.config;nn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?un(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Pt},s=Ds.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ce(r).slice(1)}`}async function zs(e){const t=await function(e){return Os=Os||Ls(e),Os}(e),n=Xr().gapi;return nn(n,e,"internal-error"),t.open({where:document.body,url:Fs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rs,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=Xt(e,"network-request-failed"),i=Xr().setTimeout(()=>{r(s)},Ms.get());function a(){Xr().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{r(s)})}))}const Us={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vs{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Bs(e,t,n,r=500,s=600){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...Us,width:r.toString(),height:s.toString(),top:i,left:a},c=Z().toLowerCase();n&&(o=Gn(c)?"_blank":n),Hn(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=Z()){return Jn(e)&&!!window.navigator?.standalone}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Vs(null);const d=window.open(t||"",o,u);nn(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Vs(d)}const qs="__/auth/handler",$s="emulator/auth/handler",Hs=encodeURIComponent("fac");async function Ws(e,t,n,r,s,i){nn(e.config.authDomain,e,"auth-domain-config-required"),nn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Pt,eventId:s};if(t instanceof Tr){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries({}))a[e]=t}if(t instanceof Cr){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Hs}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${qs}`;return un(e,$s)}(e)}?${ce(o).slice(1)}${c}`}const Gs="webStorageSupport";const Ks=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gr,this._completeRedirectFn=js,this._overrideRedirectResult=vs}async _openPopup(e,t,n,r){sn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");return Bs(e,await Ws(e,t,n,an(),r),Qr())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Xr().location.href=e}(await Ws(e,t,n,an(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(sn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await zs(e),n=new Ss(e);return t.register("authEvent",t=>{nn(t?.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gs,{type:Gs},n=>{const r=n?.[0]?.[Gs];void 0!==r&&t(!!r),Yt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_s(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return er()||Wn()||Jn()}};var Qs="@firebase/auth",Ys="1.11.0";class Xs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){nn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Js=W("authIdTokenMaxAge")||300;let Zs=null;var ei;or={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Xt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},ei="Browser",Et(new ge("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=n.options;nn(i&&!i.includes(":"),"invalid-api-key",{appName:n.name});const o={apiKey:i,authDomain:a,clientPlatform:ei,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tr(ei)},l=new sr(n,r,s,o);return function(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(zn);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Et(new ge("auth-internal",e=>{const t=ir(e.getProvider("auth").getImmediate());return new Xs(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ot(Qs,Ys,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ei)),Ot(Qs,Ys,"esm2020");var ti,ni,ri="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],a=t+(i^n&(s^i))+r[0]+3614090360&4294967295;a=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=i+((a=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,s=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(s[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,s),i=0;break}}else for(;a<t;)if(s[i++]=e[a++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function i(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new r(n,~e.h).add(l)}function m(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function f(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new f(o,o);if(d(e))return t=g(h(e),t),new f(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new f(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var s=x(n,1),i=x(r,1);for(r=x(r,2),n=x(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(s=s.add(n),i=c),r=x(r,1),n=x(n,1)}return t=m(e,s.j(t)),new f(s,t)}for(s=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=a(n)).j(t);d(c)||0<c.l(e);)c=(i=a(n-=r)).j(t);u(i)&&(i=l),s=s.add(i),e=m(e,c)}return new f(s,e)}function y(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new r(n,e.h)}function x(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,i=[],a=0;a<s;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var s=g(n,t).g,i=((0<(n=m(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=m(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,i=0;i<=t;i++){var a=s+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);s=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<e.g.length;i++){var l=this.i(s)>>>16,m=65535&this.i(s),f=e.i(i)>>>16,g=65535&e.i(i);n[2*s+2*i]+=m*g,p(n,2*s+2*i),n[2*s+2*i+1]+=l*g,p(n,2*s+2*i+1),n[2*s+2*i+1]+=m*f,p(n,2*s+2*i+1),n[2*s+2*i+2]+=l*f,p(n,2*s+2*i+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ni=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),s=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),s=s.j(l).add(a(c))):s=(s=s.j(r)).add(a(c))}return s},ti=r}).apply(void 0!==ri?ri:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var si,ii,ai,oi,li,ci,ui,di,hi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof hi&&hi];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in s))break e;s=s[a]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,s={next:function(){if(!r&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,function(e,t){return t})}});var r=r||{},s=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function f(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=!(-1==f().indexOf("Gecko")||-1!=f().toLowerCase().indexOf("webkit")&&-1==f().indexOf("Edge")||-1!=f().indexOf("Trident")||-1!=f().indexOf("MSIE")||-1!=f().indexOf("Edge"));function x(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function v(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function N(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function j(e){s.setTimeout(()=>{throw e},0)}function S(){var e=_;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new E,e=>e.reset());class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,C=!1,_=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=s.Promise.resolve(void 0);T=()=>{e.then(P)}};var P=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){j(n)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function A(){this.s=this.s,this.C=this.C}function L(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},L.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function M(e,t){if(L.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,L);var R={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var D="closure_listenable_"+(1e6*Math.random()|0),F=0;function z(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}V.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=q(e,t,r,s);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new z(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var $="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)W(e,t[i],n,r,s);return null}return n=Z(n),e&&e[D]?e.K(t,n,!!a(r)&&!!r.capture,s):function(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=a(s)?!!s.capture:!!s,l=X(e);if(l||(e[$]=l=new V(e)),n=l.add(t,n,r,o,i),n.proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Y;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(Q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}(e,t,n,!1,r,s)}function G(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)G(e,t[i],n,r,s);else r=a(r)?!!r.capture:!!r,n=Z(n),e&&e[D]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(i=e.g[t],n,r,s))&&(U(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=X(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,s)),(n=-1<e?t[e]:null)&&K(n))}function K(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[D])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=X(t))?(B(n,e),0==n.h&&(n.src=null,t[$]=null)):U(e)}}}function Q(e){return e in H?H[e]:H[e]="on"+e}function Y(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&K(e),e=n.call(r,t)}return e}function X(e){return(e=e[$])instanceof V?e:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(e){return"function"==typeof e?e:(e[J]||(e[J]=function(t){return e.handleEvent(t)}),e[J])}function ee(){A.call(this),this.i=new V(this),this.M=this,this.F=null}function te(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new L(t,e);else if(t instanceof L)t.target=t.target||e;else{var s=t;w(t=new L(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];s=ne(a,r,!0,t)&&s}if(s=ne(a=t.g=e,r,!0,t)&&s,s=ne(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=ne(a=t.g=n[i],r,!1,t)&&s}function ne(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),s=!1!==o.call(l,r)&&s}}return s&&!r.defaultPrevented}function re(e,t,n){if("function"==typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function se(e){e.g=re(()=>{e.g=null,e.i&&(e.i=!1,se(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ee,A),ee.prototype[D]=!0,ee.prototype.removeEventListener=function(e,t,n,r){G(this,e,t,n,r)},ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ee.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ee.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ie extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(e){A.call(this),this.h=e,this.g={}}d(ae,A);var oe=[];function le(e){x(e.g,function(e,t){this.g.hasOwnProperty(t)&&K(e)},e),e.g={}}ae.prototype.N=function(){ae.aa.N.call(this),le(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ce=s.JSON.stringify,ue=s.JSON.parse,de=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function he(){}function me(e){return e.h||(e.h=e.i())}function pe(){}he.prototype.h=null;var fe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ge(){L.call(this,"d")}function ye(){L.call(this,"c")}d(ge,L),d(ye,L);var xe={},ve=null;function be(){return ve=ve||new ee}function we(e){L.call(this,xe.La,e)}function Ne(e){const t=be();te(t,new we(t))}function je(e,t){L.call(this,xe.STAT_EVENT,e),this.stat=t}function Se(e){const t=be();te(t,new je(t,e))}function ke(e,t){L.call(this,xe.Ma,e),this.size=t}function Ee(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function Te(){this.g=!0}function Ce(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return ce(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}xe.La="serverreachability",d(we,L),xe.STAT_EVENT="statevent",d(je,L),xe.Ma="timingevent",d(ke,L),Te.prototype.xa=function(){this.g=!1},Te.prototype.info=function(){};var _e,Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ae(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}d(Ae,he),Ae.prototype.g=function(){return new XMLHttpRequest},Ae.prototype.i=function(){return{}},_e=new Ae;var Me={},Re={};function De(e,t,n){e.L=1,e.v=ct(st(t)),e.m=n,e.P=!0,Fe(e,null)}function Fe(e,t){e.F=Date.now(),Ve(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Nt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Oe,e.g=un(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ie(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(oe[0]=s.toString()),s=oe);for(var i=0;i<s.length;i++){var a=W(n,s[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?v(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ne(),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ue(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Re:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Re:(t=t.slice(r,r+n),e.C=r+n,t))}function Ve(e){e.S=Date.now()+e.I,Be(e,e.I)}function Be(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ee(c(e.ba,e),t)}function qe(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function $e(e){0==e.j.G||e.J||sn(e.j,e)}function He(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,le(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function We(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Xe(n.h,e)))if(!e.K&&Xe(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;rn(n),Gt(n)}en(n),Se(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ee(c(n.Za,n),6e3));if(1>=Ye(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else on(n,11)}else if((e.K||n.g==e)&&rn(n),!p(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(Je(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,lt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=cn(r,r.J?r.ia:null,r.W),a.K){Ze(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(qe(o),Ve(o)),r.g=a}else Zt(r);0<n.i.length&&Qt(n)}else"stop"!=c[0]&&"close"!=c[0]||on(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?on(n,7):Wt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ne()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Bt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=Bt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||Ne(),qe(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=qt(this.g);e="";var i=r.length,a=4==Bt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){He(this),$e(this);var o="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,s,i,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Se(12),He(this),$e(this);break e}Ce(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,We(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Ue(this,o),e==Re){4==h&&(this.s=4,Se(14),n=!1),Ce(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Se(15),Ce(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ce(this.i,this.l,e,null),We(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),tn(d),d.M=!0,Se(11))}}else Ce(this.i,this.l,o,"[Invalid Chunked Response]"),He(this),$e(this)}else Ce(this.i,this.l,o,null),We(this,o);4==h&&He(this),this.o&&!this.J&&(4==h?sn(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&2<=Bt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=N(e[r]);const s=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),He(this),$e(this)}}}catch(h){}},Le.prototype.cancel=function(){this.J=!0,He(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ne(),Se(17)),He(this),this.s=2,$e(this)):Be(this,this.S-e)};var Ge=class{constructor(e,t){this.g=e,this.map=t}};function Ke(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ye(e){return e.h?1:e.g?e.g.size:0}function Xe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Je(e,t){e.g?e.g.add(t):e.h=t}function Ze(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function et(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(i(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,a=0;a<s;a++)t.call(void 0,r[a],n&&n[a],e)}Ke.prototype.cancel=function(){if(this.i=et(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var nt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof rt){this.h=e.h,it(this,e.j),this.o=e.o,this.g=e.g,at(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ot(this,n),this.m=e.m}else e&&(t=String(e).match(nt))?(this.h=!1,it(this,t[1]||"",!0),this.o=ut(t[2]||""),this.g=ut(t[3]||"",!0),at(this,t[4]),this.l=ut(t[5]||"",!0),ot(this,t[6]||"",!0),this.m=ut(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function st(e){return new rt(e)}function it(e,t,n){e.j=n?ut(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function at(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ot(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(vt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(bt(this,t),Nt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=dt(t,gt)),e.i=new xt(t,e.h))}function lt(e,t,n){e.i.set(t,n)}function ct(e){return lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ut(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dt(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(dt(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(dt(n,"/"==n.charAt(0)?ft:pt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",dt(n,yt)),e.join("")};var mt=/[#\/\?@]/g,pt=/[#\?:]/g,ft=/[#\?]/g,gt=/[#\?@]/g,yt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function vt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function bt(e,t){vt(e),t=jt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function wt(e,t){return vt(e),t=jt(e,t),e.g.has(t)}function Nt(e,t,n){bt(e,t),0<n.length&&(e.i=null,e.g.set(jt(e,t),h(n)),e.h+=n.length)}function jt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function kt(){this.g=new de}function Et(e,t,n){const r=n||"";try{tt(e,function(e,n){let s=e;a(e)&&(s=ce(e)),t.push(r+n+"="+encodeURIComponent(s))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function Tt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ct(e,t){ee.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function _t(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function At(e){let t="";return x(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=At(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):lt(e,t,n))}function Ot(e){ee.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){vt(this),this.i=null,e=jt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){vt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){vt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},e.V=function(e){vt(this);let t=[];if("string"==typeof e)wt(this,e)&&(t=t.concat(this.g.get(jt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return vt(this),this.i=null,wt(this,e=jt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var s=i;""!==a[r]&&(s+="="+encodeURIComponent(String(a[r]))),e.push(s)}}return this.i=e.join("&")},d(Tt,he),Tt.prototype.g=function(){return new Ct(this.l,this.j)},Tt.prototype.i=function(e){return function(){return e}}({}),d(Ct,ee),(e=Ct.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_t(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):Pt(this),3==this.readyState&&_t(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,It(this))},e.Qa=function(e){this.g&&(this.response=e,It(this))},e.ga=function(){this.g&&It(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ct.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ot,ee);var Mt=/^https?$/i,Rt=["POST","PUT"];function Dt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ft(e),Ut(e)}function Ft(e){e.A||(e.A=!0,te(e,"complete"),te(e,"error"))}function zt(e){if(e.h&&void 0!==r&&(!e.v[1]||4!=Bt(e)||2!=e.Z()))if(e.u&&4==Bt(e))re(e.Ea,0,e);else if(te(e,"readystatechange"),4==Bt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var a=String(e.D).match(nt)[1]||null;!a&&s.self&&s.self.location&&(a=s.self.location.protocol.slice(0,-1)),i=!Mt.test(a?a.toLowerCase():"")}n=i}if(n)te(e,"complete"),te(e,"success");else{e.m=6;try{var o=2<Bt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Ft(e)}}finally{Ut(e)}}}function Ut(e,t){if(e.g){Vt(e);const r=e.g,s=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||te(e,"ready");try{r.onreadystatechange=s}catch(n){}}}function Vt(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function Bt(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function $t(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ht(e){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$t("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$t("baseRetryDelayMs",5e3,e),this.cb=$t("retryDelaySeedMs",1e4,e),this.Wa=$t("forwardChannelMaxRetries",2,e),this.wa=$t("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ke(e&&e.concurrentRequestLimit),this.Da=new kt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Wt(e){if(Kt(e),3==e.G){var t=e.U++,n=st(e.I);if(lt(n,"SID",e.K),lt(n,"RID",t),lt(n,"TYPE","terminate"),Xt(e,n),(t=new Le(e,e.j,t)).L=2,t.v=ct(st(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=un(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ve(t)}ln(e)}function Gt(e){e.g&&(tn(e),e.g.cancel(),e.g=null)}function Kt(e){Gt(e),e.u&&(s.clearTimeout(e.u),e.u=null),rn(e),e.h.cancel(),e.s&&("number"==typeof e.s&&s.clearTimeout(e.s),e.s=null)}function Qt(e){if(!Qe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||I(),C||(T(),C=!0),_.add(t,e),e.B=0}}function Yt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);lt(r,"SID",e.K),lt(r,"RID",n),lt(r,"AID",e.T),Xt(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=Jt(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Je(e.h,n),De(n,r,t)}function Xt(e,t){e.H&&x(e.H,function(e,n){lt(t,n,e)}),e.l&&tt({},function(e,n){lt(t,n,e)})}function Jt(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=s[o].g;const l=s[o].map;if(n-=t,0>n)t=Math.max(0,s[o].g-100),a=!1;else try{Et(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function Zt(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||I(),C||(T(),C=!0),_.add(t,e),e.v=0}}function en(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ee(c(e.Fa,e),an(e,e.v)),e.v++,!0)}function tn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function nn(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);lt(t,"RID","rpc"),lt(t,"SID",e.K),lt(t,"AID",e.T),lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&lt(t,"TO",e.ja),lt(t,"TYPE","xmlhttp"),Xt(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ct(st(t)),n.m=null,n.P=!0,Fe(n,e)}function rn(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){rn(e),tn(e),e.g=null;var r=2}else{if(!Xe(e.h,t))return;n=t.D,Ze(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;te(r=be(),new ke(r,n)),Qt(e)}else Zt(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==r&&function(e,t){return!(Ye(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Ee(c(e.Ga,e,t),an(e,e.B)),e.B++,0)))}(e,t)||2==r&&en(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:on(e,5);break;case 4:on(e,10);break;case 3:on(e,6);break;default:on(e,2)}}function an(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function on(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new rt(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||it(r,"https"),ct(r),t?function(e,t){const n=new Te;if(s.Image){const r=new Image;r.onload=u(St,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(St,n,"TestLoadImage: error",!1,t,r),r.onabort=u(St,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(St,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Te;const n=new AbortController,r=setTimeout(()=>{n.abort(),St(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?St(0,0,!0,t):St(0,0,!1,t)}).catch(()=>{clearTimeout(r),St(0,0,!1,t)})}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),ln(e),Kt(e)}function ln(e){if(e.G=0,e.ka=[],e.l){const t=et(e.h);0==t.length&&0==e.i.length||(m(e.ka,t),m(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function cn(e,t,n){var r=n instanceof rt?st(n):new rt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),at(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new rt(null);r&&it(a,r),t&&(a.g=t),i&&at(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&lt(r,n,t),lt(r,"VER",e.la),Xt(e,r),r}function un(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ot(new Tt({eb:n})):new Ot(e.pa)).Ha(e.J),t}function dn(){}function hn(){}function mn(e,t){ee.call(this),this.g=new Ht(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gn(this)}function pn(e){ge.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function fn(){ye.call(this),this.status=1}function gn(e){this.g=e}(e=Ot.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_e.g(),this.v=this.o?me(this.o):me(_e),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Dt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Rt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Dt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,te(this,"complete"),te(this,"abort"),Ut(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ut(this,!0)),Ot.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ue(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Ht.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=cn(this,null,this.W),Qt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new Le(this,this.j,e);let i=this.o;if(this.S&&(i?(i=v(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(s.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Jt(this,s,t),lt(n=st(this.I),"RID",e),lt(n,"CVER",22),this.D&&lt(n,"X-HTTP-Session-Id",this.D),Xt(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(At(i)))+"&"+t:this.m&&Lt(n,this.m,i)),Je(this.h,s),this.Ua&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",t),lt(n,"SID","null"),s.T=!0,De(s,n,null)):De(s,n,t),this.G=2}}else 3==this.G&&(e?Yt(this,e):0==this.i.length||Qe(this.h)||Yt(this))},e.Fa=function(){if(this.u=null,nn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ee(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),Gt(this),nn(this))},e.Za=function(){null!=this.C&&(this.C=null,Gt(this),en(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=dn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},hn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ee),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Wt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ce(e),e=n);t.i.push(new Ge(t.Ya++,e)),3==t.G&&Qt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,mn.aa.N.call(this)},d(pn,ge),d(fn,ye),d(gn,dn),gn.prototype.ua=function(){te(this.g,"a")},gn.prototype.ta=function(e){te(this.g,new pn(e))},gn.prototype.sa=function(e){te(this.g,new fn)},gn.prototype.ra=function(){te(this.g,"b")},hn.prototype.createWebChannel=hn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,di=function(){return new hn},ui=function(){return be()},ci=xe,li={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,oi=Ie,Pe.COMPLETE="complete",ai=Pe,pe.EventType=fe,fe.OPEN="a",fe.CLOSE="b",fe.ERROR="c",fe.MESSAGE="d",ee.prototype.listen=ee.prototype.K,ii=pe,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,si=Ot}).apply(void 0!==hi?hi:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const mi="@firebase/firestore",pi="4.9.1";class fi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fi.UNAUTHENTICATED=new fi(null),fi.GOOGLE_CREDENTIALS=new fi("google-credentials-uid"),fi.FIRST_PARTY=new fi("first-party-uid"),fi.MOCK_USER=new fi("mock-user");let gi="12.2.0";const yi=new Ee("@firebase/firestore");function xi(){return yi.logLevel}function vi(e,...t){if(yi.logLevel<=be.DEBUG){const n=t.map(Ni);yi.debug(`Firestore (${gi}): ${e}`,...n)}}function bi(e,...t){if(yi.logLevel<=be.ERROR){const n=t.map(Ni);yi.error(`Firestore (${gi}): ${e}`,...n)}}function wi(e,...t){if(yi.logLevel<=be.WARN){const n=t.map(Ni);yi.warn(`Firestore (${gi}): ${e}`,...n)}}function Ni(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(n){return e}var t}function ji(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Si(e,r,n)}function Si(e,t,n){let r=`FIRESTORE (${gi}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(s){r+=" CONTEXT: "+n}throw bi(r),new Error(r)}function ki(e,t,n,r){let s="Unexpected state";"string"==typeof n?s=n:r=n,e||Si(t,s,r)}function Ei(e,t){return e}const Ti={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ci extends se{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ii{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fi.UNAUTHENTICATED))}shutdown(){}}class Ai{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Li{constructor(e){this.t=e,this.currentUser=fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ki(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _i,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{vi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(vi("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _i)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(vi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ki("string"==typeof t.accessToken,31837,{l:t}),new Ii(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ki(null===e||"string"==typeof e,2055,{h:e}),new fi(e)}}class Oi{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=fi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mi{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Oi(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ri{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Di{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ct(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ki(void 0===this.o,3512);const n=e=>{null!=e.error&&vi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,vi("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{vi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):vi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ri(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ki("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Ri(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Fi(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class zi{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Fi(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Ui(e,t){return e<t?-1:e>t?1:0}function Vi(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),s=t.charAt(r);if(n!==s)return $i(n)===$i(s)?Ui(n,s):$i(n)?1:-1}return Ui(e.length,t.length)}const Bi=55296,qi=57343;function $i(e){const t=e.charCodeAt(0);return t>=Bi&&t<=qi}function Hi(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Wi="__name__";class Gi{constructor(e,t,n){void 0===t?t=0:t>e.length&&ji(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&ji(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Gi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Gi.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Ui(e.length,t.length)}static compareSegments(e,t){const n=Gi.isNumericId(e),r=Gi.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Gi.extractNumericId(e).compare(Gi.extractNumericId(t)):Vi(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ti.fromString(e.substring(4,e.length-2))}}class Ki extends Gi{construct(e,t,n){return new Ki(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ci(Ti.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new Ki(t)}static emptyPath(){return new Ki([])}}const Qi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yi extends Gi{construct(e,t,n){return new Yi(e,t,n)}static isValidIdentifier(e){return Qi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Wi}static keyField(){return new Yi([Wi])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Ci(Ti.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ci(Ti.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ci(Ti.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new Ci(Ti.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yi(t)}static emptyPath(){return new Yi([])}}class Xi{constructor(e){this.path=e}static fromPath(e){return new Xi(Ki.fromString(e))}static fromName(e){return new Xi(Ki.fromString(e).popFirst(5))}static empty(){return new Xi(Ki.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ki.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ki.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xi(new Ki(e.slice()))}}function Ji(e,t,n){if(!n)throw new Ci(Ti.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Zi(e){if(!Xi.isDocumentKey(e))throw new Ci(Ti.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ea(e){if(Xi.isDocumentKey(e))throw new Ci(Ti.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ta(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function na(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":ji(12329,{type:typeof e})}function ra(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ci(Ti.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=na(e);throw new Ci(Ti.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function sa(e,t){const n={typeString:e};return t&&(n.value=t),n}function ia(e,t){if(!ta(e))throw new Ci(Ti.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(void 0!==i&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Ci(Ti.INVALID_ARGUMENT,n);return!0}const aa=-62135596800,oa=1e6;class la{static now(){return la.fromMillis(Date.now())}static fromDate(e){return la.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*oa);return new la(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ci(Ti.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ci(Ti.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<aa)throw new Ci(Ti.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ci(Ti.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oa}_compareTo(e){return this.seconds===e.seconds?Ui(this.nanoseconds,e.nanoseconds):Ui(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:la._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ia(e,la._jsonSchema))return new la(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-aa;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}la._jsonSchemaVersion="firestore/timestamp/1.0",la._jsonSchema={type:sa("string",la._jsonSchemaVersion),seconds:sa("number"),nanoseconds:sa("number")};class ca{static fromTimestamp(e){return new ca(e)}static min(){return new ca(new la(0,0))}static max(){return new ca(new la(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ua(e){return new da(e.readTime,e.key,-1)}class da{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new da(ca.min(),Xi.empty(),-1)}static max(){return new da(ca.max(),Xi.empty(),-1)}}function ha(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Xi.comparator(e.documentKey,t.documentKey),0!==n?n:Ui(e.largestBatchId,t.largestBatchId))}class ma{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function pa(e){if(e.code!==Ti.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;vi("LocalStore","Unexpectedly lost primary lease")}class fa{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ji(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fa((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fa?t:fa.resolve(t)}catch(t){return fa.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fa.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fa.reject(t)}static resolve(e){return new fa((t,n)=>{t(e)})}static reject(e){return new fa((t,n)=>{n(e)})}static waitFor(e){return new fa((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=fa.resolve(!1);for(const n of e)t=t.next(e=>e?fa.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new fa((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next(e=>{i[l]=e,++a,a===s&&n(i)},e=>r(e))}})}static doWhile(e,t){return new fa((n,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):n()};s()})}}function ga(e){return"IndexedDbTransactionError"===e.name}class ya{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ya.ce=-1;function xa(e){return null==e}function va(e){return 0===e&&1/e==-1/0}function ba(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function wa(e){return e+""}function Na(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ja(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sa(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ka{constructor(e,t){this.comparator=e,this.root=t||Ta.EMPTY}insert(e,t){return new ka(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ta.BLACK,null,null))}remove(e){return new ka(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ta.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ea(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ea(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ea(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ea(this.root,e,this.comparator,!0)}}class Ea{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ta{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:Ta.RED,this.left=null!=r?r:Ta.EMPTY,this.right=null!=s?s:Ta.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new Ta(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ta.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ta.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ta.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ta.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ji(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ji(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ji(27949);return e+(this.isRed()?0:1)}}Ta.EMPTY=null,Ta.RED=!0,Ta.BLACK=!1,Ta.EMPTY=new class{constructor(){this.size=0}get key(){throw ji(57766)}get value(){throw ji(16141)}get color(){throw ji(16727)}get left(){throw ji(29726)}get right(){throw ji(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new Ta(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ca{constructor(e){this.comparator=e,this.data=new ka(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _a(this.data.getIterator())}getIteratorFrom(e){return new _a(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Ca))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ca(this.comparator);return t.data=e,t}}class _a{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ia{constructor(e){this.fields=e,e.sort(Yi.comparator)}static empty(){return new Ia([])}unionWith(e){let t=new Ca(Yi.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ia(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hi(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Pa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Aa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Pa("Invalid base64 string: "+t):t}}(e);return new Aa(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Aa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ui(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Aa.EMPTY_BYTE_STRING=new Aa("");const La=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(e){if(ki(!!e,39018),"string"==typeof e){let t=0;const n=La.exec(e);if(ki(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ma(e.seconds),nanos:Ma(e.nanos)}}function Ma(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ra(e){return"string"==typeof e?Aa.fromBase64String(e):Aa.fromUint8Array(e)}const Da="server_timestamp",Fa="__type__",za="__previous_value__",Ua="__local_write_time__";function Va(e){const t=(e?.mapValue?.fields||{})[Fa]?.stringValue;return t===Da}function Ba(e){const t=e.mapValue.fields[za];return Va(t)?Ba(t):t}function qa(e){const t=Oa(e.mapValue.fields[Ua].timestampValue);return new la(t.seconds,t.nanos)}class $a{constructor(e,t,n,r,s,i,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Ha="(default)";class Wa{constructor(e,t){this.projectId=e,this.database=t||Ha}static empty(){return new Wa("","")}get isDefaultDatabase(){return this.database===Ha}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}const Ga="__type__",Ka="__max__",Qa={},Ya="__vector__",Xa="value";function Ja(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Va(e)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ka}(e)?9007199254740991:function(e){const t=(e?.mapValue?.fields||{})[Ga]?.stringValue;return t===Ya}(e)?10:11:ji(28295,{value:e})}function Za(e,t){if(e===t)return!0;const n=Ja(e);if(n!==Ja(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qa(e).isEqual(qa(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Oa(e.timestampValue),r=Oa(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,Ra(e.bytesValue).isEqual(Ra(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ma(e.geoPointValue.latitude)===Ma(t.geoPointValue.latitude)&&Ma(e.geoPointValue.longitude)===Ma(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ma(e.integerValue)===Ma(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ma(e.doubleValue),r=Ma(t.doubleValue);return n===r?va(n)===va(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Hi(e.arrayValue.values||[],t.arrayValue.values||[],Za);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Na(n)!==Na(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!Za(n[s],r[s])))return!1;return!0}(e,t);default:return ji(52216,{left:e})}var r}function eo(e,t){return void 0!==(e.values||[]).find(e=>Za(e,t))}function to(e,t){if(e===t)return 0;const n=Ja(e),r=Ja(t);if(n!==r)return Ui(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ui(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ma(e.integerValue||e.doubleValue),r=Ma(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return no(e.timestampValue,t.timestampValue);case 4:return no(qa(e),qa(t));case 5:return Vi(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ra(e),r=Ra(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=Ui(n[s],r[s]);if(0!==e)return e}return Ui(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ui(Ma(e.latitude),Ma(t.latitude));return 0!==n?n:Ui(Ma(e.longitude),Ma(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ro(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=t.fields||{},s=n[Xa]?.arrayValue,i=r[Xa]?.arrayValue,a=Ui(s?.values?.length||0,i?.values?.length||0);return 0!==a?a:ro(s,i)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Qa&&t===Qa)return 0;if(e===Qa)return 1;if(t===Qa)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=Vi(r[a],i[a]);if(0!==e)return e;const t=to(n[r[a]],s[i[a]]);if(0!==t)return t}return Ui(r.length,i.length)}(e.mapValue,t.mapValue);default:throw ji(23264,{he:n})}}function no(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ui(e,t);const n=Oa(e),r=Oa(t),s=Ui(n.seconds,r.seconds);return 0!==s?s:Ui(n.nanos,r.nanos)}function ro(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=to(n[s],r[s]);if(e)return e}return Ui(n.length,r.length)}function so(e){return io(e)}function io(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Oa(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ra(e.bytesValue).toBase64():"referenceValue"in e?function(e){return Xi.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=io(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+=`${s}:${io(e.fields[s])}`;return n+"}"}(e.mapValue):ji(61005,{value:e})}function ao(e){switch(Ja(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ba(e);return t?16+ao(t):16;case 5:return 2*e.stringValue.length;case 6:return Ra(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(e.arrayValue.values||[]).reduce((e,t)=>e+ao(t),0);case 10:case 11:return function(e){let t=0;return ja(e.fields,(e,n)=>{t+=e.length+ao(n)}),t}(e.mapValue);default:throw ji(13486,{value:e})}}function oo(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function lo(e){return!!e&&"integerValue"in e}function co(e){return!!e&&"arrayValue"in e}function uo(e){return!!e&&"nullValue"in e}function ho(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function mo(e){return!!e&&"mapValue"in e}function po(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return ja(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=po(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=po(e.arrayValue.values[n]);return t}return{...e}}class fo{constructor(e){this.value=e}static empty(){return new fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!mo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=po(t)}setAll(e){let t=Yi.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=po(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());mo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Za(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];mo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ja(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new fo(po(this.value))}}function go(e){const t=[];return ja(e.fields,(e,n)=>{const r=new Yi([e]);if(mo(n)){const e=go(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Ia(t)}class yo{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new yo(e,0,ca.min(),ca.min(),ca.min(),fo.empty(),0)}static newFoundDocument(e,t,n,r){return new yo(e,1,t,ca.min(),n,r,0)}static newNoDocument(e,t){return new yo(e,2,t,ca.min(),ca.min(),fo.empty(),0)}static newUnknownDocument(e,t){return new yo(e,3,t,ca.min(),ca.min(),fo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ca.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ca.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xo{constructor(e,t){this.position=e,this.inclusive=t}}function vo(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?Xi.comparator(Xi.fromName(a.referenceValue),n.key):to(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function bo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Za(e.position[n],t.position[n]))return!1;return!0}class wo{constructor(e,t="asc"){this.field=e,this.dir=t}}function No(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class jo{}class So extends jo{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Po(e,t,n):"array-contains"===t?new Mo(e,n):"in"===t?new Ro(e,n):"not-in"===t?new Do(e,n):"array-contains-any"===t?new Fo(e,n):new So(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ao(e,n):new Lo(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(to(t,this.value)):null!==t&&Ja(this.value)===Ja(t)&&this.matchesComparison(to(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ji(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ko extends jo{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ko(e,t)}matches(e){return Eo(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Eo(e){return"and"===e.op}function To(e){return function(e){for(const t of e.filters)if(t instanceof ko)return!1;return!0}(e)&&Eo(e)}function Co(e){if(e instanceof So)return e.field.canonicalString()+e.op.toString()+so(e.value);if(To(e))return e.filters.map(e=>Co(e)).join(",");{const t=e.filters.map(e=>Co(e)).join(",");return`${e.op}(${t})`}}function _o(e,t){return e instanceof So?(n=e,(r=t)instanceof So&&n.op===r.op&&n.field.isEqual(r.field)&&Za(n.value,r.value)):e instanceof ko?function(e,t){return t instanceof ko&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&_o(n,t.filters[r]),!0)}(e,t):void ji(19439);var n,r}function Io(e){return e instanceof So?`${(t=e).field.canonicalString()} ${t.op} ${so(t.value)}`:e instanceof ko?function(e){return e.op.toString()+" {"+e.getFilters().map(Io).join(" ,")+"}"}(e):"Filter";var t}class Po extends So{constructor(e,t,n){super(e,t,n),this.key=Xi.fromName(n.referenceValue)}matches(e){const t=Xi.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ao extends So{constructor(e,t){super(e,"in",t),this.keys=Oo("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Lo extends So{constructor(e,t){super(e,"not-in",t),this.keys=Oo("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Oo(e,t){return(t.arrayValue?.values||[]).map(e=>Xi.fromName(e.referenceValue))}class Mo extends So{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return co(t)&&eo(t.arrayValue,this.value)}}class Ro extends So{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&eo(this.value.arrayValue,t)}}class Do extends So{constructor(e,t){super(e,"not-in",t)}matches(e){if(eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!eo(this.value.arrayValue,t)}}class Fo extends So{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!co(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>eo(this.value.arrayValue,e))}}class zo{constructor(e,t=null,n=[],r=[],s=null,i=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.Te=null}}function Uo(e,t=null,n=[],r=[],s=null,i=null,a=null){return new zo(e,t,n,r,s,i,a)}function Vo(e){const t=Ei(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Co(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),xa(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>so(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>so(e)).join(",")),t.Te=e}return t.Te}function Bo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!No(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!_o(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bo(e.startAt,t.startAt)&&bo(e.endAt,t.endAt)}function qo(e){return Xi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class $o{constructor(e,t=null,n=[],r=[],s=null,i="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ho(e){return new $o(e)}function Wo(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Go(e){return null!==e.collectionGroup}function Ko(e){const t=Ei(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new Ca(Yi.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t})(t).forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new wo(r,n))}),e.has(Yi.keyField().canonicalString())||t.Ie.push(new wo(Yi.keyField(),n))}return t.Ie}function Qo(e){const t=Ei(e);return t.Ee||(t.Ee=function(e,t){if("F"===e.limitType)return Uo(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new wo(e.field,t)});const n=e.endAt?new xo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new xo(e.startAt.position,e.startAt.inclusive):null;return Uo(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,Ko(e))),t.Ee}function Yo(e,t){const n=e.filters.concat([t]);return new $o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Xo(e,t,n){return new $o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jo(e,t){return Bo(Qo(e),Qo(t))&&e.limitType===t.limitType}function Zo(e){return`${Vo(Qo(e))}|lt:${e.limitType}`}function el(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Io(e)).join(", ")}]`),xa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>so(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>so(e)).join(",")),`Target(${t})`}(Qo(e))}; limitType=${e.limitType})`}function tl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Xi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ko(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=vo(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,Ko(n),r)||n.endAt&&!function(e,t,n){const r=vo(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,Ko(n),r)));var n,r}function nl(e){return(t,n)=>{let r=!1;for(const s of Ko(e)){const e=rl(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function rl(e,t,n){const r=e.field.isKeyField()?Xi.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?to(r,s):ji(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ji(19790,{direction:e.dir})}}class sl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ja(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return Sa(this.inner)}size(){return this.innerSize}}const il=new ka(Xi.comparator);function al(){return il}const ol=new ka(Xi.comparator);function ll(...e){let t=ol;for(const n of e)t=t.insert(n.key,n);return t}function cl(e){let t=ol;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ul(){return hl()}function dl(){return hl()}function hl(){return new sl(e=>e.toString(),(e,t)=>e.isEqual(t))}const ml=new ka(Xi.comparator),pl=new Ca(Xi.comparator);function fl(...e){let t=pl;for(const n of e)t=t.add(n);return t}const gl=new Ca(Ui);function yl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:va(t)?"-0":t}}function xl(e){return{integerValue:""+e}}function vl(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!va(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?xl(t):yl(e,t)}class bl{constructor(){this._=void 0}}function wl(e,t,n){return e instanceof Sl?function(e,t){const n={fields:{[Fa]:{stringValue:Da},[Ua]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Va(t)&&(t=Ba(t)),t&&(n.fields[za]=t),{mapValue:n}}(n,t):e instanceof kl?El(e,t):e instanceof Tl?Cl(e,t):function(e,t){const n=jl(e,t),r=Il(n)+Il(e.Ae);return lo(n)&&lo(e.Ae)?xl(r):yl(e.serializer,r)}(e,t)}function Nl(e,t,n){return e instanceof kl?El(e,t):e instanceof Tl?Cl(e,t):n}function jl(e,t){return e instanceof _l?lo(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class Sl extends bl{}class kl extends bl{constructor(e){super(),this.elements=e}}function El(e,t){const n=Pl(t);for(const r of e.elements)n.some(e=>Za(e,r))||n.push(r);return{arrayValue:{values:n}}}class Tl extends bl{constructor(e){super(),this.elements=e}}function Cl(e,t){let n=Pl(t);for(const r of e.elements)n=n.filter(e=>!Za(e,r));return{arrayValue:{values:n}}}class _l extends bl{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Il(e){return Ma(e.integerValue||e.doubleValue)}function Pl(e){return co(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Al{constructor(e,t){this.field=e,this.transform=t}}class Ll{constructor(e,t){this.version=e,this.transformResults=t}}class Ol{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ol}static exists(e){return new Ol(void 0,e)}static updateTime(e){return new Ol(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ml(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Rl{}function Dl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Gl(e.key,Ol.none()):new Bl(e.key,e.data,Ol.none());{const n=e.data,r=fo.empty();let s=new Ca(Yi.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new ql(e.key,r,new Ia(s.toArray()),Ol.none())}}function Fl(e,t,n){var r;e instanceof Bl?function(e,t,n){const r=e.value.clone(),s=Hl(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ql?function(e,t,n){if(!Ml(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Hl(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll($l(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function zl(e,t,n,r){return e instanceof Bl?function(e,t,n,r){if(!Ml(e.precondition,t))return n;const s=e.value.clone(),i=Wl(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof ql?function(e,t,n,r){if(!Ml(e.precondition,t))return n;const s=Wl(e.fieldTransforms,r,t),i=t.data;return i.setAll($l(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):(s=t,i=n,Ml(e.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):i);var s,i}function Ul(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=jl(r.transform,e||null);null!=s&&(null===n&&(n=fo.empty()),n.set(r.field,s))}return n||null}function Vl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Hi(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof kl&&r instanceof kl||n instanceof Tl&&r instanceof Tl?Hi(n.elements,r.elements,Za):n instanceof _l&&r instanceof _l?Za(n.Ae,r.Ae):n instanceof Sl&&r instanceof Sl);var n,r}(e,t)))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class Bl extends Rl{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ql extends Rl{constructor(e,t,n,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $l(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Hl(e,t,n){const r=new Map;ki(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,Nl(a,o,n[s]))}return r}function Wl(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,wl(e,i,t))}return r}class Gl extends Rl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kl extends Rl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ql{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Fl(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=zl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=zl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=dl();return this.mutations.forEach(r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=Dl(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(ca.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fl())}isEqual(e){return this.batchId===e.batchId&&Hi(this.mutations,e.mutations,(e,t)=>Vl(e,t))&&Hi(this.baseMutations,e.baseMutations,(e,t)=>Vl(e,t))}}class Yl{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ki(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=function(){return ml}();const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new Yl(e,t,n,r)}}class Xl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Jl{constructor(e,t){this.count=e,this.unchangedNames=t}}var Zl,ec;function tc(e){if(void 0===e)return bi("GRPC error has no .code"),Ti.UNKNOWN;switch(e){case Zl.OK:return Ti.OK;case Zl.CANCELLED:return Ti.CANCELLED;case Zl.UNKNOWN:return Ti.UNKNOWN;case Zl.DEADLINE_EXCEEDED:return Ti.DEADLINE_EXCEEDED;case Zl.RESOURCE_EXHAUSTED:return Ti.RESOURCE_EXHAUSTED;case Zl.INTERNAL:return Ti.INTERNAL;case Zl.UNAVAILABLE:return Ti.UNAVAILABLE;case Zl.UNAUTHENTICATED:return Ti.UNAUTHENTICATED;case Zl.INVALID_ARGUMENT:return Ti.INVALID_ARGUMENT;case Zl.NOT_FOUND:return Ti.NOT_FOUND;case Zl.ALREADY_EXISTS:return Ti.ALREADY_EXISTS;case Zl.PERMISSION_DENIED:return Ti.PERMISSION_DENIED;case Zl.FAILED_PRECONDITION:return Ti.FAILED_PRECONDITION;case Zl.ABORTED:return Ti.ABORTED;case Zl.OUT_OF_RANGE:return Ti.OUT_OF_RANGE;case Zl.UNIMPLEMENTED:return Ti.UNIMPLEMENTED;case Zl.DATA_LOSS:return Ti.DATA_LOSS;default:return ji(39323,{code:e})}}(ec=Zl||(Zl={}))[ec.OK=0]="OK",ec[ec.CANCELLED=1]="CANCELLED",ec[ec.UNKNOWN=2]="UNKNOWN",ec[ec.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ec[ec.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ec[ec.NOT_FOUND=5]="NOT_FOUND",ec[ec.ALREADY_EXISTS=6]="ALREADY_EXISTS",ec[ec.PERMISSION_DENIED=7]="PERMISSION_DENIED",ec[ec.UNAUTHENTICATED=16]="UNAUTHENTICATED",ec[ec.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ec[ec.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ec[ec.ABORTED=10]="ABORTED",ec[ec.OUT_OF_RANGE=11]="OUT_OF_RANGE",ec[ec.UNIMPLEMENTED=12]="UNIMPLEMENTED",ec[ec.INTERNAL=13]="INTERNAL",ec[ec.UNAVAILABLE=14]="UNAVAILABLE",ec[ec.DATA_LOSS=15]="DATA_LOSS";const nc=new ti([4294967295,4294967295],0);function rc(e){const t=(new TextEncoder).encode(e),n=new ni;return n.update(t),new Uint8Array(n.digest())}function sc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new ti([n,r],0),new ti([s,i],0)]}class ic{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ac(`Invalid padding: ${t}`);if(n<0)throw new ac(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new ac(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new ac(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ti.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(ti.fromNumber(n)));return 1===r.compare(nc)&&(r=new ti([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=rc(e),[n,r]=sc(t);for(let s=0;s<this.hashCount;s++){const e=this.ye(n,r,s);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new ic(s,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=rc(e),[n,r]=sc(t);for(let s=0;s<this.hashCount;s++){const e=this.ye(n,r,s);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class oc{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new oc(ca.min(),r,new ka(Ui),al(),fl())}}class lc{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new lc(n,t,fl(),fl(),fl())}}class cc{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class uc{constructor(e,t){this.targetId=e,this.Ce=t}}class dc{constructor(e,t,n=Aa.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class hc{constructor(){this.ve=0,this.Fe=fc(),this.Me=Aa.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=fl(),t=fl(),n=fl();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ji(38017,{changeType:s})}}),new lc(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=fc()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ki(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mc{constructor(e){this.Ge=e,this.ze=new Map,this.je=al(),this.Je=pc(),this.He=pc(),this.Ye=new ka(Ui)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:ji(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(qo(s))if(0===n){const e=new Xi(s.path);this.et(t,e,yo.newNoDocument(e,ca.min()))}else ki(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,a;try{i=Ra(n).toUint8Array()}catch(o){if(o instanceof Pa)return wi("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new ic(i,r,s)}catch(o){return wi(o instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const s=this.Ge.ht(),i=`projects/${s.projectId}/databases/${s.database}/documents/${n.path.canonicalString()}`;e.mightContain(i)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const s=this.ot(r);if(s){if(n.current&&qo(s.target)){const t=new Xi(s.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,yo.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=fl();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new oc(e,t,this.Ye,this.je,n);return this.je=al(),this.Je=pc(),this.He=pc(),this.Ye=new ka(Ui),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new hc,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ca(Ui),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ca(Ui),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||vi("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hc),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function pc(){return new ka(Xi.comparator)}function fc(){return new ka(Xi.comparator)}const gc=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),yc=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),xc=(()=>({and:"AND",or:"OR"}))();class vc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bc(e,t){return e.useProto3Json||xa(t)?t:{value:t}}function wc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function jc(e,t){return wc(e,t.toTimestamp())}function Sc(e){return ki(!!e,49232),ca.fromTimestamp(function(e){const t=Oa(e);return new la(t.seconds,t.nanos)}(e))}function kc(e,t){return Ec(e,t).canonicalString()}function Ec(e,t){const n=(r=e,new Ki(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function Tc(e){const t=Ki.fromString(e);return ki(Hc(t),10190,{key:t.toString()}),t}function Cc(e,t){return kc(e.databaseId,t.path)}function _c(e,t){const n=Tc(t);if(n.get(1)!==e.databaseId.projectId)throw new Ci(Ti.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ci(Ti.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Xi(Ac(n))}function Ic(e,t){return kc(e.databaseId,t)}function Pc(e){return new Ki(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ac(e){return ki(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Lc(e,t,n){return{name:Cc(e,t),fields:n.value.mapValue.fields}}function Oc(e,t){return{documents:[Ic(e,t.path)]}}function Mc(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ic(e,s);const i=function(e){if(0!==e.length)return qc(ko.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map(e=>{return{field:Vc((t=e).field),direction:Fc(t.dir)};var t})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=bc(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:s};var l}function Rc(e){let t=function(e){const t=Tc(e);return 4===t.length?Ki.emptyPath():Ac(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ki(1===r,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Dc(e);return t instanceof ko&&To(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>{return new wo(Bc((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,xa(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new xo(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new xo(n,t)}(n.endAt)),function(e,t,n,r,s,i,a,o){return new $o(e,t,n,r,s,i,a,o)}(t,s,a,i,o,"F",l,c)}function Dc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Bc(e.unaryFilter.field);return So.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Bc(e.unaryFilter.field);return So.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bc(e.unaryFilter.field);return So.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Bc(e.unaryFilter.field);return So.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ji(61313);default:return ji(60726)}}(e):void 0!==e.fieldFilter?(t=e,So.create(Bc(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ji(58110);default:return ji(50506)}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return ko.create(e.compositeFilter.filters.map(e=>Dc(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ji(1026)}}(e.compositeFilter.op))}(e):ji(30097,{filter:e});var t}function Fc(e){return gc[e]}function zc(e){return yc[e]}function Uc(e){return xc[e]}function Vc(e){return{fieldPath:e.canonicalString()}}function Bc(e){return Yi.fromServerFormat(e.fieldPath)}function qc(e){return e instanceof So?function(e){if("=="===e.op){if(ho(e.value))return{unaryFilter:{field:Vc(e.field),op:"IS_NAN"}};if(uo(e.value))return{unaryFilter:{field:Vc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ho(e.value))return{unaryFilter:{field:Vc(e.field),op:"IS_NOT_NAN"}};if(uo(e.value))return{unaryFilter:{field:Vc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vc(e.field),op:zc(e.op),value:e.value}}}(e):e instanceof ko?function(e){const t=e.getFilters().map(e=>qc(e));return 1===t.length?t[0]:{compositeFilter:{op:Uc(e.op),filters:t}}}(e):ji(54877,{filter:e})}function $c(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Hc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Wc{constructor(e,t,n,r,s=ca.min(),i=ca.min(),a=Aa.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Wc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Gc{constructor(e){this.yt=e}}function Kc(e){const t=Rc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Xo(t,t.limit,"L"):t}class Qc{constructor(){this.Cn=new Yc}addToCollectionParentIndex(e,t){return this.Cn.add(t),fa.resolve()}getCollectionParents(e,t){return fa.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fa.resolve()}deleteFieldIndex(e,t){return fa.resolve()}deleteAllFieldIndexes(e){return fa.resolve()}createTargetIndexes(e,t){return fa.resolve()}getDocumentsMatchingTarget(e,t){return fa.resolve(null)}getIndexType(e,t){return fa.resolve(0)}getFieldIndexes(e,t){return fa.resolve([])}getNextCollectionGroupToUpdate(e){return fa.resolve(null)}getMinOffset(e,t){return fa.resolve(da.min())}getMinOffsetFromCollectionGroup(e,t){return fa.resolve(da.min())}updateCollectionGroup(e,t,n){return fa.resolve()}updateIndexEntries(e,t){return fa.resolve()}}class Yc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ca(Ki.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ca(Ki.comparator)).toArray()}}const Xc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jc=41943040;class Zc{static withCacheSize(e){return new Zc(e,Zc.DEFAULT_COLLECTION_PERCENTILE,Zc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Zc.DEFAULT_COLLECTION_PERCENTILE=10,Zc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zc.DEFAULT=new Zc(Jc,Zc.DEFAULT_COLLECTION_PERCENTILE,Zc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zc.DISABLED=new Zc(-1,0,0);class eu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new eu(0)}static cr(){return new eu(-1)}}const tu="LruGarbageCollector";function nu([e,t],[n,r]){const s=Ui(e,n);return 0===s?Ui(t,r):s}class ru{constructor(e){this.Ir=e,this.buffer=new Ca(nu),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();nu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class su{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){vi(tu,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ga(e)?vi(tu,"Ignoring IndexedDB error during garbage collection: ",e):await pa(e)}await this.Vr(3e5)})}}class iu{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return fa.resolve(ya.ce);const n=new ru(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(vi("LruGarbageCollector","Garbage collection skipped; disabled"),fa.resolve(Xc)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(vi("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xc):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,s,i,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(vi("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),xi()<=be.DEBUG&&vi("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${r} in `+(a-i)+`ms\n\tRemoved ${s} targets in `+(o-a)+`ms\n\tRemoved ${e} documents in `+(l-o)+`ms\nTotal Duration: ${l-c}ms`),fa.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})))}}class au{constructor(){this.changes=new sl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?fa.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ou{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lu{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&zl(n.mutation,e,Ia.empty(),la.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,fl()).next(()=>t))}getLocalViewOfDocuments(e,t,n=fl()){const r=ul();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=ll();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ul();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,fl()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let s=al();const i=hl(),a=hl();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof ql)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),zl(a.mutation,t,a.mutation.getFieldMask(),la.now())):i.set(t.key,Ia.empty())}),this.recalculateAndSaveOverlays(e,s).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>a.set(e,new ou(t,i.get(e)??null))),a))}recalculateAndSaveOverlays(e,t){const n=hl();let r=new ka((e,t)=>e-t),s=fl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||Ia.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||fl()).add(e);r=r.insert(s.batchId,o)})}).next(()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=dl();l.forEach(e=>{if(!s.has(e)){const r=Dl(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return fa.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return s=t,Xi.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Go(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var s}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):fa.resolve(ul());let a=-1,o=s;return i.next(t=>fa.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?fa.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,s)).next(()=>this.computeViews(e,o,t,fl())).next(e=>({batchId:a,changes:cl(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xi(t)).next(e=>{let t=ll();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=ll();return this.indexManager.getCollectionParents(e,s).next(a=>fa.forEach(a,a=>{const o=(l=t,c=a.child(s),new $o(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r))).next(e=>{s.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,yo.newInvalidDocument(r)))});let n=ll();return e.forEach((e,r)=>{const i=s.get(e);void 0!==i&&zl(i.mutation,r,Ia.empty(),la.now()),tl(t,r)&&(n=n.insert(e,r))}),n})}}class cu{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return fa.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,{id:(n=t).id,version:n.version,createTime:Sc(n.createTime)}),fa.resolve();var n}getNamedQuery(e,t){return fa.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,{name:(n=t).name,query:Kc(n.bundledQuery),readTime:Sc(n.readTime)}),fa.resolve();var n}}class uu{constructor(){this.overlays=new ka(Xi.comparator),this.qr=new Map}getOverlay(e,t){return fa.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ul();return fa.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),fa.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),fa.resolve()}getOverlaysForCollection(e,t,n){const r=ul(),s=t.length+1,i=new Xi(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return fa.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new ka((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=ul(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ul(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return fa.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Xl(t,n));let s=this.qr.get(t);void 0===s&&(s=fl(),this.qr.set(t,s)),this.qr.set(t,s.add(n.key))}}class du{constructor(){this.sessionToken=Aa.EMPTY_BYTE_STRING}getSessionToken(e){return fa.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fa.resolve()}}class hu{constructor(){this.Qr=new Ca(mu.$r),this.Ur=new Ca(mu.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new mu(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new mu(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Xi(new Ki([])),n=new mu(t,e),r=new mu(t,e+1),s=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),s.push(e.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Xi(new Ki([])),n=new mu(t,e),r=new mu(t,e+1);let s=fl();return this.Ur.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new mu(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class mu{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Xi.comparator(e.key,t.key)||Ui(e.Yr,t.Yr)}static Kr(e,t){return Ui(e.Yr,t.Yr)||Xi.comparator(e.key,t.key)}}class pu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ca(mu.$r)}checkEmpty(e){return fa.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Ql(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Zr=this.Zr.add(new mu(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return fa.resolve(i)}lookupMutationBatch(e,t){return fa.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),s=r<0?0:r;return fa.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fa.resolve(0===this.mutationQueue.length?-1:this.tr-1)}getAllMutationBatches(e){return fa.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new mu(t,0),r=new mu(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);s.push(t)}),fa.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ca(Ui);return t.forEach(e=>{const t=new mu(e,0),r=new mu(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),fa.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;Xi.isDocumentKey(s)||(s=s.child(""));const i=new mu(new Xi(s),0);let a=new Ca(Ui);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},i),fa.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){ki(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return fa.forEach(t.mutations,r=>{const s=new mu(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new mu(t,0),r=this.Zr.firstAfterOrEqual(n);return fa.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,fa.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class fu{constructor(e){this.ri=e,this.docs=new ka(Xi.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return fa.resolve(n?n.document.mutableCopy():yo.newInvalidDocument(t))}getEntries(e,t){let n=al();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():yo.newInvalidDocument(e))}),fa.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=al();const i=t.path,a=new Xi(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||ha(ua(a),n)<=0||(r.has(a.key)||tl(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return fa.resolve(s)}getAllFromCollectionGroup(e,t,n,r){ji(9500)}ii(e,t){return fa.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new gu(this)}getSize(e){return fa.resolve(this.size)}}class gu extends au{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),fa.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class yu{constructor(e){this.persistence=e,this.si=new sl(e=>Vo(e),Bo),this.lastRemoteSnapshotVersion=ca.min(),this.highestTargetId=0,this.oi=0,this._i=new hu,this.targetCount=0,this.ai=eu.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),fa.resolve()}getLastRemoteSnapshotVersion(e){return fa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fa.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fa.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),fa.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new eu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,fa.resolve()}updateTargetData(e,t){return this.Pr(t),fa.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,fa.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.si.forEach((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),fa.waitFor(s).next(()=>r)}getTargetCount(e){return fa.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return fa.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),fa.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),fa.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),fa.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return fa.resolve(n)}containsKey(e,t){return fa.resolve(this._i.containsKey(t))}}class xu{constructor(e,t){this.ui={},this.overlays={},this.ci=new ya(0),this.li=!1,this.li=!0,this.hi=new du,this.referenceDelegate=e(this),this.Pi=new yu(this),this.indexManager=new Qc,this.remoteDocumentCache=new fu(e=>this.referenceDelegate.Ti(e)),this.serializer=new Gc(t),this.Ii=new cu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new pu(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){vi("MemoryPersistence","Starting transaction:",e);const r=new vu(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return fa.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class vu extends ma{constructor(e){super(),this.currentSequenceNumber=e}}class bu{constructor(e){this.persistence=e,this.Ri=new hu,this.Vi=null}static mi(e){return new bu(e)}get fi(){if(this.Vi)return this.Vi;throw ji(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),fa.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),fa.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),fa.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fa.forEach(this.fi,n=>{const r=Xi.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,ca.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return fa.or([()=>fa.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class wu{constructor(e,t){this.persistence=e,this.pi=new sl(e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=wa(t)),t=ba(e.get(n),t);return wa(t)}(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=function(e,t){return new iu(e,t)}(this,t)}static mi(e,t){return new wu(e,t)}Ei(){}di(e){return fa.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return fa.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?fa.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,s.removeEntry(r,ca.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),fa.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),fa.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),fa.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),fa.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ao(e.data.value)),t}br(e,t,n){return fa.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return fa.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Nu{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=fl(),r=fl();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Nu(e,t.fromCache,n,r)}}class ju{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Su{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=te()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Z())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ys(e,t).next(e=>{s.result=e}).next(()=>{if(!s.result)return this.ws(e,t,r,n).next(e=>{s.result=e})}).next(()=>{if(s.result)return;const n=new ju;return this.Ss(e,t,n).next(r=>{if(s.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>s.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(xi()<=be.DEBUG&&vi("QueryEngine","SDK will not create cache indexes for query:",el(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fa.resolve()):(xi()<=be.DEBUG&&vi("QueryEngine","Query:",el(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(xi()<=be.DEBUG&&vi("QueryEngine","The SDK decides to create cache indexes for query:",el(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qo(t))):fa.resolve())}ys(e,t){if(Wo(t))return fa.resolve(null);let n=Qo(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Xo(t,null,"F"),n=Qo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const s=fl(...r);return this.ps.getDocuments(e,s).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,s,n.readTime)?this.ys(e,Xo(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return Wo(t)||r.isEqual(ca.min())?fa.resolve(null):this.ps.getDocuments(e,n).next(s=>{const i=this.Ds(t,s);return this.Cs(t,i,n,r)?fa.resolve(null):(xi()<=be.DEBUG&&vi("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),el(t)),this.vs(e,i,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=ca.fromTimestamp(1e9===r?new la(n+1,0):new la(n,r));return new da(s,Xi.empty(),t)}(r,-1)).next(e=>e))})}Ds(e,t){let n=new Ca(nl(e));return t.forEach((t,r)=>{tl(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,n){return xi()<=be.DEBUG&&vi("QueryEngine","Using full collection scan to execute query:",el(t)),this.ps.getDocumentsMatchingQuery(e,t,da.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const ku="LocalStore";class Eu{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new ka(Ui),this.xs=new sl(e=>Vo(e),Bo),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lu(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}async function Tu(e,t){const n=Ei(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(s=>(r=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const s=[],i=[];let a=fl();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:s,addedBatchIds:i}))})})}function Cu(e){const t=Ei(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function _u(e,t){const n=Ei(e),r=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];t.targetChanges.forEach((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Aa.EMPTY_BYTE_STRING,ca.min()).withLastLimboFreeSnapshotVersion(ca.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){if(0===e.resumeToken.approximateByteSize())return!0;if(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8)return!0;return n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,i)&&a.push(n.Pi.updateTargetData(e,c))});let o=al(),l=fl();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(function(e,t,n){let r=fl(),s=fl();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=al();return n.forEach((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(ca.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):vi(ku,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),{ks:r,qs:s}})}(e,i,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(ca.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return fa.waitFor(a).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=s,e))}function Iu(e,t){const n=Ei(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}async function Pu(e,t,n){const r=Ei(e),s=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(a){if(!ga(a))throw a;vi(ku,`Failed to update sequence numbers for target ${t}: ${a}`)}r.Ms=r.Ms.remove(t),r.xs.delete(s.target)}function Au(e,t,n){const r=Ei(e);let s=ca.min(),i=fl();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Ei(e),s=r.xs.get(n);return void 0!==s?fa.resolve(r.Ms.get(s)):r.Pi.getTargetData(t,n)}(r,e,Qo(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?s:ca.min(),n?i:fl())).next(e=>(function(e,t,n){let r=e.Os.get(t)||ca.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Qs:i})))}class Lu{constructor(){this.activeTargetIds=gl}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ou{constructor(){this.Mo=new Lu,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Lu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Mu{Oo(e){}shutdown(){}}const Ru="ConnectivityMonitor";class Du{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){vi(Ru,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){vi(Ru,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fu=null;function zu(){return null===Fu?Fu=268435456+Math.round(2147483648*Math.random()):Fu++,"0x"+Fu.toString(16)}const Uu="RestConnection",Vu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bu{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===Ha?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,s){const i=zu(),a=this.zo(e,t.toUriEncodedString());vi(Uu,`Sending RPC '${e}' ${i}:`,a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,s);const{host:l}=new URL(a),c=K(l);return this.Jo(e,a,o,n,c).then(t=>(vi(Uu,`Received RPC '${e}' ${i}: `,t),t),t=>{throw wi(Uu,`RPC '${e}' ${i} failed with error: `,t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,s,i){return this.Go(e,t,n,r,s)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+gi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Vu[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class qu{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $u="WebChannelConnection";class Hu extends Bu{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,s){const i=zu();return new Promise((s,a)=>{const o=new si;o.setWithCredentials(!0),o.listenOnce(ai.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case oi.NO_ERROR:const t=o.getResponseJson();vi($u,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case oi.TIMEOUT:vi($u,`RPC '${e}' ${i} timed out`),a(new Ci(Ti.DEADLINE_EXCEEDED,"Request time out"));break;case oi.HTTP_ERROR:const n=o.getStatus();if(vi($u,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ti).indexOf(t)>=0?t:Ti.UNKNOWN}(t.status);a(new Ci(e,t.message))}else a(new Ci(Ti.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ci(Ti.UNAVAILABLE,"Connection failed."));break;default:ji(9055,{l_:e,streamId:i,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{vi($u,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);vi($u,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=zu(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=di(),a=ui(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");vi($u,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=i.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const m=new qu({Yo:t=>{h?vi($u,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(vi($u,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),vi($u,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return p(u,ii.EventType.OPEN,()=>{h||(vi($u,`RPC '${e}' stream ${r} transport opened.`),m.o_())}),p(u,ii.EventType.CLOSE,()=>{h||(h=!0,vi($u,`RPC '${e}' stream ${r} transport closed`),m.a_(),this.E_(u))}),p(u,ii.EventType.ERROR,t=>{h||(h=!0,wi($u,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),m.a_(new Ci(Ti.UNAVAILABLE,"The operation could not be completed")))}),p(u,ii.EventType.MESSAGE,t=>{if(!h){const n=t.data[0];ki(!!n,16349);const s=n,i=s?.error||s[0]?.error;if(i){vi($u,`RPC '${e}' stream ${r} received error:`,i);const t=i.status;let n=function(e){const t=Zl[e];if(void 0!==t)return tc(t)}(t),s=i.message;void 0===n&&(n=Ti.INTERNAL,s="Unknown error status: "+t+" with message "+i.message),h=!0,m.a_(new Ci(n,s)),u.close()}else vi($u,`RPC '${e}' stream ${r} received:`,n),m.u_(n)}}),p(a,ci.STAT_EVENT,t=>{t.stat===li.PROXY?vi($u,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===li.NOPROXY&&vi($u,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{m.__()},0),m}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Wu(){return"undefined"!=typeof document?document:null}function Gu(e){return new vc(e,!0)}class Ku{constructor(e,t,n=1e3,r=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&vi("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Qu="PersistentStream";class Yu{constructor(e,t,n,r,s,i,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ku(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Ti.RESOURCE_EXHAUSTED?(bi(t.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ti.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.D_===t&&this.G_(e,n)},t=>{e(()=>{const e=new Ci(Ti.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return vi(Qu,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(vi(Qu,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xu extends Yu{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const s="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:ji(39313,{state:r}),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ki(void 0===t||"string"==typeof t,58123),Aa.fromBase64String(t||"")):(ki(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Aa.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(e){const t=void 0===e.code?Ti.UNKNOWN:tc(e.code);return new Ci(t,e.message||"")}(o);n=new dc(s,i,a,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=_c(e,r.document.name),i=Sc(r.document.updateTime),a=r.document.createTime?Sc(r.document.createTime):ca.min(),o=new fo({mapValue:{fields:r.document.fields}}),l=yo.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new cc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=_c(e,r.document),i=r.readTime?Sc(r.readTime):ca.min(),a=yo.newNoDocument(s,i),o=r.removedTargetIds||[];n=new cc([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=_c(e,r.document),i=r.removedTargetIds||[];n=new cc([],i,s,null)}else{if(!("filter"in t))return ji(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new Jl(r,s),a=e.targetId;n=new uc(a,i)}}var r;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ca.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ca.min():t.readTime?Sc(t.readTime):ca.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Pc(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=qo(r)?{documents:Oc(e,r)}:{query:Mc(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Nc(e,t.resumeToken);const r=bc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ca.min())>0){n.readTime=wc(e,t.snapshotVersion.toTimestamp());const r=bc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ji(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Pc(this.serializer),t.removeTarget=e,this.q_(t)}}class Ju extends Yu{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ki(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ki(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){ki(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(ki(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Sc(e.updateTime):Sc(t);return n.isEqual(ca.min())&&(n=Sc(t)),new Ll(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Sc(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Pc(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>function(e,t){let n;if(t instanceof Bl)n={update:Lc(e,t.key,t.value)};else if(t instanceof Gl)n={delete:Cc(e,t.key)};else if(t instanceof ql)n={update:Lc(e,t.key,t.data),updateMask:$c(t.fieldMask)};else{if(!(t instanceof Kl))return ji(16599,{Vt:t.type});n={verify:Cc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Sl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof kl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Tl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _l)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw ji(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(s=t.precondition).updateTime?{updateTime:jc(r,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:ji(27497))),n;var r,s}(this.serializer,e))};this.q_(t)}}class Zu{}class ed extends Zu{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Ci(Ti.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Go(e,Ec(t,n),r,s,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ti.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ci(Ti.UNKNOWN,e.toString())})}Ho(e,t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Ho(e,Ec(t,n),r,i,a,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ti.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ci(Ti.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class td{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bi(t),this.aa=!1):vi("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const nd="RemoteStore";class rd{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{hd(this)&&(vi(nd,"Restarting streams for network reachability change."),await async function(e){const t=Ei(e);t.Ea.add(4),await id(t),t.Ra.set("Unknown"),t.Ea.delete(4),await sd(t)}(this))})}),this.Ra=new td(n,r)}}async function sd(e){if(hd(e))for(const t of e.da)await t(!0)}async function id(e){for(const t of e.da)await t(!1)}function ad(e,t){const n=Ei(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),dd(n)?ud(n):Id(n).O_()&&ld(n,t))}function od(e,t){const n=Ei(e),r=Id(n);n.Ia.delete(t),r.O_()&&cd(n,t),0===n.Ia.size&&(r.O_()?r.L_():hd(n)&&n.Ra.set("Unknown"))}function ld(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ca.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Id(e).Y_(t)}function cd(e,t){e.Va.Ue(t),Id(e).Z_(t)}function ud(e){e.Va=new mc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Id(e).start(),e.Ra.ua()}function dd(e){return hd(e)&&!Id(e).x_()&&e.Ia.size>0}function hd(e){return 0===Ei(e).Ea.size}function md(e){e.Va=void 0}async function pd(e){e.Ra.set("Online")}async function fd(e){e.Ia.forEach((t,n)=>{ld(e,t)})}async function gd(e,t){md(e),dd(e)?(e.Ra.ha(t),ud(e)):e.Ra.set("Unknown")}async function yd(e,t,n){if(e.Ra.set("Online"),t instanceof dc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(r){vi(nd,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await xd(e,r)}else if(t instanceof cc?e.Va.Ze(t):t instanceof uc?e.Va.st(t):e.Va.tt(t),!n.isEqual(ca.min()))try{const t=await Cu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Ia.get(r);s&&e.Ia.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Aa.EMPTY_BYTE_STRING,r.snapshotVersion)),cd(e,t);const s=new Wc(r.target,t,n,r.sequenceNumber);ld(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(s){vi(nd,"Failed to raise snapshot:",s),await xd(e,s)}}async function xd(e,t,n){if(!ga(t))throw t;e.Ea.add(1),await id(e),e.Ra.set("Offline"),n||(n=()=>Cu(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{vi(nd,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await sd(e)})}function vd(e,t){return t().catch(n=>xd(e,n,t))}async function bd(e){const t=Ei(e),n=Pd(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:-1;for(;wd(t);)try{const e=await Iu(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Nd(t,e)}catch(s){await xd(t,s)}jd(t)&&Sd(t)}function wd(e){return hd(e)&&e.Ta.length<10}function Nd(e,t){e.Ta.push(t);const n=Pd(e);n.O_()&&n.X_&&n.ea(t.mutations)}function jd(e){return hd(e)&&!Pd(e).x_()&&e.Ta.length>0}function Sd(e){Pd(e).start()}async function kd(e){Pd(e).ra()}async function Ed(e){const t=Pd(e);for(const n of e.Ta)t.ea(n.mutations)}async function Td(e,t,n){const r=e.Ta.shift(),s=Yl.from(r,t,n);await vd(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await bd(e)}async function Cd(e,t){t&&Pd(e).X_&&await async function(e,t){if(function(e){switch(e){case Ti.OK:return ji(64938);case Ti.CANCELLED:case Ti.UNKNOWN:case Ti.DEADLINE_EXCEEDED:case Ti.RESOURCE_EXHAUSTED:case Ti.INTERNAL:case Ti.UNAVAILABLE:case Ti.UNAUTHENTICATED:return!1;case Ti.INVALID_ARGUMENT:case Ti.NOT_FOUND:case Ti.ALREADY_EXISTS:case Ti.PERMISSION_DENIED:case Ti.FAILED_PRECONDITION:case Ti.ABORTED:case Ti.OUT_OF_RANGE:case Ti.UNIMPLEMENTED:case Ti.DATA_LOSS:return!0;default:return ji(15467,{code:e})}}(n=t.code)&&n!==Ti.ABORTED){const n=e.Ta.shift();Pd(e).B_(),await vd(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await bd(e)}var n}(e,t),jd(e)&&Sd(e)}async function _d(e,t){const n=Ei(e);n.asyncQueue.verifyOperationInProgress(),vi(nd,"RemoteStore received new credentials");const r=hd(n);n.Ea.add(3),await id(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await sd(n)}function Id(e){return e.ma||(e.ma=function(e,t,n){const r=Ei(e);return r.sa(),new Xu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:pd.bind(null,e),t_:fd.bind(null,e),r_:gd.bind(null,e),H_:yd.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),dd(e)?ud(e):e.Ra.set("Unknown")):(await e.ma.stop(),md(e))})),e.ma}function Pd(e){return e.fa||(e.fa=function(e,t,n){const r=Ei(e);return r.sa(),new Ju(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:kd.bind(null,e),r_:Cd.bind(null,e),ta:Ed.bind(null,e),na:Td.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await bd(e)):(await e.fa.stop(),e.Ta.length>0&&(vi(nd,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class Ad{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new Ad(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ci(Ti.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ld(e,t){if(bi("AsyncQueue",`${t}: ${e}`),ga(e))return new Ci(Ti.UNAVAILABLE,`${t}: ${e}`);throw e}class Od{static emptySet(e){return new Od(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Xi.comparator(t.key,n.key):(e,t)=>Xi.comparator(e.key,t.key),this.keyedMap=ll(),this.sortedSet=new ka(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Od))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Od;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Md{constructor(){this.ga=new ka(Xi.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ji(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Rd{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Rd(e,t,Od.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Dd{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Fd{constructor(){this.queries=zd(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Ei(e),r=n.queries;n.queries=zd(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Ci(Ti.ABORTED,"Firestore shutting down"))}}function zd(){return new sl(e=>Zo(e),Jo)}async function Ud(e,t){const n=Ei(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.ba()&&t.Da()&&(r=2):(i=new Dd,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const e=Ld(a,`Initialization of query '${el(t.query)}' failed`);return void t.onError(e)}n.queries.set(s,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&$d(n)}async function Vd(e,t){const n=Ei(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?s=t.Da()?0:1:!i.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Bd(e,t){const n=Ei(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(s)&&(r=!0);t.wa=s}}r&&$d(n)}function qd(e,t,n){const r=Ei(e),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(t)}function $d(e){e.Ca.forEach(e=>{e.next()})}var Hd,Wd;(Wd=Hd||(Hd={})).Ma="default",Wd.Cache="cache";class Gd{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Rd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Rd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hd.Cache}}class Kd{constructor(e){this.key=e}}class Qd{constructor(e){this.key=e}}class Yd{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=fl(),this.mutatedKeys=fl(),this.eu=nl(e),this.tu=new Od(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Md,r=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=tl(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let m=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),m=!0):this.su(c,u)||(n.track({type:2,doc:u}),m=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),m=!0):c&&!u&&(n.track({type:1,doc:c}),m=!0,(o||l)&&(a=!0)),m&&(u?(i=i.add(u),s=h?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:a,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ji(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=r??!1;const a=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==i.length||l?{snapshot:new Rd(this.query,e.tu,s,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Md,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=fl(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Qd(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Kd(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=fl();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Rd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Xd="SyncEngine";class Jd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Zd{constructor(e){this.key=e,this.hu=!1}}class eh{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new sl(e=>Zo(e),Jo),this.Iu=new Map,this.Eu=new Set,this.du=new ka(Xi.comparator),this.Au=new Map,this.Ru=new hu,this.Vu={},this.mu=new Map,this.fu=eu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function th(e,t,n=!0){const r=Nh(e);let s;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await rh(r,t,n,!0),s}async function nh(e,t){const n=Nh(e);await rh(n,t,!0,!1)}async function rh(e,t,n,r){const s=await function(e,t){const n=Ei(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(s=>s?(r=s,fa.resolve(r)):n.Pi.allocateTargetId(e).next(s=>(r=new Wc(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}(e.localStore,Qo(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await async function(e,t,n,r,s){e.pu=(t,n,r)=>async function(e,t,n,r){let s=t.view.ru(n);s.Cs&&(s=await Au(e.localStore,t.query,!1).then(({documents:e})=>t.view.ru(e,s)));const i=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i,a);return gh(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const i=await Au(e.localStore,t,!0),a=new Yd(t,i.Qs),o=a.ru(i.documents),l=lc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);gh(e,n,c.au);const u=new Jd(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}(e,t,i,"current"===a,s.resumeToken)),e.isPrimaryClient&&n&&ad(e.remoteStore,s),o}async function sh(e,t,n){const r=Ei(e),s=r.Tu.get(t),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(e=>!Jo(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Pu(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&od(r.remoteStore,s.targetId),ph(r,s.targetId)}).catch(pa)):(ph(r,s.targetId),await Pu(r.localStore,s.targetId,!0))}async function ih(e,t){const n=Ei(e),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),od(n.remoteStore,r.targetId))}async function ah(e,t,n){const r=function(e){const t=Ei(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dh.bind(null,t),t}(e);try{const e=await function(e,t){const n=Ei(e),r=la.now(),s=t.reduce((e,t)=>e.add(t.key),fl());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=al(),l=fl();return n.Ns.getEntries(e,s).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(s=>{i=s;const a=[];for(const e of t){const t=Ul(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new ql(e.key,t,go(t.value.mapValue),Ol.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:cl(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new ka(Ui)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await vh(r,e.changes),await bd(r.remoteStore)}catch(s){const e=Ld(s,"Failed to persist write");n.reject(e)}}async function oh(e,t){const n=Ei(e);try{const e=await _u(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(ki(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?ki(r.hu,14607):e.removedDocuments.size>0&&(ki(r.hu,42227),r.hu=!1))}),await vh(n,e,t)}catch(r){await pa(r)}}function lh(e,t,n){const r=Ei(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const s=r.view.va(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=Ei(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.Sa)s.va(t)&&(r=!0)}),r&&$d(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ch(e,t,n){const r=Ei(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),i=s&&s.key;if(i){let e=new ka(Xi.comparator);e=e.insert(i,yo.newNoDocument(i,ca.min()));const n=fl().add(i),s=new oc(ca.min(),new Map,new ka(Ui),e,n);await oh(r,s),r.du=r.du.remove(i),r.Au.delete(t),xh(r)}else await Pu(r.localStore,t,!1).then(()=>ph(r,t,n)).catch(pa)}async function uh(e,t){const n=Ei(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ei(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=fa.resolve();return i.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);ki(null!==i,48541),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=fl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);mh(n,r,null),hh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vh(n,e)}catch(s){await pa(s)}}async function dh(e,t,n){const r=Ei(e);try{const e=await function(e,t){const n=Ei(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(ki(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);mh(r,t,n),hh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await vh(r,e)}catch(s){await pa(s)}}function hh(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function mh(e,t,n){const r=Ei(e);let s=r.Vu[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Vu[r.currentUser.toKey()]=s}}function ph(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||fh(e,t)})}function fh(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(od(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),xh(e))}function gh(e,t,n){for(const r of n)r instanceof Kd?(e.Ru.addReference(r.key,t),yh(e,r)):r instanceof Qd?(vi(Xd,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||fh(e,r.key)):ji(19791,{wu:r})}function yh(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(vi(Xd,"New document in limbo: "+n),e.Eu.add(r),xh(e))}function xh(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Xi(Ki.fromString(t)),r=e.fu.next();e.Au.set(r,new Zd(n)),e.du=e.du.insert(n,r),ad(e.remoteStore,new Wc(Qo(Ho(n.path)),r,"TargetPurposeLimboResolution",ya.ce))}}async function vh(e,t,n){const r=Ei(e),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{a.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){const t=e?!e.fromCache:n?.targetChanges.get(o.targetId)?.current;r.sharedClientState.updateQueryState(o.targetId,t?"current":"not-current")}if(e){s.push(e);const t=Nu.As(o.targetId,e);i.push(t)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(e,t){const n=Ei(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>fa.forEach(t,t=>fa.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>fa.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!ga(r))throw r;vi(ku,"Failed to update sequence numbers: "+r)}for(const s of t){const e=s.targetId;if(!s.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,s)}}}(r.localStore,i))}async function bh(e,t){const n=Ei(e);if(!n.currentUser.isEqual(t)){vi(Xd,"User change. New user:",t.toKey());const e=await Tu(n.localStore,t);n.currentUser=t,s="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).mu.forEach(e=>{e.forEach(e=>{e.reject(new Ci(Ti.CANCELLED,s))})}),r.mu.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await vh(n,e.Ls)}var r,s}function wh(e,t){const n=Ei(e),r=n.Au.get(t);if(r&&r.hu)return fl().add(r.key);{let e=fl();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Nh(e){const t=Ei(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=oh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ch.bind(null,t),t.Pu.H_=Bd.bind(null,t.eventManager),t.Pu.yu=qd.bind(null,t.eventManager),t}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return function(e,t,n,r){return new Eu(e,t,n,r)}(this.persistence,new Su,e.initialUser,this.serializer)}Cu(e){return new xu(bu.mi,this.serializer)}Du(e){return new Ou}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class Sh extends jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ki(this.persistence.referenceDelegate instanceof wu,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new su(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Zc.withCacheSize(this.cacheSizeBytes):Zc.DEFAULT;return new xu(e=>wu.mi(e,t),this.serializer)}}class kh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>lh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=bh.bind(null,this.syncEngine),await async function(e,t){const n=Ei(e);t?(n.Ea.delete(2),await sd(n)):t||(n.Ea.add(2),await id(n),n.Ra.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Fd}createDatastore(e){const t=Gu(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Hu(r));var r;return function(e,t,n,r){return new ed(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,s=e=>lh(this.syncEngine,e,0),i=Du.v()?new Du:new Mu,new rd(t,n,r,s,i);var t,n,r,s,i}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new eh(e,t,n,r,s,i);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=Ei(e);vi(nd,"RemoteStore shutting down."),t.Ea.add(5),await id(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}kh.provider={build:()=>new kh};class Eh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Th="FirestoreClient";class Ch{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=fi.UNAUTHENTICATED,this.clientId=zi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async e=>{vi(Th,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(vi(Th,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ld(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function _h(e,t){e.asyncQueue.verifyOperationInProgress(),vi(Th,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Tu(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ih(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){vi(Th,"Using user provided OfflineComponentProvider");try{await _h(e,e._uninitializedComponentsProvider._offline)}catch(t){const s=t;if(!("FirebaseError"===(n=s).name?n.code===Ti.FAILED_PRECONDITION||n.code===Ti.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw s;wi("Error using user provided cache. Falling back to memory cache: "+s),await _h(e,new jh)}}else vi(Th,"Using default OfflineComponentProvider"),await _h(e,new Sh(void 0));var n;return e._offlineComponents}(e);vi(Th,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>_d(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>_d(t.remoteStore,n)),e._onlineComponents=t}async function Ph(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(vi(Th,"Using user provided OnlineComponentProvider"),await Ih(e,e._uninitializedComponentsProvider._online)):(vi(Th,"Using default OnlineComponentProvider"),await Ih(e,new kh))),e._onlineComponents}async function Ah(e){const t=await Ph(e),n=t.eventManager;return n.onListen=th.bind(null,t.syncEngine),n.onUnlisten=sh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=nh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ih.bind(null,t.syncEngine),n}function Lh(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Oh=new Map,Mh="firestore.googleapis.com",Rh=!0;class Dh{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new Ci(Ti.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mh,this.ssl=Rh}else this.host=e.host,this.ssl=e.ssl??Rh;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Jc;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ci(Ti.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ci(Ti.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lh(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ci(Ti.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Ci(Ti.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Ci(Ti.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Fh{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ci(Ti.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ci(Ti.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dh(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Pi;switch(e.type){case"firstParty":return new Mi(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ci(Ti.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Oh.get(e);t&&(vi("ComponentProvider","Removing Datastore"),Oh.delete(e),t.terminate())}(this),Promise.resolve()}}function zh(e,t,n,r={}){e=ra(e,Fh);const s=K(t),i=e._getSettings(),a={...i,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;s&&(Q(`https://${o}`),J("Firestore",!0)),i.host!==Mh&&i.host!==o&&wi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:o,ssl:s,emulatorOptions:r};if(!oe(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=fi.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[U(JSON.stringify({alg:"none",type:"JWT"})),U(JSON.stringify(i)),""].join(".")}(r.mockUserToken,e._app?.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ci(Ti.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new fi(s)}e._authCredentials=new Ai(new Ii(t,n))}}class Uh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Uh(this.firestore,e,this._query)}}class Vh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vh(this.firestore,e,this._key)}toJSON(){return{type:Vh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ia(t,Vh._jsonSchema))return new Vh(e,n||null,new Xi(Ki.fromString(t.referencePath)))}}Vh._jsonSchemaVersion="firestore/documentReference/1.0",Vh._jsonSchema={type:sa("string",Vh._jsonSchemaVersion),referencePath:sa("string")};class Bh extends Uh{constructor(e,t,n){super(e,t,Ho(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vh(this.firestore,null,new Xi(e))}withConverter(e){return new Bh(this.firestore,e,this._path)}}function qh(e,t,...n){if(e=fe(e),Ji("collection","path",t),e instanceof Fh){const r=Ki.fromString(t,...n);return ea(r),new Bh(e,null,r)}{if(!(e instanceof Vh||e instanceof Bh))throw new Ci(Ti.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ki.fromString(t,...n));return ea(r),new Bh(e.firestore,null,r)}}function $h(e,t,...n){if(e=fe(e),1===arguments.length&&(t=zi.newId()),Ji("doc","path",t),e instanceof Fh){const r=Ki.fromString(t,...n);return Zi(r),new Vh(e,null,new Xi(r))}{if(!(e instanceof Vh||e instanceof Bh))throw new Ci(Ti.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ki.fromString(t,...n));return Zi(r),new Vh(e.firestore,e instanceof Bh?e.converter:null,new Xi(r))}}const Hh="AsyncQueue";class Wh{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ku(this,"async_queue_retry"),this._c=()=>{const e=Wu();e&&vi(Hh,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Wu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Wu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new _i;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ga(e))throw e;vi(Hh,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,bi("INTERNAL UNHANDLED ERROR: ",Gh(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Ad.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&ji(47125,{Pc:Gh(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Gh(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Kh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Qh extends Fh{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Wh,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wh(e),this._firestoreClient=void 0,await e}}}function Yh(e){if(e._terminated)throw new Ci(Ti.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){const t=e._freezeSettings(),n=(r=e._databaseId,s=e._app?.options.appId||"",i=e._persistenceKey,a=t,new $a(r,s,i,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,Lh(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator));var r,s,i,a;e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Ch(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}(e),e._firestoreClient}class Xh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xh(Aa.fromBase64String(e))}catch(t){throw new Ci(Ti.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xh(Aa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xh._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ia(e,Xh._jsonSchema))return Xh.fromBase64String(e.bytes)}}Xh._jsonSchemaVersion="firestore/bytes/1.0",Xh._jsonSchema={type:sa("string",Xh._jsonSchemaVersion),bytes:sa("string")};class Jh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ci(Ti.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zh{constructor(e){this._methodName=e}}class em{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ci(Ti.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ci(Ti.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ui(this._lat,e._lat)||Ui(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:em._jsonSchemaVersion}}static fromJSON(e){if(ia(e,em._jsonSchema))return new em(e.latitude,e.longitude)}}em._jsonSchemaVersion="firestore/geoPoint/1.0",em._jsonSchema={type:sa("string",em._jsonSchemaVersion),latitude:sa("number"),longitude:sa("number")};class tm{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:tm._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ia(e,tm._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new tm(e.vectorValues);throw new Ci(Ti.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}tm._jsonSchemaVersion="firestore/vectorValue/1.0",tm._jsonSchema={type:sa("string",tm._jsonSchemaVersion),vectorValues:sa("object")};const nm=/^__.*__$/;class rm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ql(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bl(e,this.data,t,this.fieldTransforms)}}function sm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ji(40011,{Ac:e})}}class im{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new im({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ym(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(sm(this.Ac)&&nm.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class am{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Gu(e)}Cc(e,t,n,r=!1){return new im({Ac:e,methodName:t,Dc:n,path:Yi.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function om(e){const t=e._freezeSettings(),n=Gu(e._databaseId);return new am(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lm(e,t,n,r,s,i={}){const a=e.Cc(i.merge||i.mergeFields?2:0,t,n,s);mm("Data must be an object, but it was:",a,r);const o=dm(r,a);let l,c;if(i.merge)l=new Ia(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=pm(t,r,n);if(!a.contains(s))throw new Ci(Ti.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);xm(e,s)||e.push(s)}l=new Ia(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new rm(new fo(o),l,c)}class cm extends Zh{_toFieldTransform(e){return new Al(e.path,new Sl)}isEqual(e){return e instanceof cm}}function um(e,t){if(hm(e=fe(e)))return mm("Unsupported field value:",t,e),dm(e,t);if(e instanceof Zh)return function(e,t){if(!sm(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=um(s,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=fe(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return vl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=la.fromDate(e);return{timestampValue:wc(t.serializer,n)}}if(e instanceof la){const n=new la(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:wc(t.serializer,n)}}if(e instanceof em)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Xh)return{bytesValue:Nc(t.serializer,e._byteString)};if(e instanceof Vh){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:kc(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof tm)return n=e,r=t,{mapValue:{fields:{[Ga]:{stringValue:Ya},[Xa]:{arrayValue:{values:n.toArray().map(e=>{if("number"!=typeof e)throw r.Sc("VectorValues must only contain numeric values.");return yl(r.serializer,e)})}}}}};var n,r;throw t.Sc(`Unsupported field value: ${na(e)}`)}(e,t)}function dm(e,t){const n={};return Sa(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ja(e,(e,r)=>{const s=um(r,t.mc(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function hm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof la||e instanceof em||e instanceof Xh||e instanceof Vh||e instanceof Zh||e instanceof tm)}function mm(e,t,n){if(!hm(n)||!ta(n)){const r=na(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function pm(e,t,n){if((t=fe(t))instanceof Jh)return t._internalPath;if("string"==typeof t)return gm(e,t);throw ym("Field path arguments must be of type string or ",e,!1,void 0,n)}const fm=new RegExp("[~\\*/\\[\\]]");function gm(e,t,n){if(t.search(fm)>=0)throw ym(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Jh(...t.split("."))._internalPath}catch(r){throw ym(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ym(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new Ci(Ti.INVALID_ARGUMENT,o+e+l)}function xm(e,t){return e.some(e=>e.isEqual(t))}class vm{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class bm extends vm{data(){return super.data()}}function wm(e,t){return"string"==typeof t?gm(e,t):t instanceof Jh?t._internalPath:t._delegate._internalPath}function Nm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ci(Ti.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jm{}class Sm extends jm{}function km(e,t,...n){let r=[];t instanceof jm&&r.push(t),r=r.concat(n),function(e){const t=e.filter(e=>e instanceof Tm).length,n=e.filter(e=>e instanceof Em).length;if(t>1||t>0&&n>0)throw new Ci(Ti.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)e=s._apply(e);return e}class Em extends Sm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Em(e,t,n)}_apply(e){const t=this._parse(e);return Am(e._query,t),new Uh(e.firestore,e.converter,Yo(e._query,t))}_parse(e){const t=om(e.firestore),n=function(e,t,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Ci(Ti.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){Pm(a,i);const t=[];for(const n of a)t.push(Im(r,e,n));o={arrayValue:{values:t}}}else o=Im(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Pm(a,i),o=function(e,t,n,r=!1){return um(n,e.Cc(r?4:3,t))}(n,t,a,"in"===i||"not-in"===i);return So.create(s,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Tm extends jm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tm(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:ko.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)Am(n,s),n=Yo(n,s)}(e._query,t),new Uh(e.firestore,e.converter,Yo(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Cm extends Sm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cm(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ci(Ti.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ci(Ti.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wo(t,n)}(e._query,this._field,this._direction);return new Uh(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new $o(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function _m(e,t="asc"){const n=t,r=wm("orderBy",e);return Cm._create(r,n)}function Im(e,t,n){if("string"==typeof(n=fe(n))){if(""===n)throw new Ci(Ti.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Go(t)&&-1!==n.indexOf("/"))throw new Ci(Ti.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ki.fromString(n));if(!Xi.isDocumentKey(r))throw new Ci(Ti.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oo(e,new Xi(r))}if(n instanceof Vh)return oo(e,n._key);throw new Ci(Ti.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${na(n)}.`)}function Pm(e,t){if(!Array.isArray(e)||0===e.length)throw new Ci(Ti.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Am(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ci(Ti.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ci(Ti.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Lm{convertValue(e,t="none"){switch(Ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ma(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ji(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return ja(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){const t=e.fields?.[Xa].arrayValue?.values?.map(e=>Ma(e.doubleValue));return new tm(t)}convertGeoPoint(e){return new em(Ma(e.latitude),Ma(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ba(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(qa(e));default:return null}}convertTimestamp(e){const t=Oa(e);return new la(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ki.fromString(e);ki(Hc(n),9688,{name:e});const r=new Wa(n.get(1),n.get(3)),s=new Xi(n.popFirst(5));return r.isEqual(t)||bi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Om(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Mm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rm extends vm{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Dm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(wm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ci(Ti.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Rm._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Rm._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rm._jsonSchema={type:sa("string",Rm._jsonSchemaVersion),bundleSource:sa("string","DocumentSnapshot"),bundleName:sa("string"),bundle:sa("string")};class Dm extends Rm{data(e={}){return super.data(e)}}class Fm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Mm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Dm(this._firestore,this._userDataWriter,n.key,n,new Mm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ci(Ti.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Dm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Mm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Dm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Mm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:zm(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ci(Ti.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fm._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zi.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ji(61501,{type:e})}}function Um(e){e=ra(e,Vh);const t=ra(e.firestore,Qh);return function(e,t,n={}){const r=new _i;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new Eh({next:o=>{i.Nu(),t.enqueueAndForget(()=>Vd(e,a));const l=o.docs.has(n);!l&&o.fromCache?s.reject(new Ci(Ti.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?s.reject(new Ci(Ti.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(o)},error:e=>s.reject(e)}),a=new Gd(Ho(n.path),i,{includeMetadataChanges:!0,qa:!0});return Ud(e,a)}(await Ah(e),e.asyncQueue,t,n,r)),r.promise}(Yh(t),e._key).then(n=>Gm(t,e,n))}Fm._jsonSchemaVersion="firestore/querySnapshot/1.0",Fm._jsonSchema={type:sa("string",Fm._jsonSchemaVersion),bundleSource:sa("string","QuerySnapshot"),bundleName:sa("string"),bundle:sa("string")};class Vm extends Lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vh(this.firestore,null,t)}}function Bm(e){e=ra(e,Uh);const t=ra(e.firestore,Qh),n=Yh(t),r=new Vm(t);return Nm(e._query),function(e,t,n={}){const r=new _i;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new Eh({next:n=>{i.Nu(),t.enqueueAndForget(()=>Vd(e,a)),n.fromCache&&"server"===r.source?s.reject(new Ci(Ti.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new Gd(n,i,{includeMetadataChanges:!0,qa:!0});return Ud(e,a)}(await Ah(e),e.asyncQueue,t,n,r)),r.promise}(n,e._query).then(n=>new Fm(t,r,e,n))}function qm(e,t,n){e=ra(e,Vh);const r=ra(e.firestore,Qh),s=Om(e.converter,t,n);return Wm(r,[lm(om(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,Ol.none())])}function $m(e){return Wm(ra(e.firestore,Qh),[new Gl(e._key,Ol.none())])}function Hm(e,t){const n=ra(e.firestore,Qh),r=$h(e),s=Om(e.converter,t);return Wm(n,[lm(om(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,Ol.exists(!1))]).then(()=>r)}function Wm(e,t){return function(e,t){const n=new _i;return e.asyncQueue.enqueueAndForget(async()=>ah(await function(e){return Ph(e).then(e=>e.syncEngine)}(e),t,n)),n.promise}(Yh(e),t)}function Gm(e,t,n){const r=n.docs.get(t._key),s=new Vm(e);return new Rm(e,s,t._key,r,new Mm(n.hasPendingWrites,n.fromCache),t.converter)}function Km(){return new cm("serverTimestamp")}!function(e,t=!0){gi=Pt,Et(new ge("firestore",(e,{instanceIdentifier:n,options:r})=>{const s=e.getProvider("app").getImmediate(),i=new Qh(new Li(e.getProvider("auth-internal")),new Di(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ci(Ti.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(e.options.projectId,t)}(s,n),s);return r={useFetchStreams:t,...r},i._setSettings(r),i},"PUBLIC").setMultipleInstances(!0)),Ot(mi,pi,e),Ot(mi,pi,"esm2020")}();const Qm="@firebase/installations",Ym="0.6.19",Xm=1e4,Jm=`w:${Ym}`,Zm="FIS_v2",ep=36e5,tp=new ie("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function np(e){return e instanceof se&&e.code.includes("request-failed")}function rp({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function sp(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function ip(e,t){const n=(await t.json()).error;return tp.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ap({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function op(e,{refreshToken:t}){const n=ap(e);return n.append("Authorization",function(e){return`${Zm} ${e}`}(t)),n}async function lp(e){const t=await e();return t.status>=500&&t.status<600?e():t}function cp(e){return new Promise(t=>{setTimeout(t,e)})}const up=/^[cdef][\w-]{21}$/;function dp(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return up.test(t)?t:""}catch{return""}}function hp(e){return`${e.appName}!${e.appId}`}const mp=new Map;function pp(e,t){const n=hp(e);fp(n,t),function(e,t){const n=function(){!gp&&"BroadcastChannel"in self&&(gp=new BroadcastChannel("[Firebase] FID Change"),gp.onmessage=e=>{fp(e.data.key,e.data.fid)});return gp}();n&&n.postMessage({key:e,fid:t});0===mp.size&&gp&&(gp.close(),gp=null)}(n,t)}function fp(e,t){const n=mp.get(e);if(n)for(const r of n)r(t)}let gp=null;const yp="firebase-installations-store";let xp=null;function vp(){return xp||(xp=ze("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(yp)}})),xp}async function bp(e,t){const n=hp(e),r=(await vp()).transaction(yp,"readwrite"),s=r.objectStore(yp),i=await s.get(n);return await s.put(t,n),await r.done,i&&i.fid===t.fid||pp(e,t.fid),t}async function wp(e){const t=hp(e),n=(await vp()).transaction(yp,"readwrite");await n.objectStore(yp).delete(t),await n.done}async function Np(e,t){const n=hp(e),r=(await vp()).transaction(yp,"readwrite"),s=r.objectStore(yp),i=await s.get(n),a=t(i);return void 0===a?await s.delete(n):await s.put(a,n),await r.done,!a||i&&i.fid===a.fid||pp(e,a.fid),a}async function jp(e){let t;const n=await Np(e.appConfig,n=>{const r=function(e){const t=e||{fid:dp(),registrationStatus:0};return Ep(t)}(n),s=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(tp.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=rp(e),s=ap(e),i=t.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={fid:n,authVersion:Zm,appId:e.appId,sdkVersion:Jm},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await lp(()=>fetch(r,o));if(l.ok){const e=await l.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:sp(e.authToken)}}throw await ip("Create Installation",l)}(e,t);return bp(e.appConfig,n)}catch(n){throw np(n)&&409===n.customData.serverCode?await wp(e.appConfig):await bp(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Sp(e)}:{installationEntry:t}}(e,r);return t=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Sp(e){let t=await kp(e.appConfig);for(;1===t.registrationStatus;)await cp(100),t=await kp(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await jp(e);return n||t}return t}function kp(e){return Np(e,e=>{if(!e)throw tp.create("installation-not-found");return Ep(e)})}function Ep(e){return 1===(t=e).registrationStatus&&t.registrationTime+Xm<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Tp({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${rp(e)}/${t}/authTokens:generate`}(e,n),s=op(e,n),i=t.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={installation:{sdkVersion:Jm,appId:e.appId}},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await lp(()=>fetch(r,o));if(l.ok){return sp(await l.json())}throw await ip("Generate Auth Token",l)}async function Cp(e,t=!1){let n;const r=await Np(e.appConfig,r=>{if(!Ip(r))throw tp.create("not-registered");const s=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ep}(e)}(s))return r;if(1===s.requestStatus)return n=async function(e,t){let n=await _p(e.appConfig);for(;1===n.authToken.requestStatus;)await cp(100),n=await _p(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Cp(e,t):r}(e,t),r;{if(!navigator.onLine)throw tp.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}(r);return n=async function(e,t){try{const n=await Tp(e,t),r={...t,authToken:n};return await bp(e.appConfig,r),n}catch(n){if(!np(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n={...t,authToken:{requestStatus:0}};await bp(e.appConfig,n)}else await wp(e.appConfig);throw n}}(e,t),t}});return n?await n:r.authToken}function _p(e){return Np(e,e=>{if(!Ip(e))throw tp.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Xm<Date.now()?{...e,authToken:{requestStatus:0}}:e;var n})}function Ip(e){return void 0!==e&&2===e.registrationStatus}async function Pp(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await jp(e);t&&await t}(n);return(await Cp(n,t)).token}function Ap(e){return tp.create("missing-app-config-values",{valueName:e})}const Lp="installations",Op=e=>{const t=Tt(e.getProvider("app").getImmediate(),Lp).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await jp(t);return r?r.catch(console.error):Cp(t).catch(console.error),n.fid}(t),getToken:e=>Pp(t,e)}};Et(new ge(Lp,e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Ap("App Configuration");if(!e.name)throw Ap("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Ap(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Tt(t,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),Et(new ge("installations-internal",Op,"PRIVATE")),Ot(Qm,Ym),Ot(Qm,Ym,"esm2020");const Mp="analytics",Rp="https://www.googletagmanager.com/gtag/js",Dp=new Ee("@firebase/analytics"),Fp=new ie("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function zp(e){if(!e.startsWith(Rp)){const t=Fp.create("invalid-gtag-resource",{gtagURL:e});return Dp.warn(t.message),""}return e}function Up(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Vp(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:zp}),r=document.createElement("script"),s=`${Rp}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Bp(e,t,n,r){return async function(s,...i){try{if("event"===s){const[r,s]=i;await async function(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let e=s.send_to;Array.isArray(e)||(e=[e]);const r=await Up(n);for(const n of e){const e=r.find(e=>e.measurementId===n),s=e&&t[e.appId];if(!s){i=[];break}i.push(s)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(i){Dp.error(i)}}(e,t,n,r,s)}else if("config"===s){const[s,a]=i;await async function(e,t,n,r,s,i){const a=r[s];try{if(a)await t[a];else{const e=(await Up(n)).find(e=>e.measurementId===s);e&&await t[e.appId]}}catch(o){Dp.error(o)}e("config",s,i)}(e,t,n,r,s,a)}else if("consent"===s){const[t,n]=i;e("consent",t,n)}else if("get"===s){const[t,n,r]=i;e("get",t,n,r)}else if("set"===s){const[t]=i;e("set",t)}else e(s,...i)}catch(a){Dp.error(a)}}}const qp=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function $p(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Hp(e,t=qp,n){const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw Fp.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Fp.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Gp;return setTimeout(async()=>{o.abort()},6e4),Wp({appId:r,apiKey:s,measurementId:i},a,o,t)}async function Wp(e,{throttleEndTimeMillis:t,backoffCount:n},r,s=qp){const{appId:i,measurementId:a}=e;try{await function(e,t){return new Promise((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(i),r(Fp.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(r,t)}catch(o){if(a)return Dp.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${o?.message}]`),{appId:i,measurementId:a};throw o}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:$p(n)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),i=await fetch(s,r);if(200!==i.status&&304!==i.status){let e="";try{const t=await i.json();t.error?.message&&(e=t.error.message)}catch(a){}throw Fp.create("config-fetch-failed",{httpStatus:i.status,responseMessage:e})}return i.json()}(e);return s.deleteThrottleMetadata(i),t}catch(o){const t=o;if(!function(e){if(!(e instanceof se&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(s.deleteThrottleMetadata(i),a)return Dp.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${t?.message}]`),{appId:i,measurementId:a};throw o}const l=503===Number(t?.customData?.httpStatus)?pe(n,s.intervalMillis,30):pe(n,s.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return s.setThrottleMetadata(i,c),Dp.debug(`Calling attemptFetch again in ${l} millis`),Wp(e,c,r,s)}}class Gp{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Kp(e,t,n,r,s,i,a){const o=Hp(e);o.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Dp.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Dp.error(e)),t.push(o);const l=async function(){if(!ne())return Dp.warn(Fp.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await re()}catch(e){return Dp.warn(Fp.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[c,u]=await Promise.all([o,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Rp)&&n.src.includes(e))return n;return null})(i)||Vp(i,c.measurementId),s("js",new Date);const d=a?.config??{};return d.origin="firebase",d.update=!0,null!=u&&(d.firebase_id=u),s("config",c.measurementId,d),c.measurementId}class Qp{constructor(e){this.app=e}_delete(){return delete Yp[this.app.options.appId],Promise.resolve()}}let Yp={},Xp=[];const Jp={};let Zp,ef,tf="dataLayer",nf=!1;function rf(){const e=[];if(ee()&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=Fp.create("invalid-analytics-context",{errorInfo:t});Dp.warn(n.message)}}function sf(e,t,n){rf();const r=e.options.appId;if(!r)throw Fp.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Fp.create("no-api-key");Dp.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yp[r])throw Fp.create("already-exists",{id:r});if(!nf){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(tf);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,s){let i=function(...e){window[r].push(arguments)};return window[s]&&"function"==typeof window[s]&&(i=window[s]),window[s]=Bp(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}(Yp,Xp,Jp,tf,"gtag");ef=e,Zp=t,nf=!0}Yp[r]=Kp(e,Xp,Jp,t,Zp,tf,n);return new Qp(e)}const af="@firebase/analytics",of="0.10.18";Et(new ge(Mp,(e,{options:t})=>sf(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Et(new ge("analytics-internal",function(e){try{const t=e.getProvider(Mp).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=fe(e),async function(e,t,n,r,s){if(s&&s.global)e("event",n,r);else{const s=await t;e("event",n,{...r,send_to:s})}}(ef,Yp[e.app.options.appId],t,n,r).catch(e=>Dp.error(e))}(t,e,n,r)}}catch(t){throw Fp.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Ot(af,of),Ot(af,of,"esm2020");const lf=At({apiKey:"AIzaSyCTrU2IATfepLZ7tjn5HVSWW6PKKPpcRgg",authDomain:"svasam-a94e1.firebaseapp.com",projectId:"svasam-a94e1",storageBucket:"svasam-a94e1.firebasestorage.app",messagingSenderId:"857788126873",appId:"1:857788126873:web:dea096fcd1f7b9f1978a08",measurementId:"G-QW8YP54GS3"}),cf=function(e=Lt()){const t=Tt(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Tt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(oe(n.getOptions(),t??{}))return e;Yt(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ks,persistence:[ls,Hr,Gr]}),r=W("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(s=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Js)return;const r=t?.token;Zs!==r&&(Zs=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){fe(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){fe(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var s;const i=$("auth");return i&&fr(n,`http://${i}`),n}(lf),uf=function(e){const t="object"==typeof e?e:Lt(),n="string"==typeof e?e:Ha,r=Tt(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=$(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&zh(r,...e)}return r}(lf);var df,hf;!function(e=Lt()){const t=Tt(e=fe(e),Mp);t.isInitialized()?t.getImmediate():function(e,t={}){const n=Tt(e,Mp);if(n.isInitialized()){const e=n.getImmediate();if(oe(t,n.getOptions()))return e;throw Fp.create("already-initialized")}const r=n.initialize({options:t})}(e)}(lf),(df=cf,hf=Hr,fe(df).setPersistence(hf)).catch(e=>{console.error("Error setting auth persistence:",e)});const mf=async(e,t,n,r)=>{try{console.log("Starting signup process for:",t);const a=await async function(e,t,n){if(Ct(e.app))return Promise.reject(Zt(e));const r=ir(e),s=pr(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lr),i=await s.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&zr(e),t}),a=await Or._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}(cf,t,n),o=a.user;console.log("User created in Auth:",o.uid);try{await Vr(o,{displayName:e}),console.log("User profile updated with display name");const n={uid:o.uid,name:e,email:t,mobile:r,createdAt:(new Date).toISOString(),role:"user",emailVerified:o.emailVerified};return await qm($h(uf,"users",o.uid),n),console.log("User data saved to Firestore"),{success:!0,user:{uid:o.uid,email:o.email,displayName:e,...n}}}catch(s){console.error("Error in user setup:",s);try{await o.delete(),console.log("Cleaned up auth user due to failure")}catch(i){console.error("Error cleaning up auth user:",i)}throw s}}catch(a){return console.error("Signup error:",{code:a.code,message:a.message,name:a.name,stack:a.stack}),{success:!1,error:a.code||"auth/unknown-error",message:a.message}}},pf=async()=>{try{return await function(e){return fe(e).signOut()}(cf),{success:!0}}catch(e){return{success:!1,error:e.message}}},ff=async e=>{try{return await async function(e,t){const n=ir(e),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};await pr(n,r,"getOobCode",wr)}(cf,e),{success:!0}}catch(t){return{success:!1,error:t.message}}},gf=new Ir;new _r;const yf=async()=>{try{const t=await async function(e,t,n){if(Ct(e.app))return Promise.reject(Xt(e,"operation-not-supported-in-this-environment"));const r=ir(e);en(e,t,Tr);const s=cs(r,n);return new gs(r,"signInViaPopup",t,s).executeNotNull()}(cf,gf),n=t.user;try{await qm($h(uf,"users",n.uid),{uid:n.uid,name:n.displayName||"",email:n.email||"",mobile:"",photoURL:n.photoURL||"",provider:"google",role:"user",emailVerified:n.emailVerified,updatedAt:(new Date).toISOString()},{merge:!0})}catch(e){const t=e?.code||"";return"permission-denied"===t?(console.warn("Firestore user sync blocked (permission-denied). Continuing auth session.",e),{success:!0,user:n,warning:"permission-denied"}):(console.warn("Firestore user sync failed. Continuing auth session.",e),{success:!0,user:n,warning:t||"firestore-sync-failed"})}return{success:!0,user:n}}catch(t){const e=t?.code||"";return"auth/popup-blocked"===e||"auth/popup-closed-by-user"===e?(await Ns(cf,gf),{success:!0,redirect:!0}):{success:!1,error:t.code||t.message}}},xf=async()=>{try{const t=await async function(e,t){return await ir(e)._initializationPromise,js(e,t,!1)}(cf);if(t){const{user:n}=t,r=t.providerId||t?._tokenResponse?.providerId||"",s=r.includes("google")?"google":r.includes("facebook")?"facebook":"";try{const e=$h(uf,"users",n.uid),t=await Um(e),r=(new Date).toISOString();t.exists()?await qm(e,{updatedAt:r,lastLogin:r},{merge:!0}):await qm(e,{uid:n.uid,name:n.displayName||"",email:n.email||"",mobile:"",photoURL:n.photoURL||"",provider:s,role:"user",emailVerified:n.emailVerified,createdAt:r,updatedAt:r})}catch(e){const t=e?.code||"";return"permission-denied"===t?(console.warn("Firestore user sync blocked (permission-denied) after redirect. Continuing auth session.",e),{success:!0,user:n,warning:"permission-denied"}):(console.warn("Firestore user sync failed after redirect. Continuing auth session.",e),{success:!0,user:n,warning:t||"firestore-sync-failed"})}return{success:!0,user:n}}return{success:!1}}catch(t){return console.error("Error handling auth redirect:",t),{success:!1,error:t.code||t.message}}},vf=r.createContext();function bf(){return r.useContext(vf)}function wf({children:e}){const[t,n]=r.useState(null),[s,i]=r.useState(!0),a=r.useRef(!1);r.useEffect(()=>{let e=!0;(async()=>{try{a.current||(a.current=!0,await xf())}finally{e&&i(!1)}})();const t=cf.onAuthStateChanged(e=>{n(e)});return()=>{e=!1,t()}},[]);const o={user:t,setUser:n,loading:s};return k.jsx(vf.Provider,{value:o,children:!s&&e})}const Nf={},jf=(e,t,n,r)=>{Tf(n)&&Nf[n]||(Tf(n)&&(Nf[n]=new Date),((e,t,n,r)=>{const s=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);Tf(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...s):console?.warn&&console.warn(...s)})(e,t,n,r))},Sf=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},kf=(e,t,n)=>{e.loadNamespaces(t,Sf(e,n))},Ef=(e,t,n,r)=>{if(Tf(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return kf(e,n,r);n.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,Sf(e,r))},Tf=e=>"string"==typeof e,Cf=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,_f={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},If=e=>_f[e];let Pf={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(Cf,If)};const Af=r.createContext();class Lf{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Of,Mf,Rf={exports:{}},Df={};var Ff=(Mf||(Mf=1,Rf.exports=function(){if(Of)return Df;Of=1;var t=e(),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function o(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(s){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),l=r({inst:{value:n,getSnapshot:t}}),c=l[0].inst,u=l[1];return i(function(){c.value=n,c.getSnapshot=t,o(c)&&u({inst:c})},[e,n,t]),s(function(){return o(c)&&u({inst:c}),e(function(){o(c)&&u({inst:c})})},[e]),a(n),n};return Df.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:l,Df}()),Rf.exports);const zf={t:(e,t)=>{return Tf(t)?t:"object"==typeof(n=t)&&null!==n&&Tf(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var n},ready:!1},Uf=()=>()=>{},Vf=(e,t={})=>{const{i18n:n}=t,{i18n:s,defaultNS:i}=r.useContext(Af)||{},a=n||s||void 0;a&&!a.reportNamespaces&&(a.reportNamespaces=new Lf),a||jf(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=r.useMemo(()=>({...Pf,...a?.options?.react,...t}),[a,t]),{useSuspense:l,keyPrefix:c}=o,u=r.useMemo(()=>{const e=i||a?.options?.defaultNS;return Tf(e)?[e]:e||["translation"]},[e,i,a]);a?.reportNamespaces?.addUsedNamespaces?.(u);const d=r.useRef(0),h=r.useCallback(e=>{if(!a)return Uf;const{bindI18n:t,bindI18nStore:n}=o,r=()=>{d.current+=1,e()};return t&&a.on(t,r),n&&a.store.on(n,r),()=>{t&&t.split(" ").forEach(e=>a.off(e,r)),n&&n.split(" ").forEach(e=>a.store.off(e,r))}},[a,o]),m=r.useRef(),p=r.useCallback(()=>{if(!a)return zf;const e=!(!a.isInitialized&&!a.initializedStoreOnce)&&u.every(e=>((e,t,n={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):(jf(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0))(e,a,o)),n=t.lng||a.language,r=d.current,s=m.current;if(s&&s.ready===e&&s.lng===n&&s.keyPrefix===c&&s.revision===r)return s;const i={t:a.getFixedT(n,"fallback"===o.nsMode?u:u[0],c),ready:e,lng:n,keyPrefix:c,revision:r};return m.current=i,i},[a,u,c,o,t.lng]),[f,g]=r.useState(0),{t:y,ready:x}=Ff.useSyncExternalStore(h,p,p);r.useEffect(()=>{if(a&&!x&&!l){const e=()=>g(e=>e+1);t.lng?Ef(a,t.lng,u,e):kf(a,u,e)}},[a,t.lng,u,x,l,f]);const v=a||{},b=r.useRef(null),w=r.useRef(),N=e=>{const t=Object.getOwnPropertyDescriptors(e);t.__original&&delete t.__original;const n=Object.create(Object.getPrototypeOf(e),t);if(!Object.prototype.hasOwnProperty.call(n,"__original"))try{Object.defineProperty(n,"__original",{value:e,writable:!1,enumerable:!1,configurable:!1})}catch(r){}return n},j=r.useMemo(()=>{const e=v,t=e?.language;let n=e;e&&(b.current&&b.current.__original===e?w.current!==t?(n=N(e),b.current=n,w.current=t):n=b.current:(n=N(e),b.current=n,w.current=t));const r=[y,n,x];return r.t=y,r.i18n=n,r.ready=x,r},[y,v,x,v.resolvedLanguage,v.language,v.languages]);if(a&&l&&!x)throw new Promise(e=>{const n=()=>e();t.lng?Ef(a,t.lng,u,n):kf(a,u,n)});return j},Bf="/assets/svasam%20logo%20copy-COMDGFei.png";function qf({title:e,titleId:t,...n},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const $f=r.forwardRef(qf);function Hf({title:e,titleId:t,...n},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Wf=r.forwardRef(Hf);function Gf({title:e,titleId:t,...n},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Kf=r.forwardRef(Gf);function Qf(){const{t:e}=Vf(),{user:t}=bf(),[n,a]=r.useState(!1),[o,l]=r.useState(!1),c=s(),u=async()=>{await pf(),c(window.location.pathname),window.location.reload()},d=e=>{a(!1),l(!1),"A"!==e.target.tagName&&"BUTTON"===e.target.tagName&&e.target.dataset.href&&(e.preventDefault(),c(e.target.dataset.href))};return k.jsxs(k.Fragment,{children:[k.jsx("nav",{className:"md:hidden fixed top-0 left-0 right-0 bg-gradient-to-r from-[#2d1b69] via-[#8b5cf6] to-[#a78bfa] shadow-lg z-50",children:k.jsxs("div",{className:"container mx-auto px-3 py-2 flex justify-between items-center",children:[k.jsx("button",{className:"p-2 -ml-2 text-gray-700",onClick:()=>a(!n),"aria-label":"Menu",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),k.jsx(i,{to:"/",className:"flex items-center",children:k.jsx("img",{src:Bf,alt:"Svasam",className:"h-8 w-auto"})}),k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsxs(i,{to:"/cart",className:"text-white relative",children:[k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),k.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:"0"})]}),t?k.jsx(i,{to:"/profile",className:"text-white",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}):k.jsx(i,{to:"/login",className:"text-gray-700",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})]})}),k.jsxs("nav",{className:"hidden md:flex bg-gradient-to-r from-[#2d1b69] via-[#8b5cf6] to-[#a78bfa] shadow-lg px-4 sm:px-6 py-2 items-center fixed top-0 left-0 right-0 z-50",children:[k.jsx("div",{className:"flex items-center gap-2",children:k.jsx(i,{to:"/",className:"flex items-center","aria-label":"Svasam Home",children:k.jsx("img",{src:Bf,alt:"Svasam",className:"h-10 w-auto"})})}),k.jsxs("ul",{className:"flex gap-4 lg:gap-6 font-medium text-white flex-1 justify-center",children:[k.jsxs("li",{className:"relative group",children:[k.jsxs("button",{className:"flex items-center gap-1 hover:text-yellow-300 transition font-semibold focus:outline-none text-white",children:["Categories",k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),k.jsx("div",{className:"absolute left-0 mt-1 w-48 bg-white rounded-xl shadow-2xl border border-purple-100 opacity-0 invisible group-hover:visible group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transform scale-95 group-hover:scale-100 transition-all duration-200 z-50",children:k.jsxs("div",{className:"py-2",children:[k.jsx(i,{to:"/mind",className:"block px-5 py-2 rounded-lg text-gray-800 hover:bg-purple-50 hover:text-purple-700 transition font-semibold",onClick:d,children:"Mind"}),k.jsx(i,{to:"/body",className:"block px-5 py-2 rounded-lg text-gray-800 hover:bg-purple-50 hover:text-purple-700 transition font-semibold",onClick:d,children:"Body"}),k.jsx(i,{to:"/soul",className:"block px-5 py-2 rounded-lg text-gray-800 hover:bg-purple-50 hover:text-purple-700 transition font-semibold",onClick:d,children:"Soul"})]})})]}),k.jsx("li",{}),k.jsx("li",{children:k.jsx(i,{to:"/sessions",className:"text-white hover:text-yellow-300 transition font-semibold",onClick:d,children:"Wellness Library"})}),k.jsx("li",{children:k.jsx(i,{to:"/programs",className:"text-white hover:text-yellow-300 transition font-semibold",onClick:d,children:"Programs"})}),k.jsx("li",{children:k.jsx(i,{to:"/contact",className:"text-white hover:text-yellow-300 transition font-semibold",onClick:d,children:"Contact us"})})]}),k.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[k.jsxs(i,{to:"/cart",className:"text-gray-700 relative",children:[k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),k.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:"0"})]}),t?k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsxs("span",{className:"hidden lg:flex px-4 py-2 rounded-full bg-white/20 text-white font-semibold shadow border border-white/30 text-sm backdrop-blur-sm",children:[k.jsx("svg",{className:"w-4 h-4 inline-block mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 11a3 3 0 11-6 0 3 3 0 016 0z"})}),t?.displayName||t?.email||"User"]}),k.jsx(i,{to:"/dashboard",className:"px-3 py-2 rounded-full bg-white/20 text-white font-semibold shadow border border-white/30 hover:bg-white/30 transition text-sm backdrop-blur-sm",children:"Dashboard"}),k.jsx("button",{onClick:u,className:"px-3 py-2 rounded-full bg-white/20 text-white font-semibold shadow border border-white/30 hover:bg-white/30 transition text-sm backdrop-blur-sm",children:"Logout"})]}):k.jsxs(i,{to:"/login",className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white text-purple-700 font-semibold shadow-lg hover:shadow-xl hover:bg-purple-50 hover:-translate-y-0.5 transition-all duration-200 border border-purple-200 text-sm",children:[k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 11a3 3 0 11-6 0 3 3 0 016 0z"})}),k.jsx("span",{className:"hidden lg:inline",children:"Login"}),k.jsx("span",{className:"lg:hidden",children:"Login"})]})]})]}),k.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 bg-white shadow-sm z-50",children:k.jsx("div",{className:"container mx-auto px-4 py-3",children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center",children:[k.jsx("button",{className:"p-2 -ml-2 text-gray-700",onClick:()=>a(!n),"aria-label":"Menu",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})}),k.jsx(i,{to:"/",className:"flex items-center ml-4","aria-label":"Svasam Home",children:k.jsx("img",{src:Bf,alt:"Svasam",className:"h-10 w-auto"})})]}),k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsxs(i,{to:"/cart",className:"text-gray-700 relative",children:[k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),k.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:"0"})]}),t?k.jsx(i,{to:"/dashboard",className:"text-gray-700",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}):k.jsx(i,{to:"/login",className:"text-gray-700",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})]})})}),k.jsxs("div",{className:"md:hidden fixed inset-0 z-40 "+(n?"block":"hidden"),onClick:d,children:[k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:()=>a(!1)}),k.jsxs("div",{className:"fixed top-0 left-0 bottom-0 w-72 bg-white shadow-xl transform transition-transform duration-300 ease-in-out "+(n?"translate-x-0":"-translate-x-full"),onClick:e=>e.stopPropagation(),children:[k.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[k.jsx(i,{to:"/",className:"flex items-center",onClick:()=>a(!1),"aria-label":"Svasam Home",children:k.jsx("img",{src:Bf,alt:"Svasam",className:"h-8 w-auto"})}),k.jsx("button",{onClick:()=>a(!1),className:"p-2 rounded-full hover:bg-gray-100","aria-label":"Close menu",children:k.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),k.jsx("div",{className:"h-[calc(100%-60px)] overflow-y-auto p-4",children:k.jsxs("div",{className:"space-y-1",children:[k.jsxs("div",{className:"mb-2",children:[k.jsxs("button",{onClick:()=>l(!o),className:"flex items-center justify-between w-full px-3 py-3 rounded-lg text-left hover:bg-gray-50 transition-colors",children:[k.jsx("span",{className:"font-medium text-gray-900",children:"Categories"}),k.jsx("svg",{className:"w-5 h-5 text-gray-400 transition-transform "+(o?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),k.jsx("div",{className:"overflow-hidden transition-all duration-200 "+(o?"max-h-40":"max-h-0"),children:k.jsxs("div",{className:"pl-4 py-2 space-y-1",children:[k.jsx(i,{to:"/mind",className:"block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>a(!1),children:"Mind"}),k.jsx(i,{to:"/body",className:"block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>a(!1),children:"Body"}),k.jsx(i,{to:"/soul",className:"block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>a(!1),children:"Soul"})]})})]}),k.jsxs(i,{to:"/sessions",className:"flex items-center px-3 py-3 rounded-lg text-gray-900 hover:bg-gray-50 transition-colors font-medium",onClick:()=>a(!1),children:[k.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Wellness Library"]}),k.jsxs(i,{to:"/blog",className:"flex items-center px-3 py-3 rounded-lg text-gray-900 hover:bg-gray-50 transition-colors font-medium",onClick:()=>a(!1),children:[k.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),"Svasam Journal"]}),k.jsxs(i,{to:"/contact",className:"flex items-center px-3 py-3 rounded-lg text-gray-900 hover:bg-gray-50 transition-colors font-medium",onClick:()=>a(!1),children:[k.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Contact us"]}),t&&k.jsx("div",{className:"pt-4 mt-4 border-t border-gray-100",children:k.jsxs("div",{className:"space-y-2",children:[k.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 font-medium",children:t?.displayName||t?.email||"User"}),k.jsxs("button",{onClick:()=>{u(),a(!1)},className:"flex items-center justify-center w-full px-4 py-3 rounded-xl bg-gray-100 text-gray-800 font-semibold hover:bg-gray-200 transition-colors",children:[k.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})})]})})]})]})]})}function Yf({children:e}){const t=a(),{user:n,loading:r}=bf();return r?k.jsx("div",{className:"min-h-[40vh] flex items-center justify-center text-gray-500 text-sm",children:"Checking authentication..."}):n?e:k.jsx(o,{to:"/login",state:{from:t.pathname},replace:!0})}function Xf(){const{pathname:e}=a();return r.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[e]),null}const Jf=()=>{const e=`https://wa.me/917019557979?text=${encodeURIComponent("Hi Svasam Wellness! I would like to know more about your wellness programs.")}`;return k.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 left-6 z-50 bg-green-500 hover:bg-green-600 text-white rounded-full p-4 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 group","aria-label":"Chat on WhatsApp",children:[k.jsx("img",{src:"/assets/Whatsapp.png",alt:"WhatsApp",className:"w-6 h-6"}),k.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap",children:["Chat with us on WhatsApp",k.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1",children:k.jsx("div",{className:"border-4 border-transparent border-t-gray-800"})})]})]})};var Zf={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},eg=l.createContext&&l.createContext(Zf),tg=["attr","size","title"];function ng(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rg.apply(this,arguments)}function sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ig(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sg(Object(n),!0).forEach(function(t){ag(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ag(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function og(e){return e&&e.map((e,t)=>l.createElement(e.tag,ig({key:t},e.attr),og(e.child)))}function lg(e){return t=>l.createElement(cg,rg({attr:ig({},e.attr)},t),og(e.child))}function cg(e){var t=t=>{var n,{attr:r,size:s,title:i}=e,a=ng(e,tg),o=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),l.createElement("svg",rg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:ig(ig({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&l.createElement("title",null,i),e.children)};return void 0!==eg?l.createElement(eg.Consumer,null,e=>t(e)):t(Zf)}function ug(e){return lg({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function dg(e){return lg({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function hg(e){return lg({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(e)}function mg(e){return lg({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function pg(e){return lg({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function fg(e){return lg({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function gg(e){return lg({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function yg(e){return lg({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function xg(e){return lg({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function vg(e){return lg({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function bg(e){return lg({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(e)}function wg(e){return lg({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function Ng(e){return lg({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(e)}function jg(e){return lg({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Sg(e){return lg({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function kg(e){return lg({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function Eg(e){return lg({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function Tg(e){return lg({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Cg(e){return lg({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function _g(e){return lg({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function Ig(e){return lg({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(e)}function Pg(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ag}=Object.prototype,{getPrototypeOf:Lg}=Object,{iterator:Og,toStringTag:Mg}=Symbol,Rg=(e=>t=>{const n=Ag.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Dg=e=>(e=e.toLowerCase(),t=>Rg(t)===e),Fg=e=>t=>typeof t===e,{isArray:zg}=Array,Ug=Fg("undefined");function Vg(e){return null!==e&&!Ug(e)&&null!==e.constructor&&!Ug(e.constructor)&&$g(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Bg=Dg("ArrayBuffer");const qg=Fg("string"),$g=Fg("function"),Hg=Fg("number"),Wg=e=>null!==e&&"object"==typeof e,Gg=e=>{if("object"!==Rg(e))return!1;const t=Lg(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Mg in e||Og in e)},Kg=Dg("Date"),Qg=Dg("File"),Yg=Dg("Blob"),Xg=Dg("FileList"),Jg=Dg("URLSearchParams"),[Zg,ey,ty,ny]=["ReadableStream","Request","Response","Headers"].map(Dg);function ry(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,s;if("object"!=typeof e&&(e=[e]),zg(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Vg(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let a;for(r=0;r<i;r++)a=s[r],t.call(null,e[a],a,e)}}function sy(e,t){if(Vg(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const iy="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,ay=e=>!Ug(e)&&e!==iy;const oy=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&Lg(Uint8Array)),ly=Dg("HTMLFormElement"),cy=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),uy=Dg("RegExp"),dy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ry(n,(n,s)=>{let i;!1!==(i=t(n,s,e))&&(r[s]=i||n)}),Object.defineProperties(e,r)};const hy=Dg("AsyncFunction"),my=(py="function"==typeof setImmediate,fy=$g(iy.postMessage),py?setImmediate:fy?(gy=`axios@${Math.random()}`,yy=[],iy.addEventListener("message",({source:e,data:t})=>{e===iy&&t===gy&&yy.length&&yy.shift()()},!1),e=>{yy.push(e),iy.postMessage(gy,"*")}):e=>setTimeout(e));var py,fy,gy,yy;const xy="undefined"!=typeof queueMicrotask?queueMicrotask.bind(iy):"undefined"!=typeof process&&process.nextTick||my,vy={isArray:zg,isArrayBuffer:Bg,isBuffer:Vg,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||$g(e.append)&&("formdata"===(t=Rg(e))||"object"===t&&$g(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Bg(e.buffer),t},isString:qg,isNumber:Hg,isBoolean:e=>!0===e||!1===e,isObject:Wg,isPlainObject:Gg,isEmptyObject:e=>{if(!Wg(e)||Vg(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:Zg,isRequest:ey,isResponse:ty,isHeaders:ny,isUndefined:Ug,isDate:Kg,isFile:Qg,isBlob:Yg,isRegExp:uy,isFunction:$g,isStream:e=>Wg(e)&&$g(e.pipe),isURLSearchParams:Jg,isTypedArray:oy,isFileList:Xg,forEach:ry,merge:function e(){const{caseless:t,skipUndefined:n}=ay(this)&&this||{},r={},s=(s,i)=>{const a=t&&sy(r,i)||i;Gg(r[a])&&Gg(s)?r[a]=e(r[a],s):Gg(s)?r[a]=e({},s):zg(s)?r[a]=s.slice():n&&Ug(s)||(r[a]=s)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&ry(arguments[i],s);return r},extend:(e,t,n,{allOwnKeys:r}={})=>(ry(t,(t,r)=>{n&&$g(t)?e[r]=Pg(t,n):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,i,a;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&Lg(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Rg,kindOfTest:Dg,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(zg(e))return e;let t=e.length;if(!Hg(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Og]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:ly,hasOwnProperty:cy,hasOwnProp:cy,reduceDescriptors:dy,freezeMethods:e=>{dy(e,(t,n)=>{if($g(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];$g(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return zg(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:sy,global:iy,isContextDefined:ay,isSpecCompliantForm:function(e){return!!(e&&$g(e.append)&&"FormData"===e[Mg]&&e[Og])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Wg(e)){if(t.indexOf(e)>=0)return;if(Vg(e))return e;if(!("toJSON"in e)){t[r]=e;const s=zg(e)?[]:{};return ry(e,(e,t)=>{const i=n(e,r+1);!Ug(i)&&(s[t]=i)}),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:hy,isThenable:e=>e&&(Wg(e)||$g(e))&&$g(e.then)&&$g(e.catch),setImmediate:my,asap:xy,isIterable:e=>null!=e&&$g(e[Og])};function by(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}vy.inherits(by,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:vy.toJSONObject(this.config),code:this.code,status:this.status}}});const wy=by.prototype,Ny={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ny[e]={value:e}}),Object.defineProperties(by,Ny),Object.defineProperty(wy,"isAxiosError",{value:!0}),by.from=(e,t,n,r,s,i)=>{const a=Object.create(wy);vy.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return by.call(a,o,l,n,r,s),e&&null==a.cause&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};function jy(e){return vy.isPlainObject(e)||vy.isArray(e)}function Sy(e){return vy.endsWith(e,"[]")?e.slice(0,-2):e}function ky(e,t,n){return e?e.concat(t).map(function(e,t){return e=Sy(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Ey=vy.toFlatObject(vy,{},null,function(e){return/^is[A-Z]/.test(e)});function Ty(e,t,n){if(!vy.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=vy.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!vy.isUndefined(t[e])})).metaTokens,s=n.visitor||c,i=n.dots,a=n.indexes,o=(n.Blob||"undefined"!=typeof Blob&&Blob)&&vy.isSpecCompliantForm(t);if(!vy.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(vy.isDate(e))return e.toISOString();if(vy.isBoolean(e))return e.toString();if(!o&&vy.isBlob(e))throw new by("Blob is not supported. Use a Buffer instead.");return vy.isArrayBuffer(e)||vy.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let o=e;if(e&&!s&&"object"==typeof e)if(vy.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(vy.isArray(e)&&function(e){return vy.isArray(e)&&!e.some(jy)}(e)||(vy.isFileList(e)||vy.endsWith(n,"[]"))&&(o=vy.toArray(e)))return n=Sy(n),o.forEach(function(e,r){!vy.isUndefined(e)&&null!==e&&t.append(!0===a?ky([n],r,i):null===a?n:n+"[]",l(e))}),!1;return!!jy(e)||(t.append(ky(s,n,i),l(e)),!1)}const u=[],d=Object.assign(Ey,{defaultVisitor:c,convertValue:l,isVisitable:jy});if(!vy.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!vy.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),vy.forEach(n,function(n,i){!0===(!(vy.isUndefined(n)||null===n)&&s.call(t,n,vy.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])}),u.pop()}}(e),t}function Cy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function _y(e,t){this._pairs=[],e&&Ty(e,this,t)}const Iy=_y.prototype;function Py(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ay(e,t,n){if(!t)return e;const r=n&&n.encode||Py;vy.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(i=s?s(t,n):vy.isURLSearchParams(t)?t.toString():new _y(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}Iy.append=function(e,t){this._pairs.push([e,t])},Iy.toString=function(e){const t=e?function(t){return e.call(this,t,Cy)}:Cy;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class Ly{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){vy.forEach(this.handlers,function(t){null!==t&&e(t)})}}const Oy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},My={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:_y,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ry="undefined"!=typeof window&&"undefined"!=typeof document,Dy="object"==typeof navigator&&navigator||void 0,Fy=Ry&&(!Dy||["ReactNative","NativeScript","NS"].indexOf(Dy.product)<0),zy="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Uy=Ry&&window.location.href||"http://localhost",Vy={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ry,hasStandardBrowserEnv:Fy,hasStandardBrowserWebWorkerEnv:zy,navigator:Dy,origin:Uy},Symbol.toStringTag,{value:"Module"})),...My};function By(e){function t(e,n,r,s){let i=e[s++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),o=s>=e.length;if(i=!i&&vy.isArray(r)?r.length:i,o)return vy.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&vy.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],s)&&vy.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(vy.isFormData(e)&&vy.isFunction(e.entries)){const n={};return vy.forEachEntry(e,(e,r)=>{t(function(e){return vy.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null}const qy={transitional:Oy,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=vy.isObject(e);s&&vy.isHTMLForm(e)&&(e=new FormData(e));if(vy.isFormData(e))return r?JSON.stringify(By(e)):e;if(vy.isArrayBuffer(e)||vy.isBuffer(e)||vy.isStream(e)||vy.isFile(e)||vy.isBlob(e)||vy.isReadableStream(e))return e;if(vy.isArrayBufferView(e))return e.buffer;if(vy.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ty(e,new Vy.classes.URLSearchParams,{visitor:function(e,t,n,r){return Vy.isNode&&vy.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((i=vy.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ty(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(vy.isString(e))try{return(t||JSON.parse)(e),vy.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||qy.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(vy.isResponse(e)||vy.isReadableStream(e))return e;if(e&&vy.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(s){if(n){if("SyntaxError"===s.name)throw by.from(s,by.ERR_BAD_RESPONSE,this,null,this.response);throw s}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vy.classes.FormData,Blob:Vy.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};vy.forEach(["delete","get","head","post","put","patch"],e=>{qy.headers[e]={}});const $y=vy.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hy=Symbol("internals");function Wy(e){return e&&String(e).trim().toLowerCase()}function Gy(e){return!1===e||null==e?e:vy.isArray(e)?e.map(Gy):String(e)}function Ky(e,t,n,r,s){return vy.isFunction(r)?r.call(this,t,n):(s&&(t=n),vy.isString(t)?vy.isString(r)?-1!==t.indexOf(r):vy.isRegExp(r)?r.test(t):void 0:void 0)}let Qy=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Wy(t);if(!s)throw new Error("header name must be a non-empty string");const i=vy.findKey(r,s);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=Gy(e))}const i=(e,t)=>vy.forEach(e,(e,n)=>s(e,n,t));if(vy.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(vy.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&$y[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(vy.isObject(e)&&vy.isIterable(e)){let n,r,s={};for(const t of e){if(!vy.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?vy.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=Wy(e)){const n=vy.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(vy.isFunction(t))return t.call(this,e,n);if(vy.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Wy(e)){const n=vy.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ky(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Wy(e)){const s=vy.findKey(n,e);!s||t&&!Ky(0,n[s],s,t)||(delete n[s],r=!0)}}return vy.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Ky(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return vy.forEach(this,(r,s)=>{const i=vy.findKey(n,s);if(i)return t[i]=Gy(r),void delete t[s];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();a!==s&&delete t[s],t[a]=Gy(r),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return vy.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&vy.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[Hy]=this[Hy]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Wy(e);t[r]||(!function(e,t){const n=vy.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[r]=!0)}return vy.isArray(e)?e.forEach(r):r(e),this}};function Yy(e,t){const n=this||qy,r=t||n,s=Qy.from(r.headers);let i=r.data;return vy.forEach(e,function(e){i=e.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Xy(e){return!(!e||!e.__CANCEL__)}function Jy(e,t,n){by.call(this,null==e?"canceled":e,by.ERR_CANCELED,t,n),this.name="CanceledError"}function Zy(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new by("Request failed with status code "+n.status,[by.ERR_BAD_REQUEST,by.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}Qy.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),vy.reduceDescriptors(Qy.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),vy.freezeMethods(Qy),vy.inherits(Jy,by,{__CANCEL__:!0});const ex=(e,t,n=3)=>{let r=0;const s=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,i=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];s||(s=l),n[i]=o,r[i]=l;let u=a,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let n,r,s=0,i=1e3/t;const a=(t,i=Date.now())=>{s=i,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[(...e)=>{const t=Date.now(),o=t-s;o>=i?a(e,t):(n=e,r||(r=setTimeout(()=>{r=null,a(n)},i-o)))},()=>n&&a(n)]}(n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,o=i-r,l=s(o);r=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},tx=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},nx=e=>(...t)=>vy.asap(()=>e(...t)),rx=Vy.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Vy.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Vy.origin),Vy.navigator&&/(msie|trident)/i.test(Vy.navigator.userAgent)):()=>!0,sx=Vy.hasStandardBrowserEnv?{write(e,t,n,r,s,i,a){if("undefined"==typeof document)return;const o=[`${e}=${encodeURIComponent(t)}`];vy.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),vy.isString(r)&&o.push(`path=${r}`),vy.isString(s)&&o.push(`domain=${s}`),!0===i&&o.push("secure"),vy.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(e){if("undefined"==typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function ix(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ax=e=>e instanceof Qy?{...e}:e;function ox(e,t){t=t||{};const n={};function r(e,t,n,r){return vy.isPlainObject(e)&&vy.isPlainObject(t)?vy.merge.call({caseless:r},e,t):vy.isPlainObject(t)?vy.merge({},t):vy.isArray(t)?t.slice():t}function s(e,t,n,s){return vy.isUndefined(t)?vy.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function i(e,t){if(!vy.isUndefined(t))return r(void 0,t)}function a(e,t){return vy.isUndefined(t)?vy.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,s,i){return i in t?r(n,s):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>s(ax(e),ax(t),0,!0)};return vy.forEach(Object.keys({...e,...t}),function(r){const i=l[r]||s,a=i(e[r],t[r],r);vy.isUndefined(a)&&i!==o||(n[r]=a)}),n}const lx=e=>{const t=ox({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=t;if(t.headers=a=Qy.from(a),t.url=Ay(ix(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),vy.isFormData(n))if(Vy.hasStandardBrowserEnv||Vy.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(vy.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,n])=>{t.includes(e.toLowerCase())&&a.set(e,n)})}if(Vy.hasStandardBrowserEnv&&(r&&vy.isFunction(r)&&(r=r(t)),r||!1!==r&&rx(t.url))){const e=s&&i&&sx.read(i);e&&a.set(s,e)}return t},cx="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=lx(e);let s=r.data;const i=Qy.from(r.headers).normalize();let a,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:m}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let f=new XMLHttpRequest;function g(){if(!f)return;const r=Qy.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Zy(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new by("Request aborted",by.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const r=new by(t&&t.message?t.message:"Network Error",by.ERR_NETWORK,e,f);r.event=t||null,n(r),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||Oy;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new by(t,s.clarifyTimeoutError?by.ETIMEDOUT:by.ECONNABORTED,e,f)),f=null},void 0===s&&i.setContentType(null),"setRequestHeader"in f&&vy.forEach(i.toJSON(),function(e,t){f.setRequestHeader(t,e)}),vy.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),d&&"json"!==d&&(f.responseType=r.responseType),m&&([l,u]=ex(m,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,c]=ex(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{f&&(n(!t||t.type?new Jy(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===Vy.protocols.indexOf(y)?n(new by("Unsupported protocol "+y+":",by.ERR_BAD_REQUEST,e)):f.send(s||null)})},ux=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof by?t:new Jy(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,s(new by(`timeout ${t} of ms exceeded`,by.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:o}=r;return o.unsubscribe=()=>vy.asap(a),o}},dx=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},hx=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},mx=(e,t,n,r)=>{const s=async function*(e,t){for await(const n of hx(e))yield*dx(n,t)}(e,t);let i,a=0,o=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return o(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},{isFunction:px}=vy,fx=(({Request:e,Response:t})=>({Request:e,Response:t}))(vy.global),{ReadableStream:gx,TextEncoder:yx}=vy.global,xx=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},vx=e=>{e=vy.merge.call({skipUndefined:!0},fx,e);const{fetch:t,Request:n,Response:r}=e,s=t?px(t):"function"==typeof fetch,i=px(n),a=px(r);if(!s)return!1;const o=s&&px(gx),l=s&&("function"==typeof yx?(e=>t=>e.encode(t))(new yx):async e=>new Uint8Array(await new n(e).arrayBuffer())),c=i&&o&&xx(()=>{let e=!1;const t=new n(Vy.origin,{body:new gx,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=a&&o&&xx(()=>vy.isReadableStream(new r("").body)),d={stream:u&&(e=>e.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!d[e]&&(d[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new by(`Response type '${e}' is not supported`,by.ERR_NOT_SUPPORT,n)})});const h=async(e,t)=>{const r=vy.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(vy.isBlob(e))return e.size;if(vy.isSpecCompliantForm(e)){const t=new n(Vy.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return vy.isArrayBufferView(e)||vy.isArrayBuffer(e)?e.byteLength:(vy.isURLSearchParams(e)&&(e+=""),vy.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:s,method:a,data:o,signal:l,cancelToken:m,timeout:p,onDownloadProgress:f,onUploadProgress:g,responseType:y,headers:x,withCredentials:v="same-origin",fetchOptions:b}=lx(e),w=t||fetch;y=y?(y+"").toLowerCase():"text";let N=ux([l,m&&m.toAbortSignal()],p),j=null;const S=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let k;try{if(g&&c&&"get"!==a&&"head"!==a&&0!==(k=await h(x,o))){let e,t=new n(s,{method:"POST",body:o,duplex:"half"});if(vy.isFormData(o)&&(e=t.headers.get("content-type"))&&x.setContentType(e),t.body){const[e,n]=tx(k,ex(nx(g)));o=mx(t.body,65536,e,n)}}vy.isString(v)||(v=v?"include":"omit");const t=i&&"credentials"in n.prototype,l={...b,signal:N,method:a.toUpperCase(),headers:x.normalize().toJSON(),body:o,duplex:"half",credentials:t?v:void 0};j=i&&new n(s,l);let m=await(i?w(j,b):w(s,l));const p=u&&("stream"===y||"response"===y);if(u&&(f||p&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=m[t]});const t=vy.toFiniteNumber(m.headers.get("content-length")),[n,s]=f&&tx(t,ex(nx(f),!0))||[];m=new r(mx(m.body,65536,n,()=>{s&&s(),S&&S()}),e)}y=y||"text";let E=await d[vy.findKey(d,y)||"text"](m,e);return!p&&S&&S(),await new Promise((t,n)=>{Zy(t,n,{data:E,headers:Qy.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:j})})}catch(E){if(S&&S(),E&&"TypeError"===E.name&&/Load failed|fetch/i.test(E.message))throw Object.assign(new by("Network Error",by.ERR_NETWORK,e,j),{cause:E.cause||E});throw by.from(E,E&&E.code,e,j)}}},bx=new Map,wx=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let a,o,l=i.length,c=bx;for(;l--;)a=i[l],o=c.get(a),void 0===o&&c.set(a,o=l?new Map:vx(t)),c=o;return o};wx();const Nx={http:null,xhr:cx,fetch:{get:wx}};vy.forEach(Nx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const jx=e=>`- ${e}`,Sx=e=>vy.isFunction(e)||null===e||!1===e;const kx={getAdapter:function(e,t){e=vy.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let a=0;a<n;a++){let n;if(r=e[a],s=r,!Sx(r)&&(s=Nx[(n=String(r)).toLowerCase()],void 0===s))throw new by(`Unknown adapter '${n}'`);if(s&&(vy.isFunction(s)||(s=s.get(t))))break;i[n||"#"+a]=s}if(!s){const e=Object.entries(i).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new by("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(jx).join("\n"):" "+jx(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return s},adapters:Nx};function Ex(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Jy(null,e)}function Tx(e){Ex(e),e.headers=Qy.from(e.headers),e.data=Yy.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return kx.getAdapter(e.adapter||qy.adapter,e)(e).then(function(t){return Ex(e),t.data=Yy.call(e,e.transformResponse,t),t.headers=Qy.from(t.headers),t},function(t){return Xy(t)||(Ex(e),t&&t.response&&(t.response.data=Yy.call(e,e.transformResponse,t.response),t.response.headers=Qy.from(t.response.headers))),Promise.reject(t)})}const Cx="1.13.0",_x={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{_x[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ix={};_x.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Cx+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,i)=>{if(!1===e)throw new by(r(s," has been removed"+(t?" in "+t:"")),by.ERR_DEPRECATED);return t&&!Ix[s]&&(Ix[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,i)}},_x.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const Px={assertOptions:function(e,t,n){if("object"!=typeof e)throw new by("options must be an object",by.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new by("option "+i+" must be "+n,by.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new by("Unknown option "+i,by.ERR_BAD_OPTION)}},validators:_x},Ax=Px.validators;let Lx=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ly,response:new Ly}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=ox(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&Px.assertOptions(n,{silentJSONParsing:Ax.transitional(Ax.boolean),forcedJSONParsing:Ax.transitional(Ax.boolean),clarifyTimeoutError:Ax.transitional(Ax.boolean)},!1),null!=r&&(vy.isFunction(r)?t.paramsSerializer={serialize:r}:Px.assertOptions(r,{encode:Ax.function,serialize:Ax.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Px.assertOptions(t,{baseUrl:Ax.spelling("baseURL"),withXsrfToken:Ax.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&vy.merge(s.common,s[t.method]);s&&vy.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=Qy.concat(i,s);const a=[];let o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[Tx.bind(this),void 0];for(e.unshift(...a),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=Tx.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Ay(ix((e=ox(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};vy.forEach(["delete","get","head","options"],function(e){Lx.prototype[e]=function(t,n){return this.request(ox(n||{},{method:e,url:t,data:(n||{}).data}))}}),vy.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,s){return this.request(ox(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Lx.prototype[e]=t(),Lx.prototype[e+"Form"]=t(!0)});const Ox={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ox).forEach(([e,t])=>{Ox[t]=e});const Mx=function e(t){const n=new Lx(t),r=Pg(Lx.prototype.request,n);return vy.extend(r,Lx.prototype,n,{allOwnKeys:!0}),vy.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ox(t,n))},r}(qy);Mx.Axios=Lx,Mx.CanceledError=Jy,Mx.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,s){n.reason||(n.reason=new Jy(e,r,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},Mx.isCancel=Xy,Mx.VERSION=Cx,Mx.toFormData=Ty,Mx.AxiosError=by,Mx.Cancel=Mx.CanceledError,Mx.all=function(e){return Promise.all(e)},Mx.spread=function(e){return function(t){return e.apply(null,t)}},Mx.isAxiosError=function(e){return vy.isObject(e)&&!0===e.isAxiosError},Mx.mergeConfig=ox,Mx.AxiosHeaders=Qy,Mx.formToJSON=e=>By(vy.isHTMLForm(e)?new FormData(e):e),Mx.getAdapter=kx.getAdapter,Mx.HttpStatusCode=Ox,Mx.default=Mx;const{Axios:Rx,AxiosError:Dx,CanceledError:Fx,isCancel:zx,CancelToken:Ux,VERSION:Vx,all:Bx,Cancel:qx,isAxiosError:$x,spread:Hx,toFormData:Wx,AxiosHeaders:Gx,HttpStatusCode:Kx,formToJSON:Qx,getAdapter:Yx,mergeConfig:Xx}=Mx,Jx=({onSave:e,initialData:t={}})=>{const[n,s]=r.useState({fullName:"",phone:"",address:"",city:"",state:"",pincode:"",landmark:""}),[i,a]=r.useState(!1),[o,l]=r.useState("");r.useEffect(()=>{t&&s({fullName:t.fullName||"",phone:t.phone||"",address:t.address||"",city:t.city||"",state:t.state||"",pincode:t.pincode||"",landmark:t.landmark||""})},[t]);const c=e=>{const{name:t,value:n}=e.target;s(e=>({...e,[t]:n})),o&&l("")};return k.jsxs("div",{className:"max-w-lg mx-auto p-6 bg-white rounded-2xl shadow-md mt-8",children:[k.jsx("h2",{className:"text-xl font-semibold mb-4 text-center",children:"Shipping Address"}),o&&k.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm",children:o}),k.jsxs("form",{onSubmit:async t=>{t.preventDefault(),a(!0),l("");try{const t=cf.currentUser;if(!t)throw new Error("Please log in to save your address");const r={...n,updatedAt:Km()};await qm($h(uf,"users",t.uid,"addresses","default"),r,{merge:!0}),e&&e(r)}catch(r){console.error("Error saving address:",r),l(r.message||"Failed to save address. Please try again.")}finally{a(!1)}},className:"space-y-4",children:[k.jsx("div",{children:k.jsx("input",{name:"fullName",placeholder:"Full Name",className:"w-full p-3 border rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",value:n.fullName,onChange:c,required:!0})}),k.jsxs("div",{children:[k.jsx("input",{name:"phone",type:"tel",placeholder:"Phone Number",className:"w-full p-3 border rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",value:n.phone,onChange:c,pattern:"[0-9]{10}",required:!0}),k.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"10-digit mobile number"})]}),k.jsx("div",{children:k.jsx("textarea",{name:"address",placeholder:"House / Street / Area",className:"w-full p-3 border rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:"2",value:n.address,onChange:c,required:!0})}),k.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.jsx("div",{children:k.jsx("input",{name:"city",placeholder:"City",className:"w-full p-3 border rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",value:n.city,onChange:c,required:!0})}),k.jsx("div",{children:k.jsx("input",{name:"state",placeholder:"State",className:"w-full p-3 border rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",value:n.state,onChange:c,required:!0})})]}),k.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsx("input",{name:"pincode",type:"text",placeholder:"Pincode",className:"w-full p-3 border rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",value:n.pincode,onChange:c,pattern:"[0-9]{6}",required:!0}),k.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"6-digit pincode"})]}),k.jsxs("div",{children:[k.jsx("input",{name:"landmark",placeholder:"Landmark (optional)",className:"w-full p-3 border rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",value:n.landmark,onChange:c}),k.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., Near Central Park"})]})]}),k.jsx("button",{type:"submit",className:`w-full py-3 px-4 rounded-xl font-medium text-white ${i?"bg-purple-400":"bg-purple-600 hover:bg-purple-700"} transition-colors`,disabled:i,children:i?k.jsxs("span",{className:"flex items-center justify-center",children:[k.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Address"})]})]})},Zx=()=>{const{cart:e,removeFromCart:t,clearCart:n}=M(),[i,o]=r.useState("session1"),[l,c]=r.useState(null),[u,d]=r.useState(!1),[h,m]=r.useState(!0),[p,f]=r.useState(null),g=s(),y=a();r.useEffect(()=>{const e=function(e,t,n,r){return fe(e).onAuthStateChanged(t,n,r)}(cf,async e=>{if(!e)return c(null),d(!1),void m(!1);try{const t=await Um($h(uf,"users",e.uid,"addresses","default"));t.exists()&&(c(t.data()),d(!0))}catch(t){console.error("Error loading address:",t),f("Failed to load address. Please try again.")}finally{m(!1)}});return()=>e()},[]);const x=e.reduce((e,t)=>e+t.price*t.quantity,0),v=x+0,b=r.useCallback(()=>new Promise(e=>{if(window.Razorpay)return void e(!0);const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.async=!0,t.onload=()=>{e(!0)},t.onerror=()=>{console.error("Failed to load Razorpay script"),e(!1)},document.body.appendChild(t)}),[]),w=async()=>{if(u)try{f(null),m(!0);if(!(await b()))throw new Error("Failed to load payment processor. Please try again later.");const r=cf.currentUser;if(!r)return void g("/login",{state:{from:y.pathname,message:"Please log in to complete your purchase"}});if(0===e.length)return void f("Your cart is empty");const s="rzp_live_RXhpUtbyMYatfE",a={amount:Math.round(100*v),currency:"INR",receipt:`order_rcpt_${Date.now()}`,items:e.map(e=>({id:e.id,name:e.name,price:e.price,quantity:e.quantity})),selectedSession:i,shippingAddress:{...l,timestamp:Km()},status:"pending",userId:r.uid,userEmail:r.email,createdAt:Km()};console.log("Creating order with data:",a),console.log("Sending order data to server...");const o=await Mx.post("/.netlify/functions/create-razorpay-order",a,{headers:{"Content-Type":"application/json"},timeout:1e4});if(!o.data?.order)throw console.error("Invalid response from server:",o.data),new Error("Failed to create order: Invalid response from server");const{order:c}=o.data;console.log("Order created:",c),console.log("Initializing Razorpay payment...");const u={key:s,amount:c.amount,currency:c.currency||"INR",name:"Svasam",description:"Payment for your order",order_id:c.id,handler:async function(t){console.log("Payment successful, verifying...",t);try{const r=await Mx.post("/.netlify/functions/verify-payment",{order_id:t.razorpay_order_id,payment_id:t.razorpay_payment_id,signature:t.razorpay_signature});if(!r.data.success)throw new Error(r.data.message||"Payment verification failed");{const r=cf.currentUser;if(r){await Hm(qh(uf,"users",r.uid,"orders"),{...a,status:"completed",paymentId:t.razorpay_payment_id,razorpayOrderId:t.razorpay_order_id,createdAt:Km(),updatedAt:Km()});for(const t of e)t.category&&await Hm(qh(uf,"users",r.uid,"enrollments"),{programId:t.id,programTitle:t.title||t.name,programSlug:t.slug||t.id,category:t.category,imageUrl:t.image||t.imageUrl,enrolledAt:Km(),progress:0,totalLessons:10,status:"active"})}n(),g("/order-success",{state:{orderId:t.razorpay_order_id,paymentId:t.razorpay_payment_id},replace:!0})}}catch(r){console.error("Payment verification error:",r),f(`Payment verification failed: ${r.message||"Unknown error"}`)}},prefill:{name:r.displayName||l?.fullName||"",email:r.email||"",contact:l?.phone||""},theme:{color:"#8B1F7A"},modal:{ondismiss:function(){console.log("Payment modal dismissed")}},notes:{order_id:c.id,user_id:r.uid}};console.log("Opening Razorpay with options:",u);try{if(!window.Razorpay)throw new Error("Razorpay SDK not loaded. Please try again.");const e=new window.Razorpay(u);e.on("payment.failed",function(e){const t=e.error?.description||"Payment was not successful. Please try again.";console.error("Payment failed:",e.error),f(`Payment failed: ${t}`)}),e.on("payment.authorized",function(e){console.log("Payment authorized:",e)}),e.open()}catch(t){throw console.error("Error initializing Razorpay:",t),new Error(`Failed to initialize payment: ${t.message}`)}}catch(t){console.error("Checkout error:",t);let e="Something went wrong. Please try again.";t.response?(console.error("Error response data:",t.response.data),console.error("Error status:",t.response.status),console.error("Error headers:",t.response.headers),e=t.response.data?.message||t.message):t.request?(console.error("No response received:",t.request),e="No response from server. Please check your internet connection."):"ECONNABORTED"===t.code?e="Request timed out. Please try again.":console.error("Error message:",t.message),f(e||"An unexpected error occurred. Please try again later.")}finally{m(!1)}else f("Please fill in your shipping address before checkout")};return h?k.jsx("div",{className:"min-h-screen flex items-center justify-center",children:k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"})}):0===e.length?k.jsx("div",{className:"min-h-screen bg-background/80 pt-24 pb-32 px-4 sm:px-6 lg:px-8 flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:k.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),k.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Your cart is empty"}),k.jsx("p",{className:"text-gray-600 mb-6",children:"Looks like you haven't added anything to your cart yet."}),k.jsx("button",{onClick:()=>g("/"),className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Continue Shopping"})]})}):k.jsx("div",{className:"min-h-screen bg-background/80 pt-24 pb-32 px-4 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"max-w-7xl mx-auto",children:[k.jsxs("button",{onClick:()=>g(-1),className:"flex items-center text-gray-600 hover:text-main transition-colors",children:[k.jsx(ug,{className:"mr-2"})," Back"]}),k.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Checkout"}),k.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[k.jsx("div",{className:"lg:col-span-2 space-y-6",children:k.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[k.jsxs("div",{className:"flex justify-between items-center mb-4",children:[k.jsx("h2",{className:"text-lg font-semibold",children:"Shipping Address"}),u&&k.jsxs("button",{onClick:()=>d(!1),className:"text-purple-600 hover:text-purple-800 text-sm font-medium flex items-center",children:[k.jsx(vg,{className:"mr-1"})," Edit"]})]}),u?k.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:l&&k.jsx("div",{className:"space-y-2",children:k.jsxs("div",{className:"flex items-start",children:[k.jsx(_g,{className:"text-purple-600 mt-1 mr-3 flex-shrink-0"}),k.jsxs("div",{children:[k.jsx("p",{className:"font-medium",children:l.fullName}),k.jsx("p",{className:"text-gray-700",children:l.address}),k.jsxs("p",{className:"text-gray-700",children:[l.city,", ",l.state," - ",l.pincode]}),k.jsxs("p",{className:"text-gray-700",children:["Phone: ",l.phone]}),l.landmark&&k.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Landmark: ",l.landmark]})]})]})})}):k.jsx(Jx,{onSave:e=>{c(e),d(!0)},initialData:l||{}})]})}),k.jsxs("div",{className:"lg:hidden bg-white rounded-xl shadow-sm p-6",children:[k.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Order Summary"}),k.jsxs("div",{className:"mt-6 space-y-3",children:[k.jsxs("div",{className:"flex justify-between",children:[k.jsx("span",{children:"Subtotal"}),k.jsxs("span",{children:["",x.toFixed(2)]})]}),k.jsxs("div",{className:"flex justify-between",children:[k.jsx("span",{children:"Tax"}),k.jsxs("span",{children:["",(0).toFixed(2)]})]}),k.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-3 border-t mt-2",children:[k.jsx("span",{children:"Total"}),k.jsxs("span",{children:["",v.toFixed(2)]})]})]}),k.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg",children:[k.jsxs("div",{className:"flex justify-between items-center mb-2",children:[k.jsx("span",{className:"font-medium",children:"Total:"}),k.jsxs("span",{className:"font-bold text-lg",children:["",v.toFixed(2)]})]}),k.jsx("button",{onClick:w,disabled:!u||0===e.length,className:`w-full py-3 px-4 rounded-xl font-medium text-white ${u&&0!==e.length?"bg-purple-600 hover:bg-purple-700":"bg-gray-400 cursor-not-allowed"} transition-colors`,children:u?"Proceed to Payment":"Add Shipping Address"})]})]}),k.jsx("div",{className:"hidden lg:block",children:k.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 sticky top-6",children:[k.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Order Summary"}),k.jsx("div",{className:"space-y-4 mb-6 max-h-96 overflow-y-auto pr-2",children:e.map(e=>k.jsxs("div",{className:"flex items-start border-b border-gray-100 pb-4",children:[k.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg overflow-hidden mr-4 flex-shrink-0",children:k.jsx("img",{src:e.image||"/placeholder-product.jpg",alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="/placeholder-product.jpg"}})}),k.jsxs("div",{className:"flex-1",children:[k.jsxs("div",{className:"flex justify-between",children:[k.jsx("h3",{className:"font-medium text-gray-900 line-clamp-2",children:e.name}),k.jsx("button",{onClick:()=>t(e.id),className:"text-gray-400 hover:text-red-500 ml-2","aria-label":"Remove item",children:k.jsx(jg,{size:16})})]}),k.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Qty: ",e.quantity]}),k.jsxs("p",{className:"text-sm font-medium text-gray-900 mt-1",children:["",(e.price*e.quantity).toFixed(2)]})]})]},e.id))}),k.jsxs("div",{className:"space-y-3 border-t border-gray-200 pt-4",children:[k.jsxs("div",{className:"flex justify-between",children:[k.jsx("span",{className:"text-gray-600",children:"Subtotal"}),k.jsxs("span",{className:"font-medium",children:["",x.toFixed(2)]})]}),k.jsxs("div",{className:"flex justify-between",children:[k.jsx("span",{className:"text-gray-600",children:"Tax"}),k.jsxs("span",{className:"font-medium",children:["",(0).toFixed(2)]})]}),k.jsxs("div",{className:"flex justify-between text-lg font-semibold pt-3 border-t border-gray-200 mt-2",children:[k.jsx("span",{children:"Total"}),k.jsxs("span",{children:["",v.toFixed(2)]})]})]}),k.jsx("button",{onClick:w,disabled:!u||0===e.length||h,className:`w-full mt-6 py-3 px-4 rounded-xl font-medium text-white ${!u||0===e.length||h?"bg-gray-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"} transition-colors flex items-center justify-center`,children:h?k.jsxs(k.Fragment,{children:[k.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):u?"Proceed to Payment":"Add Shipping Address"})]})})]})]})})};function ev(){const{user:e}=bf(),t=e?.uid,n=s(),i=a(),[o,l]=r.useState([]),[u,d]=r.useState([]),[h,m]=r.useState([]),[p,f]=r.useState(!1),[g,y]=r.useState(null),[x,v]=r.useState(""),[b,w]=r.useState(!0),[N,j]=r.useState(null);return r.useEffect(()=>{let e=!1;return async function(){if(!t)return y(null),v(""),l([]),d([]),void m([]);w(!0),j(null);try{const[n,r,s,i,a]=await Promise.all([Bm(km(qh(uf,"users",t,"orders"),_m("createdAt","desc"))),Bm(qh(uf,"users",t,"favorites")),Bm(qh(uf,"users",t,"enrollments")),Um($h(uf,"users",t,"addresses","default")),Um($h(uf,"users",t))]);if(e)return;const o=n.docs.map(e=>({id:e.id,...e.data()}));l(o),d(r.docs.map(e=>({id:e.id,...e.data()}))),m(s.docs.map(e=>({id:e.id,...e.data()}))),y(i.exists()?i.data():null);const c=a.exists()&&a.data()?.address||"";v(c)}catch(n){e||j(n)}finally{e||w(!1)}}(),()=>{e=!0}},[t]),"/dashboard"!==i.pathname?k.jsx(c,{context:{orders:o,favorites:u,enrollments:h,loading:b,error:N}}):k.jsx("div",{className:"min-h-screen bg-background/80",children:k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[k.jsxs("div",{className:"mb-8",children:[k.jsx("h1",{className:"text-3xl font-bold text-[#8e6192]",children:"My Dashboard"}),k.jsxs("p",{className:"text-gray-600 mt-1 text-sm",children:["Welcome back",e?.displayName?`, ${e.displayName}`:"","!"]})]}),b?k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-main mx-auto"}),k.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your dashboard..."})]}):N?k.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:k.jsxs("div",{className:"flex",children:[k.jsx("div",{className:"flex-shrink-0",children:k.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:k.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),k.jsx("div",{className:"ml-3",children:k.jsx("p",{className:"text-sm text-red-700",children:"Error loading dashboard data. Please try again later."})})]})}):k.jsxs("div",{className:"space-y-6",children:[h.length>0&&k.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[k.jsxs("button",{onClick:async()=>{if(e?.uid){if(confirm("Are you sure you want to remove all enrollments from your account? This action cannot be undone."))try{const t=qh(uf,"users",e.uid,"enrollments"),n=await Bm(t);if(n.docs.length>0){for(const e of n.docs)await $m(e.ref);await Bm(t);m([]),alert(`Successfully removed ${n.docs.length} enrollment(s)!`)}else alert("No enrollments found to remove.")}catch(t){console.error("Error clearing enrollments:",t),alert("Error clearing enrollments: "+t.message)}}else alert("Please log in first")},className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[k.jsx(jg,{className:"h-4 w-4"}),"Clear All Enrollments (",h.length,")"]}),k.jsxs("p",{className:"text-sm text-red-800 mt-2",children:["Found ",h.length," enrollment(s). Click to remove them all."]})]}),o.some(e=>e.orderId&&e.orderId.startsWith("TEST_")||e.paymentId&&e.paymentId.startsWith("TEST_PAYMENT_")||e.razorpayOrderId&&e.razorpayOrderId.startsWith("TEST_RAZOR_"))&&k.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[k.jsxs("button",{onClick:async()=>{if(e?.uid){if(confirm("Are you sure you want to remove all test orders?"))try{const t=qh(uf,"users",e.uid,"orders"),n=await Bm(km(t,_m("createdAt","desc"))),r=[];if(n.docs.forEach(e=>{const t=e.data();t.orderId&&t.orderId.startsWith("TEST_")&&r.push({id:e.id,orderId:t.orderId}),t.paymentId&&t.paymentId.startsWith("TEST_PAYMENT_")&&r.push({id:e.id,paymentId:t.paymentId}),t.razorpayOrderId&&t.razorpayOrderId.startsWith("TEST_RAZOR_")&&r.push({id:e.id,razorpayOrderId:t.razorpayOrderId})}),r.length>0){for(const t of r)await $m($h(uf,"users",e.uid,"orders",t.id));const n=(await Bm(km(t,_m("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}));l(n),alert(`Successfully removed ${r.length} test order(s)!`)}else alert("No test orders found to remove.")}catch(t){console.error("Error removing test orders:",t),alert("Error removing test orders: "+t.message)}}else alert("Please log in first")},className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[k.jsx(jg,{className:"h-4 w-4"}),"Remove Test Orders"]}),k.jsx("p",{className:"text-sm text-red-800 mt-2",children:"Test wellness program detected. Click to remove test orders."})]}),k.jsx("div",{className:"svasam-card p-6",children:k.jsxs("div",{className:"flex items-start justify-between gap-4",children:[k.jsxs("div",{className:"min-w-0",children:[k.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Address"}),p?k.jsx("div",{className:"mt-2",children:k.jsx(Jx,{initialData:g||{},onSave:e=>{y(e),f(!1)}})}):k.jsx("p",{className:"mt-1 text-sm text-gray-600 whitespace-pre-line break-words",children:g?(e=>{if(!e)return"";const t=[];e.fullName&&t.push(e.fullName),e.address&&t.push(e.address);const n=[e.city,e.state].filter(Boolean).join(", "),r=e.pincode?` - ${e.pincode}`:"";return(n||r)&&t.push(`${n}${r}`.trim()),e.phone&&t.push(`Phone: ${e.phone}`),e.landmark&&t.push(`Landmark: ${e.landmark}`),t.filter(Boolean).join("\n")})(g):x||"No address saved yet."})]}),k.jsx("div",{className:"flex flex-shrink-0 items-center gap-2",children:p?k.jsx(k.Fragment,{children:k.jsx("button",{type:"button",onClick:()=>{f(!1)},className:"px-4 py-2 rounded-full bg-gray-100 text-gray-800 font-semibold hover:bg-gray-200 transition text-sm",children:"Cancel"})}):k.jsx("button",{type:"button",onClick:()=>{f(!0)},className:"px-4 py-2 rounded-full bg-gray-100 text-gray-800 font-semibold hover:bg-gray-200 transition text-sm",children:"Edit"})})]})}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[k.jsxs("div",{onClick:()=>n("/dashboard/orders"),className:"svasam-card svasam-card-hover p-6 cursor-pointer",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"My Orders"}),k.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track and manage your orders"})]}),k.jsx(Ng,{className:"h-8 w-8 text-main"})]}),k.jsxs("div",{className:"mt-4",children:[k.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.length}),k.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Total orders"})]}),k.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium text-main",children:["View all orders ",k.jsx(dg,{className:"ml-1 h-4 w-4"})]})]}),k.jsxs("div",{onClick:()=>n("/dashboard/courses"),className:"svasam-card svasam-card-hover p-6 cursor-pointer",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"My Courses"}),k.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Continue learning"})]}),k.jsx(hg,{className:"h-8 w-8 text-main"})]}),k.jsxs("div",{className:"mt-4",children:[k.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.length}),k.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Enrolled courses"})]}),k.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium text-main",children:["View all courses ",k.jsx(dg,{className:"ml-1 h-4 w-4"})]})]}),k.jsxs("div",{onClick:()=>n("/dashboard/favorites"),className:"svasam-card svasam-card-hover p-6 cursor-pointer",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"My Favorites"}),k.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Your saved items"})]}),k.jsx(bg,{className:"h-8 w-8 text-main"})]}),k.jsxs("div",{className:"mt-4",children:[k.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.length}),k.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Saved items"})]}),k.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium text-main",children:["View favorites ",k.jsx(dg,{className:"ml-1 h-4 w-4"})]})]})]})]})]})})}const tv=()=>k.jsxs("div",{className:"min-h-screen bg-gray-50",children:[k.jsx("header",{className:"bg-white shadow-sm",children:k.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"flex justify-between h-16 items-center",children:[k.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"My Dashboard"}),k.jsx("div",{className:"flex items-center space-x-4",children:k.jsx("button",{className:"p-2 rounded-full text-gray-500 hover:text-gray-700",children:k.jsx(Sg,{className:"h-5 w-5"})})})]})})}),k.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:k.jsxs("div",{className:"lg:flex lg:space-x-8",children:[k.jsx("nav",{className:"lg:w-64 flex-shrink-0 mb-8 lg:mb-0",children:k.jsxs("div",{className:"space-y-1",children:[k.jsxs(u,{to:"/dashboard/orders",className:({isActive:e})=>"group flex items-center px-4 py-3 text-sm font-medium rounded-lg "+(e?"bg-main text-white":"text-gray-700 hover:bg-gray-100"),children:[k.jsx(Ng,{className:"mr-3 h-5 w-5"}),"My Orders"]}),k.jsxs(u,{to:"/dashboard/courses",className:({isActive:e})=>"group flex items-center px-4 py-3 text-sm font-medium rounded-lg "+(e?"bg-main text-white":"text-gray-700 hover:bg-gray-100"),children:[k.jsx(hg,{className:"mr-3 h-5 w-5"}),"My Courses"]}),k.jsxs(u,{to:"/dashboard/favorites",className:({isActive:e})=>"group flex items-center px-4 py-3 text-sm font-medium rounded-lg "+(e?"bg-main text-white":"text-gray-700 hover:bg-gray-100"),children:[k.jsx(bg,{className:"mr-3 h-5 w-5"}),"Favorites"]})]})}),k.jsx("main",{className:"flex-1",children:k.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:k.jsx(c,{})})})]})})]}),nv=({order:e})=>k.jsxs("div",{className:"svasam-card svasam-card-hover p-4",children:[k.jsx("div",{className:"flex justify-between items-start mb-3",children:k.jsxs("h3",{className:"font-medium text-gray-900",children:["Order #",e.id]})}),k.jsx("div",{className:"space-y-2",children:(e.items||[]).map((e,t)=>k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsx("div",{className:"flex-shrink-0 h-16 w-16 bg-gray-100 rounded-md overflow-hidden",children:k.jsx("img",{src:e.image||e.imageUrl||"/placeholder-program.jpg",alt:e.name||"Item",className:"h-full w-full object-cover"})}),k.jsxs("div",{className:"flex-1 min-w-0",children:[k.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name||e.title||"Item"}),k.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",e.quantity]})]}),k.jsx("div",{className:"text-right",children:k.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["",Number(e.price||0).toLocaleString()]})})]},t))}),k.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-100 flex justify-between items-center",children:[k.jsxs("p",{className:"text-sm text-gray-500",children:["Ordered on ",e.date]}),k.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Total: ",e.total.toLocaleString()]})]})]}),rv=()=>{const{user:e}=bf(),[t,n]=r.useState([]),[s,a]=r.useState(!0);return r.useEffect(()=>{let t=!1;return(async()=>{if(!e?.uid)return n([]),void a(!1);a(!0);try{const r=qh(uf,"users",e.uid,"orders"),s=await Bm(km(r,_m("createdAt","desc")));if(t)return;const i=s.docs.map(e=>{const t=e.data()||{},n=t.createdAt,r=n?.toDate?n.toDate():n?new Date(n):null,s=r?r.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"-";return{id:t.orderId||t.id||e.id,status:t.status||"processing",date:s,total:Number(t.total||t.amount||0),items:Array.isArray(t.items)?t.items:Array.isArray(t.cartItems)?t.cartItems:[]}});n(i)}catch(r){t||n([])}finally{t||a(!1)}})(),()=>{t=!0}},[e?.uid]),k.jsxs("div",{className:"p-6",children:[k.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Orders"}),s?k.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading your orders..."}):t.length>0?k.jsx("div",{className:"space-y-6",children:t.map(e=>k.jsx(nv,{order:e},e.id))}):k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:k.jsx(wg,{className:"h-8 w-8 text-gray-400"})}),k.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No orders yet"}),k.jsx("p",{className:"text-gray-500 mb-6",children:"You haven't placed any orders yet."}),k.jsx(i,{to:"/",className:"inline-flex items-center px-4 py-2 bg-main text-white rounded-md hover:bg-main/90 transition-colors",children:"Start Shopping"})]})]})},sv=({course:e})=>{const t=Math.min(100,Math.max(0,e.progress||0));return k.jsxs("div",{className:"svasam-card svasam-card-hover overflow-hidden",children:[k.jsxs("div",{className:"relative",children:[k.jsx("img",{src:e.image,alt:e.title,className:"w-full h-40 object-cover"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),k.jsxs("div",{className:"absolute bottom-0 left-0 p-4 w-full",children:[k.jsx("div",{className:"h-1.5 w-full bg-gray-200 rounded-full overflow-hidden",children:k.jsx("div",{className:"h-full bg-main",style:{width:`${t}%`}})}),k.jsxs("p",{className:"text-xs text-white mt-1",children:[t,"% Complete"]})]})]}),k.jsxs("div",{className:"p-4",children:[k.jsx("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2 h-12",children:e.title}),k.jsxs("div",{className:"flex items-center justify-between mt-4",children:[k.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[k.jsx(hg,{className:"h-4 w-4"}),k.jsxs("span",{children:[e.lessons," Lessons"]})]}),k.jsx(i,{to:`/programs/${e.slug}`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-main hover:bg-main/90",children:t>0?"Continue":"Start"})]})]})]})},iv=()=>{const{user:e}=bf(),[t,n]=r.useState([]),[s,a]=r.useState(!0),[o,l]=r.useState(null);return r.useEffect(()=>{let t=!1;return(async()=>{if(!e?.uid)return n([]),void a(!1);a(!0),l(null);try{const r=qh(uf,"users",e.uid,"enrollments"),s=await Bm(km(r,_m("createdAt","desc")));if(t)return;const i=s.docs.map(e=>{const t=e.data()||{};return{id:e.id,title:t.title||t.programTitle||"Program",image:t.imageUrl||t.image||"/placeholder-program.jpg",lessons:t.lessons||t.totalLessons||0,progress:t.progress||0,slug:t.slug||t.programSlug||e.id}});n(i)}catch(r){console.error("Error loading courses:",r),t||l("Failed to load courses: "+r.message),n([])}finally{t||a(!1)}})(),()=>{t=!0}},[e?.uid]),k.jsxs("div",{className:"p-6",children:[k.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Courses"}),s?k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-300 mx-auto"}),k.jsx("p",{className:"mt-4 text-gray-500",children:"Loading your courses..."})]}):o?k.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:k.jsxs("div",{className:"flex",children:[k.jsx("div",{className:"flex-shrink-0",children:k.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:k.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),k.jsx("div",{className:"ml-3",children:k.jsx("p",{className:"text-sm text-red-700",children:o})})]})}):t.length>0?k.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>k.jsx(sv,{course:e},e.id))}):k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:k.jsx(hg,{className:"h-8 w-8 text-gray-400"})}),k.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No courses yet"}),k.jsx("p",{className:"text-gray-500 mb-6",children:"You haven't enrolled in any courses yet."}),k.jsx(i,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700",children:"Browse Programs"})]})]})},av=({item:e,onRemove:t})=>k.jsx("div",{className:"svasam-card svasam-card-hover p-4",children:k.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4",children:[k.jsx("div",{className:"flex-shrink-0 h-40 w-full md:w-48 bg-gray-100 rounded-lg overflow-hidden mb-4 md:mb-0",children:k.jsx("img",{src:e.imageUrl||"/placeholder-program.jpg",alt:e.title,className:"h-full w-full object-cover"})}),k.jsxs("div",{className:"flex-1 min-w-0",children:[k.jsxs("div",{className:"flex justify-between items-start",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:e.title}),k.jsx("p",{className:"text-sm text-gray-500 mb-2 capitalize",children:e.category}),k.jsxs("div",{className:"flex items-center space-x-4 mt-3",children:[e.duration&&k.jsxs("span",{className:"inline-flex items-center text-sm text-gray-600",children:[k.jsx(yg,{className:"mr-1.5 h-4 w-4 text-gray-400"}),e.duration]}),e.price?k.jsxs("span",{className:"inline-flex items-center text-sm font-medium text-gray-900",children:[k.jsx(xg,{className:"mr-1 h-4 w-4 text-green-600"}),e.price.toLocaleString()]}):k.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Free"})]})]}),k.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[k.jsx("button",{onClick:()=>t(e.id),className:"text-gray-400 hover:text-red-500 transition-colors p-1","aria-label":"Remove from favorites",children:k.jsx(kg,{className:"h-5 w-5"})}),k.jsxs(i,{to:`/programs/${e.slug||e.id}`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-[#8e6192] hover:bg-[#704091]",children:["View Details",k.jsx(dg,{className:"ml-1 h-3 w-3"})]})]})]}),e.description&&k.jsx("p",{className:"mt-3 text-sm text-gray-600 line-clamp-2",children:e.description})]})]})}),ov=()=>{const[e,t]=r.useState([]),[n,s]=r.useState(!0),[a,o]=r.useState(null),l=cf.currentUser;r.useEffect(()=>{if(!l)return;s(!0);const e=function(e,...t){e=fe(e);let n={includeMetadataChanges:!1,source:"default"},r=0;"object"!=typeof t[r]||Kh(t[r])||(n=t[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Kh(t[r])){const e=t[r];t[r]=e.next?.bind(e),t[r+1]=e.error?.bind(e),t[r+2]=e.complete?.bind(e)}let i,a,o;if(e instanceof Vh)a=ra(e.firestore,Qh),o=Ho(e._key.path),i={next:n=>{t[r]&&t[r](Gm(a,e,n))},error:t[r+1],complete:t[r+2]};else{const n=ra(e,Uh);a=ra(n.firestore,Qh),o=n._query;const s=new Vm(a);i={next:e=>{t[r]&&t[r](new Fm(a,s,n,e))},error:t[r+1],complete:t[r+2]},Nm(e._query)}return function(e,t,n,r){const s=new Eh(r),i=new Gd(t,s,n);return e.asyncQueue.enqueueAndForget(async()=>Ud(await Ah(e),i)),()=>{s.Nu(),e.asyncQueue.enqueueAndForget(async()=>Vd(await Ah(e),i))}}(Yh(a),o,s,i)}(km(qh(uf,"users",l.uid,"favorites")),e=>{try{const n=[];e.docs.forEach(e=>{"programs"!==e.id&&n.push({id:e.id,...e.data()})}),t(n),o(null)}catch(n){console.error("Error processing favorites:",n),o("Failed to load favorites. Please try again.")}finally{s(!1)}},e=>{console.error("Error fetching favorites:",e),o("Failed to load favorites. Please refresh the page."),s(!1)});return()=>e()},[l]);const c=async e=>{if(l)try{await $m($h(uf,"users",l.uid,"favorites",e))}catch(t){console.error("Error removing favorite:",t),alert("Failed to remove from favorites. Please try again.")}};return n?k.jsxs("div",{className:"p-6",children:[k.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Favorites"}),k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-main mx-auto"}),k.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your favorites..."})]})]}):a?k.jsxs("div",{className:"p-6",children:[k.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Favorites"}),k.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:k.jsxs("div",{className:"flex",children:[k.jsx("div",{className:"flex-shrink-0",children:k.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:k.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),k.jsx("div",{className:"ml-3",children:k.jsx("p",{className:"text-sm text-red-700",children:a})})]})})]}):k.jsxs("div",{className:"p-4 sm:p-6",children:[k.jsxs("div",{className:"flex justify-between items-center mb-6",children:[k.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Favorites"}),e.length>0&&k.jsx("button",{onClick:async()=>{if(l&&window.confirm("Are you sure you want to remove all favorites?"))try{const e=[];(await Bm(qh(uf,"users",l.uid,"favorites"))).docs.forEach(t=>{"programs"!==t.id&&e.push($m(t.ref))}),await Promise.all(e)}catch(e){console.error("Error clearing favorites:",e),alert("Failed to clear favorites. Please try again.")}},className:"text-sm font-medium text-red-600 hover:text-red-700",disabled:n,children:"Clear All"})]}),e.length>0?k.jsx("div",{className:"space-y-4",children:e.map(e=>k.jsx(av,{item:e,onRemove:c},e.id))}):k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:k.jsx(bg,{className:"h-8 w-8 text-gray-400"})}),k.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No favorites yet"}),k.jsx("p",{className:"text-gray-500 mb-6",children:"You haven't added any items to your favorites."}),k.jsxs(i,{to:"/sessions",className:"inline-flex items-center px-4 py-2 bg-[#8e6192] text-white rounded-md hover:bg-[#704091] transition-colors",children:["Browse Programs",k.jsx(dg,{className:"ml-2 h-4 w-4"})]})]})]})},lv=()=>{const[e]=r.useState(!0);return e?k.jsx(d,{children:k.jsxs(h,{element:k.jsx(tv,{}),children:[k.jsx(h,{index:!0,element:k.jsx(rv,{})}),k.jsx(h,{path:"orders",element:k.jsx(rv,{})}),k.jsx(h,{path:"courses",element:k.jsx(iv,{})}),k.jsx(h,{path:"favorites",element:k.jsx(ov,{})})]})}):k.jsx(o,{to:"/login",replace:!0})};var cv,uv={exports:{}};function dv(){return cv||(cv=1,uv.exports=function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=r(e))||t){n&&(e=n);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(null,arguments)}function r(t,n){if(t){if("string"==typeof t)return e(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}var s="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function i(e){var t=e.split("-"),n=t[1],r=t[2],i=t[3];if(!n||!r||!i)throw new Error("Malformed asset _ref '"+e+"'. Expected an id like \""+s+'".');var a=r.split("x"),o=+a[0],l=+a[1];if(!isFinite(o)||!isFinite(l))throw new Error("Malformed asset _ref '"+e+"'. Expected an id like \""+s+'".');return{id:n,width:o,height:l,format:i}}var a=function(e){return!!e&&"string"==typeof e._ref},o=function(e){return!!e&&"string"==typeof e._id},l=function(e){var t=e;return!(!t||!t.asset)&&"string"==typeof t.asset.url},c=function(e){if("object"==typeof e&&null!==e){var t=e;return t._upload&&(!t.asset||!t.asset._ref)}return!1};function u(e){if(!e)return null;var t;if("string"==typeof e&&d(e))t={asset:{_ref:h(e)}};else if("string"==typeof e)t={asset:{_ref:e}};else if(a(e))t={asset:e};else if(o(e))t={asset:{_ref:e._id||""}};else if(l(e))t={asset:{_ref:h(e.asset.url)}};else{if("object"!=typeof e.asset)return null;t=n({},e)}var r=e;return r.crop&&(t.crop=r.crop),r.hotspot&&(t.hotspot=r.hotspot),m(t)}function d(e){return/^https?:\/\//.test(""+e)}function h(e){return("image-"+e.split("/").slice(-1)[0]).replace(/\.([a-z]+)$/,"-$1")}function m(e){if(e.crop&&e.hotspot)return e;var t=n({},e);return t.crop||(t.crop={left:0,top:0,bottom:0,right:0}),t.hotspot||(t.hotspot={x:.5,y:.5,height:1,width:1}),t}var p=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function f(e){var t=n({},e||{}),r=t.source;delete t.source;var s=u(r);if(!s){if(r&&c(r))return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8HwQACfsD/QNViZkAAAAASUVORK5CYII=";throw new Error("Unable to resolve image URL from source ("+JSON.stringify(r)+")")}var a=i(s.asset._ref||s.asset._id||""),o=Math.round(s.crop.left*a.width),l=Math.round(s.crop.top*a.height),d={left:o,top:l,width:Math.round(a.width-s.crop.right*a.width-o),height:Math.round(a.height-s.crop.bottom*a.height-l)},h=s.hotspot.height*a.height/2,m=s.hotspot.width*a.width/2,p=s.hotspot.x*a.width,f=s.hotspot.y*a.height,x={left:p-m,top:f-h,right:p+m,bottom:f+h};return t.rect||t.focalPoint||t.ignoreImageParams||t.crop||(t=n({},t,y({crop:d,hotspot:x},t))),g(n({},t,{asset:a}))}function g(e){var t=(e.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),n=e.vanityName?"/"+e.vanityName:"",r=e.asset.id+"-"+e.asset.width+"x"+e.asset.height+"."+e.asset.format+n,s=t+"/images/"+e.projectId+"/"+e.dataset+"/"+r,i=[];if(e.rect){var a=e.rect,o=a.left,l=a.top,c=a.width,u=a.height;(0!==o||0!==l||u!==e.asset.height||c!==e.asset.width)&&i.push("rect="+o+","+l+","+c+","+u)}e.bg&&i.push("bg="+e.bg),e.focalPoint&&(i.push("fp-x="+e.focalPoint.x),i.push("fp-y="+e.focalPoint.y));var d=[e.flipHorizontal&&"h",e.flipVertical&&"v"].filter(Boolean).join("");return d&&i.push("flip="+d),p.forEach(function(t){var n=t[0],r=t[1];void 0!==e[n]?i.push(r+"="+encodeURIComponent(e[n])):void 0!==e[r]&&i.push(r+"="+encodeURIComponent(e[r]))}),0===i.length?s:s+"?"+i.join("&")}function y(e,t){var n,r=t.width,s=t.height;if(!r||!s)return{width:r,height:s,rect:e.crop};var i=e.crop,a=e.hotspot,o=r/s;if(i.width/i.height>o){var l=Math.round(i.height),c=Math.round(l*o),u=Math.max(0,Math.round(i.top)),d=Math.round((a.right-a.left)/2+a.left),h=Math.max(0,Math.round(d-c/2));h<i.left?h=i.left:h+c>i.left+i.width&&(h=i.left+i.width-c),n={left:h,top:u,width:c,height:l}}else{var m=i.width,p=Math.round(m/o),f=Math.max(0,Math.round(i.left)),g=Math.round((a.bottom-a.top)/2+a.top),y=Math.max(0,Math.round(g-p/2));y<i.top?y=i.top:y+p>i.top+i.height&&(y=i.top+i.height-p),n={left:f,top:y,width:m,height:p}}return{width:r,height:s,rect:n}}var x=["clip","crop","fill","fillmax","max","scale","min"],v=["top","bottom","left","right","center","focalpoint","entropy"],b=["format"];function w(e){return!(!e||!("config"in e))&&"function"==typeof e.config}function N(e){return!(!e||!("clientConfig"in e))&&"object"==typeof e.clientConfig}function j(e){for(var n,r=t(p);!(n=r()).done;){var s=n.value,i=s[0],a=s[1];if(e===i||e===a)return i}return e}function S(e){if(w(e)){var t=e.config(),n=t.apiHost,r=t.projectId,s=t.dataset;return new k(null,{baseUrl:(n||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:r,dataset:s})}if(N(e)){var i=e.clientConfig,a=i.apiHost,o=i.projectId,l=i.dataset;return new k(null,{baseUrl:(a||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:o,dataset:l})}return new k(null,e||{})}var k=function(){function e(e,t){this.options=void 0,this.options=e?n({},e.options||{},t||{}):n({},t||{})}var t=e.prototype;return t.withOptions=function(t){var r=t.baseUrl||this.options.baseUrl,s={baseUrl:r};for(var i in t)t.hasOwnProperty(i)&&(s[j(i)]=t[i]);return new e(this,n({baseUrl:r},s))},t.image=function(e){return this.withOptions({source:e})},t.dataset=function(e){return this.withOptions({dataset:e})},t.projectId=function(e){return this.withOptions({projectId:e})},t.bg=function(e){return this.withOptions({bg:e})},t.dpr=function(e){return this.withOptions(e&&1!==e?{dpr:e}:{})},t.width=function(e){return this.withOptions({width:e})},t.height=function(e){return this.withOptions({height:e})},t.focalPoint=function(e,t){return this.withOptions({focalPoint:{x:e,y:t}})},t.maxWidth=function(e){return this.withOptions({maxWidth:e})},t.minWidth=function(e){return this.withOptions({minWidth:e})},t.maxHeight=function(e){return this.withOptions({maxHeight:e})},t.minHeight=function(e){return this.withOptions({minHeight:e})},t.size=function(e,t){return this.withOptions({width:e,height:t})},t.blur=function(e){return this.withOptions({blur:e})},t.sharpen=function(e){return this.withOptions({sharpen:e})},t.rect=function(e,t,n,r){return this.withOptions({rect:{left:e,top:t,width:n,height:r}})},t.format=function(e){return this.withOptions({format:e})},t.invert=function(e){return this.withOptions({invert:e})},t.orientation=function(e){return this.withOptions({orientation:e})},t.quality=function(e){return this.withOptions({quality:e})},t.forceDownload=function(e){return this.withOptions({download:e})},t.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},t.flipVertical=function(){return this.withOptions({flipVertical:!0})},t.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},t.fit=function(e){if(-1===x.indexOf(e))throw new Error('Invalid fit mode "'+e+'"');return this.withOptions({fit:e})},t.crop=function(e){if(-1===v.indexOf(e))throw new Error('Invalid crop mode "'+e+'"');return this.withOptions({crop:e})},t.saturation=function(e){return this.withOptions({saturation:e})},t.auto=function(e){if(-1===b.indexOf(e))throw new Error('Invalid auto mode "'+e+'"');return this.withOptions({auto:e})},t.pad=function(e){return this.withOptions({pad:e})},t.vanityName=function(e){return this.withOptions({vanityName:e})},t.frame=function(e){if(1!==e)throw new Error('Invalid frame value "'+e+'"');return this.withOptions({frame:e})},t.url=function(){return f(this.options)},t.toString=function(){return this.url()},e}();return S}()),uv.exports}const hv=n(dv()),mv=g({projectId:"n5smwbzi",dataset:"production1",apiVersion:"2023-07-21",useCdn:!1,perspective:"published",withCredentials:!1}),pv=hv(mv),fv=e=>pv.image(e),gv=["mind","body","soul"];function yv(e){const[t,n]=r.useState([]),[s,i]=r.useState(!0),[a,o]=r.useState(null),l=r.useCallback(async()=>{if(!e)return n([]),void i(!1);if(!gv.includes(e)){const t=`Invalid category: ${e}. Must be one of: ${gv.join(", ")}`;return console.error(t),o(new Error(t)),void i(!1)}i(!0),o(null);try{const t='*[_type == "program" && category == $category] {\n        _id,\n        title,\n        description,\n        category,\n        strip,\n        "imageUrl": image.asset->url,\n        price,\n        discountPrice,\n        originalPrice,\n        duration,\n        "slug": select(slug.current != null => slug.current, _id) // Fallback to _id if no slug\n      } | order(title asc)';0;const r=await mv.fetch(t,{category:e});0,n(Array.isArray(r)?r:[]),o(null)}catch(t){console.error("Error fetching programs:",{error:t.message,category:e,timestamp:(new Date).toISOString()}),o(t),n([])}finally{i(!1)}},[e]);return r.useEffect(()=>{let t=!0;return e?(async()=>{try{await l()}catch(e){t&&(console.error("Error in loadData:",e),o(e),i(!1))}})():(n([]),i(!1)),()=>{t=!1}},[e,l]),{programs:t,loading:s,error:a,refetch:l}}function xv(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function vv(e,t){void 0===e&&(e={}),void 0===t&&(t={});const n=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>n.indexOf(e)<0).forEach(n=>{void 0===e[n]?e[n]=t[n]:xv(t[n])&&xv(e[n])&&Object.keys(t[n]).length>0&&vv(e[n],t[n])})}const bv={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function wv(){const e="undefined"!=typeof document?document:{};return vv(e,bv),e}const Nv={document:bv,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function jv(){const e="undefined"!=typeof window?window:{};return vv(e,Nv),e}function Sv(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function kv(){return Date.now()}function Ev(e,t){void 0===t&&(t="x");const n=jv();let r,s,i;const a=function(e){const t=jv();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}(e);return n.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(e=>e.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix("none"===s?"":s)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),"x"===t&&(s=n.WebKitCSSMatrix?i.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===t&&(s=n.WebKitCSSMatrix?i.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),s||0}function Tv(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Cv(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function _v(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(null!=r&&!Cv(r)){const n=Object.keys(Object(r)).filter(e=>t.indexOf(e)<0);for(let t=0,s=n.length;t<s;t+=1){const s=n[t],i=Object.getOwnPropertyDescriptor(r,s);void 0!==i&&i.enumerable&&(Tv(e[s])&&Tv(r[s])?r[s].__swiper__?e[s]=r[s]:_v(e[s],r[s]):!Tv(e[s])&&Tv(r[s])?(e[s]={},r[s].__swiper__?e[s]=r[s]:_v(e[s],r[s])):e[s]=r[s])}}}return e}function Iv(e,t,n){e.style.setProperty(t,n)}function Pv(e){let{swiper:t,targetPosition:n,side:r}=e;const s=jv(),i=-t.translate;let a,o=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(t.cssModeFrameID);const c=n>i?"next":"prev",u=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,d=()=>{a=(new Date).getTime(),null===o&&(o=a);const e=Math.max(Math.min((a-o)/l,1),0),c=.5-Math.cos(e*Math.PI)/2;let h=i+c*(n-i);if(u(h,n)&&(h=n),t.wrapperEl.scrollTo({[r]:h}),u(h,n))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:h})}),void s.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=s.requestAnimationFrame(d)};d()}function Av(e,t){void 0===t&&(t="");const n=jv(),r=[...e.children];return n.HTMLSlotElement&&e instanceof HTMLSlotElement&&r.push(...e.assignedElements()),t?r.filter(e=>e.matches(t)):r}function Lv(e){try{return void console.warn(e)}catch(t){}}function Ov(e,t){void 0===t&&(t=[]);const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:function(e){return void 0===e&&(e=""),e.trim().split(" ").filter(e=>!!e.trim())}(t)),n}function Mv(e,t){return jv().getComputedStyle(e,null).getPropertyValue(t)}function Rv(e){let t,n=e;if(n){for(t=0;null!==(n=n.previousSibling);)1===n.nodeType&&(t+=1);return t}}function Dv(e,t){const n=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&n.push(r):n.push(r),r=r.parentElement;return n}function Fv(e,t,n){const r=jv();return e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom"))}function zv(e){return(Array.isArray(e)?e:[e]).filter(e=>!!e)}function Uv(e,t){void 0===t&&(t=""),"undefined"!=typeof trustedTypes?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:e=>e}).createHTML(t):e.innerHTML=t}let Vv,Bv,qv;function $v(){return Vv||(Vv=function(){const e=jv(),t=wv();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),Vv}function Hv(e){return void 0===e&&(e={}),Bv||(Bv=function(e){let{userAgent:t}=void 0===e?{}:e;const n=$v(),r=jv(),s=r.navigator.platform,i=t||r.navigator.userAgent,a={ios:!1,android:!1},o=r.screen.width,l=r.screen.height,c=i.match(/(Android);?[\s\/]+([\d.]+)?/);let u=i.match(/(iPad).*OS\s([\d_]+)/);const d=i.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m="Win32"===s;let p="MacIntel"===s;return!u&&p&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${o}x${l}`)>=0&&(u=i.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!m&&(a.os="android",a.android=!0),(u||h||d)&&(a.os="ios",a.ios=!0),a}(e)),Bv}function Wv(){return qv||(qv=function(){const e=jv(),t=Hv();let n=!1;function r(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(r()){const t=String(e.navigator.userAgent);if(t.includes("Version/")){const[e,r]=t.split("Version/")[1].split(" ")[0].split(".").map(e=>Number(e));n=e<16||16===e&&r<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),i=r();return{isSafari:n||i,needPerspectiveFix:n,need3dFix:i||s&&t.ios,isWebView:s}}()),qv}const Gv=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};const Kv=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};const Qv=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(n){let t=n.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(n.shadowRoot?t=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(t=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())})),t&&t.remove()}},Yv=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Xv=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const r="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),s=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const n=s,i=[n-t];return i.push(...Array.from({length:t}).map((e,t)=>n+r+t)),void e.slides.forEach((t,n)=>{i.includes(t.column)&&Yv(e,n)})}const i=s+r-1;if(e.params.rewind||e.params.loop)for(let a=s-t;a<=i+t;a+=1){const t=(a%n+n)%n;(t<s||t>i)&&Yv(e,t)}else for(let a=Math.max(s-t,0);a<=Math.min(i+t,n-1);a+=1)a!==s&&(a>i||a<s)&&Yv(e,a)};function Jv(e){let{swiper:t,runCallbacks:n,direction:r,step:s}=e;const{activeIndex:i,previousIndex:a}=t;let o=r;o||(o=i>a?"next":i<a?"prev":"reset"),t.emit(`transition${s}`),n&&"reset"===o?t.emit(`slideResetTransition${s}`):n&&i!==a&&(t.emit(`slideChangeTransition${s}`),"next"===o?t.emit(`slideNextTransition${s}`):t.emit(`slidePrevTransition${s}`))}function Zv(e,t,n){const r=jv(),{params:s}=e,i=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return!i||!(n<=a||n>=r.innerWidth-a)||"prevent"===i&&(t.preventDefault(),!0)}function eb(e){const t=this,n=wv();let r=e;r.originalEvent&&(r=r.originalEvent);const s=t.touchEventsData;if("pointerdown"===r.type){if(null!==s.pointerId&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else"touchstart"===r.type&&1===r.targetTouches.length&&(s.touchId=r.targetTouches[0].identifier);if("touchstart"===r.type)return void Zv(t,r,r.targetTouches[0].pageX);const{params:i,touches:a,enabled:o}=t;if(!o)return;if(!i.simulateTouch&&"mouse"===r.pointerType)return;if(t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let l=r.target;if("wrapper"===i.touchEventsTarget&&!function(e,t){const n=jv();let r=t.contains(e);!r&&n.HTMLSlotElement&&t instanceof HTMLSlotElement&&(r=[...t.assignedElements()].includes(e),r||(r=function(e,t){const n=[t];for(;n.length>0;){const t=n.shift();if(e===t)return!0;n.push(...t.children,...t.shadowRoot?t.shadowRoot.children:[],...t.assignedElements?t.assignedElements():[])}}(e,t)));return r}(l,t.wrapperEl))return;if("which"in r&&3===r.which)return;if("button"in r&&r.button>0)return;if(s.isTouched&&s.isMoved)return;const c=!!i.noSwipingClass&&""!==i.noSwipingClass,u=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&u&&(l=u[0]);const d=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,h=!(!r.target||!r.target.shadowRoot);if(i.noSwiping&&(h?function(e,t){return void 0===t&&(t=this),function t(n){if(!n||n===wv()||n===jv())return null;n.assignedSlot&&(n=n.assignedSlot);const r=n.closest(e);return r||n.getRootNode?r||t(n.getRootNode().host):null}(t)}(d,l):l.closest(d)))return void(t.allowClick=!0);if(i.swipeHandler&&!l.closest(i.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const m=a.currentX,p=a.currentY;if(!Zv(t,r,m))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=m,a.startY=p,s.touchStartTime=kv(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let f=!0;l.matches(s.focusableElements)&&(f=!1,"SELECT"===l.nodeName&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==l&&("mouse"===r.pointerType||"mouse"!==r.pointerType&&!l.matches(s.focusableElements))&&n.activeElement.blur();const g=f&&t.allowTouchMove&&i.touchStartPreventDefault;!i.touchStartForcePreventDefault&&!g||l.isContentEditable||r.preventDefault(),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",r)}function tb(e){const t=wv(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:a,enabled:o}=n;if(!o)return;if(!s.simulateTouch&&"mouse"===e.pointerType)return;let l,c=e;if(c.originalEvent&&(c=c.originalEvent),"pointermove"===c.type){if(null!==r.touchId)return;if(c.pointerId!==r.pointerId)return}if("touchmove"===c.type){if(l=[...c.changedTouches].find(e=>e.identifier===r.touchId),!l||l.identifier!==r.touchId)return}else l=c;if(!r.isTouched)return void(r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c));const u=l.pageX,d=l.pageY;if(c.preventedByNestedSwiper)return i.startX=u,void(i.startY=d);if(!n.allowTouchMove)return c.target.matches(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(i,{startX:u,startY:d,currentX:u,currentY:d}),r.touchStartTime=kv()));if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(d<i.startY&&n.translate<=n.maxTranslate()||d>i.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else{if(a&&(u>i.startX&&-n.translate<=n.maxTranslate()||u<i.startX&&-n.translate>=n.minTranslate()))return;if(!a&&(u<i.startX&&n.translate<=n.maxTranslate()||u>i.startX&&n.translate>=n.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(r.focusableElements)&&t.activeElement!==c.target&&"mouse"!==c.pointerType&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);r.allowTouchCallbacks&&n.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=u,i.currentY=d;const h=i.currentX-i.startX,m=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(h**2+m**2)<n.params.threshold)return;if(void 0===r.isScrolling){let e;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:h*h+m*m>=25&&(e=180*Math.atan2(Math.abs(m),Math.abs(h))/Math.PI,r.isScrolling=n.isHorizontal()?e>s.touchAngle:90-e>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),void 0===r.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(r.startMoving=!0)),r.isScrolling||"touchmove"===c.type&&r.preventTouchMoveFromPointerMove)return void(r.isTouched=!1);if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let p=n.isHorizontal()?h:m,f=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(p=Math.abs(p)*(a?1:-1),f=Math.abs(f)*(a?1:-1)),i.diff=p,p*=s.touchRatio,a&&(p=-p,f=-f);const g=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=f>0?"prev":"next";const y=n.params.loop&&!s.cssMode,x="next"===n.touchesDirection&&n.allowSlideNext||"prev"===n.touchesDirection&&n.allowSlidePrev;if(!r.isMoved){if(y&&x&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(e)}r.allowMomentumBounce=!1,!s.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if((new Date).getTime(),!1!==s._loopSwapReset&&r.isMoved&&r.allowThresholdMove&&g!==n.touchesDirection&&y&&x&&Math.abs(p)>=1)return Object.assign(i,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,void(r.startTranslate=r.currentTranslate);n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=p+r.startTranslate;let v=!0,b=s.resistanceRatio;if(s.touchReleaseOnEdges&&(b=0),p>0?(y&&x&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-("auto"!==s.slidesPerView&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(v=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+p)**b))):p<0&&(y&&x&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+("auto"!==s.slidesPerView&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-("auto"===s.slidesPerView?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(v=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-p)**b))),v&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),s.threshold>0){if(!(Math.abs(p)>s.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,void(i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}s.followFinger&&!s.cssMode&&((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function nb(e){const t=this,n=t.touchEventsData;let r,s=e;s.originalEvent&&(s=s.originalEvent);if("touchend"===s.type||"touchcancel"===s.type){if(r=[...s.changedTouches].find(e=>e.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(null!==n.touchId)return;if(s.pointerId!==n.pointerId)return;r=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)){if(!(["pointercancel","contextmenu"].includes(s.type)&&(t.browser.isSafari||t.browser.isWebView)))return}n.pointerId=null,n.touchId=null;const{params:i,touches:a,rtlTranslate:o,slidesGrid:l,enabled:c}=t;if(!c)return;if(!i.simulateTouch&&"mouse"===s.pointerType)return;if(n.allowTouchCallbacks&&t.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&i.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);i.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const u=kv(),d=u-n.touchStartTime;if(t.allowClick){const e=s.path||s.composedPath&&s.composedPath();t.updateClickedSlide(e&&e[0]||s.target,e),t.emit("tap click",s),d<300&&u-n.lastClickTime<300&&t.emit("doubleTap doubleClick",s)}if(n.lastClickTime=kv(),Sv(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||0===a.diff&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let h;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,h=i.followFinger?o?t.translate:-t.translate:-n.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:h});const m=h>=-t.maxTranslate()&&!t.params.loop;let p=0,f=t.slidesSizesGrid[0];for(let b=0;b<l.length;b+=b<i.slidesPerGroupSkip?1:i.slidesPerGroup){const e=b<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;void 0!==l[b+e]?(m||h>=l[b]&&h<l[b+e])&&(p=b,f=l[b+e]-l[b]):(m||h>=l[b])&&(p=b,f=l[l.length-1]-l[l.length-2])}let g=null,y=null;i.rewind&&(t.isBeginning?y=i.virtual&&i.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(g=0));const x=(h-l[p])/f,v=p<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(d>i.longSwipesMs){if(!i.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(x>=i.longSwipesRatio?t.slideTo(i.rewind&&t.isEnd?g:p+v):t.slideTo(p)),"prev"===t.swipeDirection&&(x>1-i.longSwipesRatio?t.slideTo(p+v):null!==y&&x<0&&Math.abs(x)>i.longSwipesRatio?t.slideTo(y):t.slideTo(p))}else{if(!i.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(s.target===t.navigation.nextEl||s.target===t.navigation.prevEl)?s.target===t.navigation.nextEl?t.slideTo(p+v):t.slideTo(p):("next"===t.swipeDirection&&t.slideTo(null!==g?g:p+v),"prev"===t.swipeDirection&&t.slideTo(null!==y?y:p))}}function rb(){const e=this,{params:t,el:n}=e;if(n&&0===n.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const o=a&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||o?e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=s,e.allowSlideNext=r,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function sb(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function ib(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;let s;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const i=e.maxTranslate()-e.minTranslate();s=0===i?0:(e.translate-e.minTranslate())/i,s!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function ab(e){const t=this;Qv(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function ob(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const lb=(e,t)=>{const n=wv(),{params:r,el:s,wrapperEl:i,device:a}=e,o=!!r.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;s&&"string"!=typeof s&&(n[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:o}),s[l]("touchstart",e.onTouchStart,{passive:!1}),s[l]("pointerdown",e.onTouchStart,{passive:!1}),n[l]("touchmove",e.onTouchMove,{passive:!1,capture:o}),n[l]("pointermove",e.onTouchMove,{passive:!1,capture:o}),n[l]("touchend",e.onTouchEnd,{passive:!0}),n[l]("pointerup",e.onTouchEnd,{passive:!0}),n[l]("pointercancel",e.onTouchEnd,{passive:!0}),n[l]("touchcancel",e.onTouchEnd,{passive:!0}),n[l]("pointerout",e.onTouchEnd,{passive:!0}),n[l]("pointerleave",e.onTouchEnd,{passive:!0}),n[l]("contextmenu",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[l]("click",e.onClick,!0),r.cssMode&&i[l]("scroll",e.onScroll),r.updateOnWindowResize?e[c](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",rb,!0):e[c]("observerUpdate",rb,!0),s[l]("load",e.onLoad,{capture:!0}))};const cb=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var ub={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function db(e,t){return function(n){void 0===n&&(n={});const r=Object.keys(n)[0],s=n[r];"object"==typeof s&&null!==s?(!0===e[r]&&(e[r]={enabled:!0}),"navigation"===r&&e[r]&&e[r].enabled&&!e[r].prevEl&&!e[r].nextEl&&(e[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&e[r]&&e[r].enabled&&!e[r].el&&(e[r].auto=!0),r in e&&"enabled"in s?("object"!=typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),_v(t,n)):_v(t,n)):_v(t,n)}}const hb={eventsEmitter:{on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof t)return r;const s=n?"unshift":"push";return e.split(" ").forEach(e=>{r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][s](t)}),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof t)return r;function s(){r.off(e,s),s.__emitterProxy&&delete s.__emitterProxy;for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];t.apply(r,i)}return s.__emitterProxy=t,r.on(e,s,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof e)return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach(e=>{void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((r,s)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(s,1)})}),n):n},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,n,r;for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];"string"==typeof i[0]||Array.isArray(i[0])?(t=i[0],n=i.slice(1,i.length),r=e):(t=i[0].events,n=i[0].data,r=i[0].context||e),n.unshift(r);return(Array.isArray(t)?t:t.split(" ")).forEach(t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(e=>{e.apply(r,[t,...n])}),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach(e=>{e.apply(r,n)})}),e}},update:{updateSize:function(){const e=this;let t,n;const r=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:r.clientWidth,n=void 0!==e.params.height&&null!==e.params.height?e.params.height:r.clientHeight,0===t&&e.isHorizontal()||0===n&&e.isVertical()||(t=t-parseInt(Mv(r,"padding-left")||0,10)-parseInt(Mv(r,"padding-right")||0,10),n=n-parseInt(Mv(r,"padding-top")||0,10)-parseInt(Mv(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))},updateSlides:function(){const e=this;function t(t,n){return parseFloat(t.getPropertyValue(e.getDirectionLabel(n))||0)}const n=e.params,{wrapperEl:r,slidesEl:s,size:i,rtlTranslate:a,wrongRTL:o}=e,l=e.virtual&&n.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,u=Av(s,`.${e.params.slideClass}, swiper-slide`),d=l?e.virtual.slides.length:u.length;let h=[];const m=[],p=[];let f=n.slidesOffsetBefore;"function"==typeof f&&(f=n.slidesOffsetBefore.call(e));let g=n.slidesOffsetAfter;"function"==typeof g&&(g=n.slidesOffsetAfter.call(e));const y=e.snapGrid.length,x=e.slidesGrid.length;let v=n.spaceBetween,b=-f,w=0,N=0;if(void 0===i)return;"string"==typeof v&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*i:"string"==typeof v&&(v=parseFloat(v)),e.virtualSize=-v,u.forEach(e=>{a?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Iv(r,"--swiper-centered-offset-before",""),Iv(r,"--swiper-centered-offset-after",""));const j=n.grid&&n.grid.rows>1&&e.grid;let S;j?e.grid.initSlides(u):e.grid&&e.grid.unsetSlides();const k="auto"===n.slidesPerView&&n.breakpoints&&Object.keys(n.breakpoints).filter(e=>void 0!==n.breakpoints[e].slidesPerView).length>0;for(let E=0;E<d;E+=1){let r;if(S=0,u[E]&&(r=u[E]),j&&e.grid.updateSlide(E,r,u),!u[E]||"none"!==Mv(r,"display")){if("auto"===n.slidesPerView){k&&(u[E].style[e.getDirectionLabel("width")]="");const s=getComputedStyle(r),i=r.style.transform,a=r.style.webkitTransform;if(i&&(r.style.transform="none"),a&&(r.style.webkitTransform="none"),n.roundLengths)S=e.isHorizontal()?Fv(r,"width"):Fv(r,"height");else{const e=t(s,"width"),n=t(s,"padding-left"),i=t(s,"padding-right"),a=t(s,"margin-left"),o=t(s,"margin-right"),l=s.getPropertyValue("box-sizing");if(l&&"border-box"===l)S=e+a+o;else{const{clientWidth:t,offsetWidth:s}=r;S=e+n+i+a+o+(s-t)}}i&&(r.style.transform=i),a&&(r.style.webkitTransform=a),n.roundLengths&&(S=Math.floor(S))}else S=(i-(n.slidesPerView-1)*v)/n.slidesPerView,n.roundLengths&&(S=Math.floor(S)),u[E]&&(u[E].style[e.getDirectionLabel("width")]=`${S}px`);u[E]&&(u[E].swiperSlideSize=S),p.push(S),n.centeredSlides?(b=b+S/2+w/2+v,0===w&&0!==E&&(b=b-i/2-v),0===E&&(b=b-i/2-v),Math.abs(b)<.001&&(b=0),n.roundLengths&&(b=Math.floor(b)),N%n.slidesPerGroup===0&&h.push(b),m.push(b)):(n.roundLengths&&(b=Math.floor(b)),(N-Math.min(e.params.slidesPerGroupSkip,N))%e.params.slidesPerGroup===0&&h.push(b),m.push(b),b=b+S+v),e.virtualSize+=S+v,w=S,N+=1}}if(e.virtualSize=Math.max(e.virtualSize,i)+g,a&&o&&("slide"===n.effect||"coverflow"===n.effect)&&(r.style.width=`${e.virtualSize+v}px`),n.setWrapperSize&&(r.style[e.getDirectionLabel("width")]=`${e.virtualSize+v}px`),j&&e.grid.updateWrapperSize(S,h),!n.centeredSlides){const t=[];for(let r=0;r<h.length;r+=1){let s=h[r];n.roundLengths&&(s=Math.floor(s)),h[r]<=e.virtualSize-i&&t.push(s)}h=t,Math.floor(e.virtualSize-i)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-i)}if(l&&n.loop){const t=p[0]+v;if(n.slidesPerGroup>1){const r=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),s=t*n.slidesPerGroup;for(let e=0;e<r;e+=1)h.push(h[h.length-1]+s)}for(let r=0;r<e.virtual.slidesBefore+e.virtual.slidesAfter;r+=1)1===n.slidesPerGroup&&h.push(h[h.length-1]+t),m.push(m[m.length-1]+t),e.virtualSize+=t}if(0===h.length&&(h=[0]),0!==v){const t=e.isHorizontal()&&a?"marginLeft":e.getDirectionLabel("marginRight");u.filter((e,t)=>!(n.cssMode&&!n.loop)||t!==u.length-1).forEach(e=>{e.style[t]=`${v}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let e=0;p.forEach(t=>{e+=t+(v||0)}),e-=v;const t=e>i?e-i:0;h=h.map(e=>e<=0?-f:e>t?t+g:e)}if(n.centerInsufficientSlides){let e=0;p.forEach(t=>{e+=t+(v||0)}),e-=v;const t=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(e+t<i){const n=(i-e-t)/2;h.forEach((e,t)=>{h[t]=e-n}),m.forEach((e,t)=>{m[t]=e+n})}}if(Object.assign(e,{slides:u,snapGrid:h,slidesGrid:m,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Iv(r,"--swiper-centered-offset-before",-h[0]+"px"),Iv(r,"--swiper-centered-offset-after",e.size/2-p[p.length-1]/2+"px");const t=-e.snapGrid[0],n=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(e=>e+t),e.slidesGrid=e.slidesGrid.map(e=>e+n)}if(d!==c&&e.emit("slidesLengthChange"),h.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),m.length!==x&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!(l||n.cssMode||"slide"!==n.effect&&"fade"!==n.effect)){const t=`${n.containerModifierClass}backface-hidden`,r=e.el.classList.contains(t);d<=n.maxBackfaceHiddenSlides?r||e.el.classList.add(t):r&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let s,i=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const a=e=>r?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(e=>{n.push(e)});else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const e=t.activeIndex+s;if(e>t.slides.length&&!r)break;n.push(a(e))}else n.push(a(t.activeIndex));for(s=0;s<n.length;s+=1)if(void 0!==n[s]){const e=n[s].offsetHeight;i=e>i?e:i}(i||0===i)&&(t.wrapperEl.style.height=`${i}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:r,rtlTranslate:s,snapGrid:i}=t;if(0===r.length)return;void 0===r[0].swiperSlideOffset&&t.updateSlidesOffset();let a=-e;s&&(a=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let o=n.spaceBetween;"string"==typeof o&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*t.size:"string"==typeof o&&(o=parseFloat(o));for(let l=0;l<r.length;l+=1){const e=r[l];let c=e.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const u=(a+(n.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+o),d=(a-i[0]+(n.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+o),h=-(a-c),m=h+t.slidesSizesGrid[l],p=h>=0&&h<=t.size-t.slidesSizesGrid[l],f=h>=0&&h<t.size-1||m>1&&m<=t.size||h<=0&&m>=t.size;f&&(t.visibleSlides.push(e),t.visibleSlidesIndexes.push(l)),Gv(e,f,n.slideVisibleClass),Gv(e,p,n.slideFullyVisibleClass),e.progress=s?-u:u,e.originalProgress=s?-d:d}},updateProgress:function(e){const t=this;if(void 0===e){const n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:s,isBeginning:i,isEnd:a,progressLoop:o}=t;const l=i,c=a;if(0===r)s=0,i=!0,a=!0;else{s=(e-t.minTranslate())/r;const n=Math.abs(e-t.minTranslate())<1,o=Math.abs(e-t.maxTranslate())<1;i=n||s<=0,a=o||s>=1,n&&(s=0),o&&(s=1)}if(n.loop){const n=t.getSlideIndexByData(0),r=t.getSlideIndexByData(t.slides.length-1),s=t.slidesGrid[n],i=t.slidesGrid[r],a=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);o=l>=s?(l-s)/a:(l+a-i)/a,o>1&&(o-=1)}Object.assign(t,{progress:s,progressLoop:o,isBeginning:i,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),i&&!l&&t.emit("reachBeginning toEdge"),a&&!c&&t.emit("reachEnd toEdge"),(l&&!i||c&&!a)&&t.emit("fromEdge"),t.emit("progress",s)},updateSlidesClasses:function(){const e=this,{slides:t,params:n,slidesEl:r,activeIndex:s}=e,i=e.virtual&&n.virtual.enabled,a=e.grid&&n.grid&&n.grid.rows>1,o=e=>Av(r,`.${n.slideClass}${e}, swiper-slide${e}`)[0];let l,c,u;if(i)if(n.loop){let t=s-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=o(`[data-swiper-slide-index="${t}"]`)}else l=o(`[data-swiper-slide-index="${s}"]`);else a?(l=t.find(e=>e.column===s),u=t.find(e=>e.column===s+1),c=t.find(e=>e.column===s-1)):l=t[s];l&&(a||(u=function(e,t){const n=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=t[0]),c=function(e,t){const n=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&0===!c&&(c=t[t.length-1]))),t.forEach(e=>{Kv(e,e===l,n.slideActiveClass),Kv(e,e===u,n.slideNextClass),Kv(e,e===c,n.slidePrevClass)}),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:a,snapIndex:o}=t;let l,c=e;const u=e=>{let n=e-t.virtual.slidesBefore;return n<0&&(n=t.virtual.slides.length+n),n>=t.virtual.slides.length&&(n-=t.virtual.slides.length),n};if(void 0===c&&(c=function(e){const{slidesGrid:t,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;let s;for(let i=0;i<t.length;i+=1)void 0!==t[i+1]?r>=t[i]&&r<t[i+1]-(t[i+1]-t[i])/2?s=i:r>=t[i]&&r<t[i+1]&&(s=i+1):r>=t[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||void 0===s)&&(s=0),s}(t)),r.indexOf(n)>=0)l=r.indexOf(n);else{const e=Math.min(s.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/s.slidesPerGroup)}if(l>=r.length&&(l=r.length-1),c===i&&!t.params.loop)return void(l!==o&&(t.snapIndex=l,t.emit("snapIndexChange")));if(c===i&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=u(c));const d=t.grid&&s.grid&&s.grid.rows>1;let h;if(t.virtual&&s.virtual.enabled&&s.loop)h=u(c);else if(d){const e=t.slides.find(e=>e.column===c);let n=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(n)&&(n=Math.max(t.slides.indexOf(e),0)),h=Math.floor(n/s.grid.rows)}else if(t.slides[c]){const e=t.slides[c].getAttribute("data-swiper-slide-index");h=e?parseInt(e,10):c}else h=c;Object.assign(t,{previousSnapIndex:o,snapIndex:l,previousRealIndex:a,realIndex:h,previousIndex:i,activeIndex:c}),t.initialized&&Xv(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(a!==h&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const n=this,r=n.params;let s=e.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(e=>{!s&&e.matches&&e.matches(`.${r.slideClass}, swiper-slide`)&&(s=e)});let i,a=!1;if(s)for(let o=0;o<n.slides.length;o+=1)if(n.slides[o]===s){a=!0,i=o;break}if(!s||!a)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=i,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}},translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:n,translate:r,wrapperEl:s}=this;if(t.virtualTranslate)return n?-r:r;if(t.cssMode)return r;let i=Ev(s,e);return i+=this.cssOverflowAdjustment(),n&&(i=-i),i||0},setTranslate:function(e,t){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:a}=n;let o,l=0,c=0;n.isHorizontal()?l=r?-e:e:c=e,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, 0px)`);const u=n.maxTranslate()-n.minTranslate();o=0===u?0:(e-n.minTranslate())/u,o!==a&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,r,s){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);const i=this,{params:a,wrapperEl:o}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let u;if(u=r&&e>l?l:r&&e<c?c:e,i.updateProgress(u),a.cssMode){const e=i.isHorizontal();if(0===t)o[e?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return Pv({swiper:i,targetPosition:-u,side:e?"left":"top"}),!0;o.scrollTo({[e?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===t?(i.setTransition(0),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",t,s),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",t,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=0===e?"0ms":""),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Jv({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const n=this,{params:r}=n;n.animating=!1,r.cssMode||(n.setTransition(0),Jv({swiper:n,runCallbacks:e,direction:t,step:"End"}))}},slide:{slideTo:function(e,t,n,r,s){void 0===e&&(e=0),void 0===n&&(n=!0),"string"==typeof e&&(e=parseInt(e,10));const i=this;let a=e;a<0&&(a=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:m,enabled:p}=i;if(!p&&!r&&!s||i.destroyed||i.animating&&o.preventInteractionOnTransition)return!1;void 0===t&&(t=i.params.speed);const f=Math.min(i.params.slidesPerGroupSkip,a);let g=f+Math.floor((a-f)/i.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const y=-l[g];if(o.normalizeSlideIndex)for(let w=0;w<c.length;w+=1){const e=-Math.floor(100*y),t=Math.floor(100*c[w]),n=Math.floor(100*c[w+1]);void 0!==c[w+1]?e>=t&&e<n-(n-t)/2?a=w:e>=t&&e<n&&(a=w+1):e>=t&&(a=w)}if(i.initialized&&a!==d){if(!i.allowSlideNext&&(h?y>i.translate&&y>i.minTranslate():y<i.translate&&y<i.minTranslate()))return!1;if(!i.allowSlidePrev&&y>i.translate&&y>i.maxTranslate()&&(d||0)!==a)return!1}let x;a!==(u||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(y),x=a>d?"next":a<d?"prev":"reset";const v=i.virtual&&i.params.virtual.enabled;if(!(v&&s)&&(h&&-y===i.translate||!h&&y===i.translate))return i.updateActiveIndex(a),o.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==o.effect&&i.setTranslate(y),"reset"!==x&&(i.transitionStart(n,x),i.transitionEnd(n,x)),!1;if(o.cssMode){const e=i.isHorizontal(),n=h?y:-y;if(0===t)v&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),v&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[e?"scrollLeft":"scrollTop"]=n})):m[e?"scrollLeft":"scrollTop"]=n,v&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return Pv({swiper:i,targetPosition:n,side:e?"left":"top"}),!0;m.scrollTo({[e?"left":"top"]:n,behavior:"smooth"})}return!0}const b=Wv().isSafari;return v&&!s&&b&&i.isElement&&i.virtual.update(!1,!1,a),i.setTransition(t),i.setTranslate(y),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,r),i.transitionStart(n,x),0===t?i.transitionEnd(n,x):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,x))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,n,r){if(void 0===e&&(e=0),void 0===n&&(n=!0),"string"==typeof e){e=parseInt(e,10)}const s=this;if(s.destroyed)return;void 0===t&&(t=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let a=e;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a+=s.virtual.slidesBefore;else{let e;if(i){const t=a*s.params.grid.rows;e=s.slides.find(e=>1*e.getAttribute("data-swiper-slide-index")===t).column}else e=s.getSlideIndexByData(a);const t=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:n}=s.params;let o=s.params.slidesPerView;"auto"===o?o=s.slidesPerViewDynamic():(o=Math.ceil(parseFloat(s.params.slidesPerView,10)),n&&o%2==0&&(o+=1));let l=t-e<o;if(n&&(l=l||e<Math.ceil(o/2)),r&&n&&"auto"!==s.params.slidesPerView&&!i&&(l=!1),l){const r=n?e<s.activeIndex?"prev":"next":e-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:r,slideTo:!0,activeSlideIndex:"next"===r?e+1:e-t+1,slideRealIndex:"next"===r?s.realIndex:void 0})}if(i){const e=a*s.params.grid.rows;a=s.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e).column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame(()=>{s.slideTo(a,t,n,r)}),s},slideNext:function(e,t,n){void 0===t&&(t=!0);const r=this,{enabled:s,params:i,animating:a}=r;if(!s||r.destroyed)return r;void 0===e&&(e=r.params.speed);let o=i.slidesPerGroup;"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(o=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<i.slidesPerGroupSkip?1:o,c=r.virtual&&i.virtual.enabled;if(i.loop){if(a&&!c&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,e,t,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+l,e,t,n)},slidePrev:function(e,t,n){void 0===t&&(t=!0);const r=this,{params:s,snapGrid:i,slidesGrid:a,rtlTranslate:o,enabled:l,animating:c}=r;if(!l||r.destroyed)return r;void 0===e&&(e=r.params.speed);const u=r.virtual&&s.virtual.enabled;if(s.loop){if(c&&!u&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const h=d(o?r.translate:-r.translate),m=i.map(e=>d(e)),p=s.freeMode&&s.freeMode.enabled;let f=i[m.indexOf(h)-1];if(void 0===f&&(s.cssMode||p)){let e;i.forEach((t,n)=>{h>=t&&(e=n)}),void 0!==e&&(f=p?i[e]:i[e>0?e-1:e])}let g=0;if(void 0!==f&&(g=a.indexOf(f),g<0&&(g=r.activeIndex-1),"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),s.rewind&&r.isBeginning){const s=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(s,e,t,n)}return s.loop&&0===r.activeIndex&&s.cssMode?(requestAnimationFrame(()=>{r.slideTo(g,e,t,n)}),!0):r.slideTo(g,e,t,n)},slideReset:function(e,t,n){void 0===t&&(t=!0);const r=this;if(!r.destroyed)return void 0===e&&(e=r.params.speed),r.slideTo(r.activeIndex,e,t,n)},slideToClosest:function(e,t,n,r){void 0===t&&(t=!0),void 0===r&&(r=.5);const s=this;if(s.destroyed)return;void 0===e&&(e=s.params.speed);let i=s.activeIndex;const a=Math.min(s.params.slidesPerGroupSkip,i),o=a+Math.floor((i-a)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[o]){const e=s.snapGrid[o];l-e>(s.snapGrid[o+1]-e)*r&&(i+=s.params.slidesPerGroup)}else{const e=s.snapGrid[o-1];l-e<=(s.snapGrid[o]-e)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,e,t,n)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,r="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let s,i=e.getSlideIndexWhenGrid(e.clickedIndex);const a=e.isElement?"swiper-slide":`.${t.slideClass}`,o=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;s=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(s):i>(o?(e.slides.length-r)/2-(e.params.grid.rows-1):e.slides.length-r)?(e.loopFix(),i=e.getSlideIndex(Av(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),Sv(()=>{e.slideTo(i)})):e.slideTo(i)}else e.slideTo(i)}},loop:{loopCreate:function(e,t){const n=this,{params:r,slidesEl:s}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{Av(s,`.${r.slideClass}, swiper-slide`).forEach((e,t)=>{e.setAttribute("data-swiper-slide-index",t)})},a=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||a)&&(()=>{const e=Av(s,`.${r.slideBlankClass}`);e.forEach(e=>{e.remove()}),e.length>0&&(n.recalcSlides(),n.updateSlides())})();const o=r.slidesPerGroup*(a?r.grid.rows:1),l=n.slides.length%o!==0,c=a&&n.slides.length%r.grid.rows!==0,u=e=>{for(let t=0;t<e;t+=1){const e=n.isElement?Ov("swiper-slide",[r.slideBlankClass]):Ov("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(e)}};if(l){if(r.loopAddBlankSlides){u(o-n.slides.length%o),n.recalcSlides(),n.updateSlides()}else Lv("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(c){if(r.loopAddBlankSlides){u(r.grid.rows-n.slides.length%r.grid.rows),n.recalcSlides(),n.updateSlides()}else Lv("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();n.loopFix({slideRealIndex:e,direction:r.centeredSlides?void 0:"next",initial:t})},loopFix:function(e){let{slideRealIndex:t,slideTo:n=!0,direction:r,setTranslate:s,activeSlideIndex:i,initial:a,byController:o,byMousewheel:l}=void 0===e?{}:e;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:h,slidesEl:m,params:p}=c,{centeredSlides:f,initialSlide:g}=p;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&p.virtual.enabled)return n&&(p.centeredSlides||0!==c.snapIndex?p.centeredSlides&&c.snapIndex<p.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0):c.slideTo(c.virtual.slides.length,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=h,void c.emit("loopFix");let y=p.slidesPerView;"auto"===y?y=c.slidesPerViewDynamic():(y=Math.ceil(parseFloat(p.slidesPerView,10)),f&&y%2==0&&(y+=1));const x=p.slidesPerGroupAuto?y:p.slidesPerGroup;let v=f?Math.max(x,Math.ceil(y/2)):x;v%x!==0&&(v+=x-v%x),v+=p.loopAdditionalSlides,c.loopedSlides=v;const b=c.grid&&p.grid&&p.grid.rows>1;u.length<y+v||"cards"===c.params.effect&&u.length<y+2*v?Lv("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):b&&"row"===p.grid.fill&&Lv("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const w=[],N=[],j=b?Math.ceil(u.length/p.grid.rows):u.length,S=a&&j-g<y&&!f;let k=S?g:c.activeIndex;void 0===i?i=c.getSlideIndex(u.find(e=>e.classList.contains(p.slideActiveClass))):k=i;const E="next"===r||!r,T="prev"===r||!r;let C=0,_=0;const I=(b?u[i].column:i)+(f&&void 0===s?-y/2+.5:0);if(I<v){C=Math.max(v-I,x);for(let e=0;e<v-I;e+=1){const t=e-Math.floor(e/j)*j;if(b){const e=j-t-1;for(let t=u.length-1;t>=0;t-=1)u[t].column===e&&w.push(t)}else w.push(j-t-1)}}else if(I+y>j-v){_=Math.max(I-(j-2*v),x),S&&(_=Math.max(_,y-j+g+1));for(let e=0;e<_;e+=1){const t=e-Math.floor(e/j)*j;b?u.forEach((e,n)=>{e.column===t&&N.push(n)}):N.push(t)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),"cards"===c.params.effect&&u.length<y+2*v&&(N.includes(i)&&N.splice(N.indexOf(i),1),w.includes(i)&&w.splice(w.indexOf(i),1)),T&&w.forEach(e=>{u[e].swiperLoopMoveDOM=!0,m.prepend(u[e]),u[e].swiperLoopMoveDOM=!1}),E&&N.forEach(e=>{u[e].swiperLoopMoveDOM=!0,m.append(u[e]),u[e].swiperLoopMoveDOM=!1}),c.recalcSlides(),"auto"===p.slidesPerView?c.updateSlides():b&&(w.length>0&&T||N.length>0&&E)&&c.slides.forEach((e,t)=>{c.grid.updateSlide(t,e,c.slides)}),p.watchSlidesProgress&&c.updateSlidesOffset(),n)if(w.length>0&&T){if(void 0===t){const e=c.slidesGrid[k],t=c.slidesGrid[k+C]-e;l?c.setTranslate(c.translate-t):(c.slideTo(k+Math.ceil(C),0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-t,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-t))}else if(s){const e=b?w.length/p.grid.rows:w.length;c.slideTo(c.activeIndex+e,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(N.length>0&&E)if(void 0===t){const e=c.slidesGrid[k],t=c.slidesGrid[k-_]-e;l?c.setTranslate(c.translate-t):(c.slideTo(k-_,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-t,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-t))}else{const e=b?N.length/p.grid.rows:N.length;c.slideTo(c.activeIndex-e,0,!1,!0)}if(c.allowSlidePrev=d,c.allowSlideNext=h,c.controller&&c.controller.control&&!o){const e={slideRealIndex:t,direction:r,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===p.slidesPerView&&n})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...e,slideTo:c.controller.control.params.slidesPerView===p.slidesPerView&&n})}c.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||!n||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach(e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;r[t]=e}),e.slides.forEach(e=>{e.removeAttribute("data-swiper-slide-index")}),r.forEach(e=>{n.append(e)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}},grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}},events:{attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=eb.bind(e),e.onTouchMove=tb.bind(e),e.onTouchEnd=nb.bind(e),e.onDocumentTouchStart=ob.bind(e),t.cssMode&&(e.onScroll=ib.bind(e)),e.onClick=sb.bind(e),e.onLoad=ab.bind(e),lb(e,"on")},detachEvents:function(){lb(this,"off")}},breakpoints:{setBreakpoint:function(){const e=this,{realIndex:t,initialized:n,params:r,el:s}=e,i=r.breakpoints;if(!i||i&&0===Object.keys(i).length)return;const a=wv(),o="window"!==r.breakpointsBase&&r.breakpointsBase?"container":r.breakpointsBase,l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?e.el:a.querySelector(r.breakpointsBase),c=e.getBreakpoint(i,o,l);if(!c||e.currentBreakpoint===c)return;const u=(c in i?i[c]:void 0)||e.originalParams,d=cb(e,r),h=cb(e,u),m=e.params.grabCursor,p=u.grabCursor,f=r.enabled;d&&!h?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!d&&h&&(s.classList.add(`${r.containerModifierClass}grid`),(u.grid.fill&&"column"===u.grid.fill||!u.grid.fill&&"column"===r.grid.fill)&&s.classList.add(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),m&&!p?e.unsetGrabCursor():!m&&p&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(t=>{if(void 0===u[t])return;const n=r[t]&&r[t].enabled,s=u[t]&&u[t].enabled;n&&!s&&e[t].disable(),!n&&s&&e[t].enable()});const g=u.direction&&u.direction!==r.direction,y=r.loop&&(u.slidesPerView!==r.slidesPerView||g),x=r.loop;g&&n&&e.changeDirection(),_v(e.params,u);const v=e.params.enabled,b=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),f&&!v?e.disable():!f&&v&&e.enable(),e.currentBreakpoint=c,e.emit("_beforeBreakpoint",u),n&&(y?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!x&&b?(e.loopCreate(t),e.updateSlides()):x&&!b&&e.loopDestroy()),e.emit("breakpoint",u)},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),!e||"container"===t&&!n)return;let r=!1;const s=jv(),i="window"===t?s.innerHeight:n.clientHeight,a=Object.keys(e).map(e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:i*t,point:e}}return{value:e,point:e}});a.sort((e,t)=>parseInt(e.value,10)-parseInt(t.value,10));for(let o=0;o<a.length;o+=1){const{point:e,value:i}=a[o];"window"===t?s.matchMedia(`(min-width: ${i}px)`).matches&&(r=e):i<=n.clientWidth&&(r=e)}return r||"max"}},checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const t=e.slides.length-1,n=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*r;e.isLocked=e.size>n}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:n,rtl:r,el:s,device:i}=e,a=function(e,t){const n=[];return e.forEach(e=>{"object"==typeof e?Object.keys(e).forEach(r=>{e[r]&&n.push(t+r)}):"string"==typeof e&&n.push(t+e)}),n}(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...a),s.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&"string"!=typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}}},mb={};let pb=class e{constructor(){let t,n;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];1===s.length&&s[0].constructor&&"Object"===Object.prototype.toString.call(s[0]).slice(8,-1)?n=s[0]:[t,n]=s,n||(n={}),n=_v({},n),t&&!n.el&&(n.el=t);const a=wv();if(n.el&&"string"==typeof n.el&&a.querySelectorAll(n.el).length>1){const t=[];return a.querySelectorAll(n.el).forEach(r=>{const s=_v({},n,{el:r});t.push(new e(s))}),t}const o=this;o.__swiper__=!0,o.support=$v(),o.device=Hv({userAgent:n.userAgent}),o.browser=Wv(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],n.modules&&Array.isArray(n.modules)&&o.modules.push(...n.modules);const l={};o.modules.forEach(e=>{e({params:n,swiper:o,extendParams:db(n,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const c=_v({},ub,l);return o.params=_v({},c,mb,n),o.originalParams=_v({},o.params),o.passedParams=_v({},n),o.params&&o.params.on&&Object.keys(o.params.on).forEach(e=>{o.on(e,o.params.on[e])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===o.params.direction,isVertical:()=>"vertical"===o.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:n}=this,r=Rv(Av(t,`.${n.slideClass}, swiper-slide`)[0]);return Rv(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&("column"===this.params.grid.fill?e=Math.floor(e/this.params.grid.rows):"row"===this.params.grid.fill&&(e%=Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=Av(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const r=n.minTranslate(),s=(n.maxTranslate()-r)*e+r;n.translateTo(s,void 0===t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(n=>{const r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:n,slides:r,slidesGrid:s,slidesSizesGrid:i,size:a,activeIndex:o}=this;let l=1;if("number"==typeof n.slidesPerView)return n.slidesPerView;if(n.centeredSlides){let e,t=r[o]?Math.ceil(r[o].swiperSlideSize):0;for(let n=o+1;n<r.length;n+=1)r[n]&&!e&&(t+=Math.ceil(r[n].swiperSlideSize),l+=1,t>a&&(e=!0));for(let n=o-1;n>=0;n-=1)r[n]&&!e&&(t+=r[n].swiperSlideSize,l+=1,t>a&&(e=!0))}else if("current"===e)for(let c=o+1;c<r.length;c+=1){(t?s[c]+i[c]-s[o]<a:s[c]-s[o]<a)&&(l+=1)}else for(let c=o-1;c>=0;c-=1){s[o]-s[c]<a&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;function r(){const t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(t=>{t.complete&&Qv(e,t)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),n.freeMode&&n.freeMode.enabled&&!n.cssMode)r(),n.autoHeight&&e.updateAutoHeight();else{if(("auto"===n.slidesPerView||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const t=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(t.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.el.classList.remove(`${n.params.containerModifierClass}${r}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach(t=>{"vertical"===e?t.style.width="":t.style.height=""}),n.emit("changeDirection"),t&&n.update()),n}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let n=e||t.params.el;if("string"==typeof n&&(n=document.querySelector(n)),!n)return!1;n.swiper=t,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=(()=>{if(n&&n.shadowRoot&&n.shadowRoot.querySelector){return n.shadowRoot.querySelector(r())}return Av(n,r())[0]})();return!s&&t.params.createElements&&(s=Ov("div",t.params.wrapperClass),n.append(s),Av(n,`.${t.params.slideClass}`).forEach(e=>{s.append(e)})),Object.assign(t,{el:n,wrapperEl:s,slidesEl:t.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:s,hostEl:t.isElement?n.parentNode.host:n,mounted:!0,rtl:"rtl"===n.dir.toLowerCase()||"rtl"===Mv(n,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===Mv(n,"direction")),wrongRTL:"-webkit-box"===Mv(s,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const n=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&n.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),n.forEach(e=>{e.complete?Qv(t,e):e.addEventListener("load",e=>{Qv(t,e.target)})}),Xv(t),t.initialized=!0,Xv(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const n=this,{params:r,el:s,wrapperEl:i,slides:a}=n;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),s&&"string"!=typeof s&&s.removeAttribute("style"),i&&i.removeAttribute("style"),a&&a.length&&a.forEach(e=>{e.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(e=>{n.off(e)}),!1!==e&&(n.el&&"string"!=typeof n.el&&(n.el.swiper=null),function(e){const t=e;Object.keys(t).forEach(e=>{try{t[e]=null}catch(n){}try{delete t[e]}catch(n){}})}(n)),n.destroyed=!0),null}static extendDefaults(e){_v(mb,e)}static get extendedDefaults(){return mb}static get defaults(){return ub}static installModule(t){e.prototype.__modules__||(e.prototype.__modules__=[]);const n=e.prototype.__modules__;"function"==typeof t&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(t=>e.installModule(t)),e):(e.installModule(t),e)}};Object.keys(hb).forEach(e=>{Object.keys(hb[e]).forEach(t=>{pb.prototype[t]=hb[e][t]})}),pb.use([function(e){let{swiper:t,on:n,emit:r}=e;const s=jv();let i=null,a=null;const o=()=>{t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&r("orientationchange")};n("init",()=>{t.params.resizeObserver&&void 0!==s.ResizeObserver?t&&!t.destroyed&&t.initialized&&(i=new ResizeObserver(e=>{a=s.requestAnimationFrame(()=>{const{width:n,height:r}=t;let s=n,i=r;e.forEach(e=>{let{contentBoxSize:n,contentRect:r,target:a}=e;a&&a!==t.el||(s=r?r.width:(n[0]||n).inlineSize,i=r?r.height:(n[0]||n).blockSize)}),s===n&&i===r||o()})}),i.observe(t.el)):(s.addEventListener("resize",o),s.addEventListener("orientationchange",l))}),n("destroy",()=>{a&&s.cancelAnimationFrame(a),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null),s.removeEventListener("resize",o),s.removeEventListener("orientationchange",l)})},function(e){let{swiper:t,extendParams:n,on:r,emit:s}=e;const i=[],a=jv(),o=function(e,n){void 0===n&&(n={});const r=new(a.MutationObserver||a.WebkitMutationObserver)(e=>{if(t.__preventObserver__)return;if(1===e.length)return void s("observerUpdate",e[0]);const n=function(){s("observerUpdate",e[0])};a.requestAnimationFrame?a.requestAnimationFrame(n):a.setTimeout(n,0)});r.observe(e,{attributes:void 0===n.attributes||n.attributes,childList:t.isElement||(void 0===n.childList||n).childList,characterData:void 0===n.characterData||n.characterData}),i.push(r)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",()=>{if(t.params.observer){if(t.params.observeParents){const e=Dv(t.hostEl);for(let t=0;t<e.length;t+=1)o(e[t])}o(t.hostEl,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}}),r("destroy",()=>{i.forEach(e=>{e.disconnect()}),i.splice(0,i.length)})}]);const fb=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function gb(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)&&!e.__swiper__}function yb(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>n.indexOf(e)<0).forEach(n=>{void 0===e[n]?e[n]=t[n]:gb(t[n])&&gb(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:yb(e[n],t[n]):e[n]=t[n]})}function xb(e){return void 0===e&&(e={}),e.navigation&&void 0===e.navigation.nextEl&&void 0===e.navigation.prevEl}function vb(e){return void 0===e&&(e={}),e.pagination&&void 0===e.pagination.el}function bb(e){return void 0===e&&(e={}),e.scrollbar&&void 0===e.scrollbar.el}function wb(e){void 0===e&&(e="");const t=e.split(" ").map(e=>e.trim()).filter(e=>!!e),n=[];return t.forEach(e=>{n.indexOf(e)<0&&n.push(e)}),n.join(" ")}function Nb(e){return void 0===e&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jb.apply(this,arguments)}function Sb(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function kb(e){const t=[];return l.Children.toArray(e).forEach(e=>{Sb(e)?t.push(e):e.props&&e.props.children&&kb(e.props.children).forEach(e=>t.push(e))}),t}function Eb(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return l.Children.toArray(e).forEach(e=>{if(Sb(e))t.push(e);else if(e.props&&e.props.slot&&n[e.props.slot])n[e.props.slot].push(e);else if(e.props&&e.props.children){const r=kb(e.props.children);r.length>0?r.forEach(e=>t.push(e)):n["container-end"].push(e)}else n["container-end"].push(e)}),{slides:t,slots:n}}function Tb(e,t){return"undefined"==typeof window?r.useEffect(e,t):r.useLayoutEffect(e,t)}const Cb=r.createContext(null),_b=r.createContext(null),Ib=r.forwardRef(function(e,t){let{className:n,tag:s="div",wrapperTag:i="div",children:a,onSwiper:o,...c}=void 0===e?{}:e,u=!1;const[d,h]=r.useState("swiper"),[m,p]=r.useState(null),[f,g]=r.useState(!1),y=r.useRef(!1),x=r.useRef(null),v=r.useRef(null),b=r.useRef(null),w=r.useRef(null),N=r.useRef(null),j=r.useRef(null),S=r.useRef(null),k=r.useRef(null),{params:E,passedParams:T,rest:C,events:_}=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);const n={on:{}},r={},s={};yb(n,ub),n._emitClasses=!0,n.init=!1;const i={},a=fb.map(e=>e.replace(/_/,"")),o=Object.assign({},e);return Object.keys(o).forEach(o=>{void 0!==e[o]&&(a.indexOf(o)>=0?gb(e[o])?(n[o]={},s[o]={},yb(n[o],e[o]),yb(s[o],e[o])):(n[o]=e[o],s[o]=e[o]):0===o.search(/on[A-Z]/)&&"function"==typeof e[o]?t?r[`${o[2].toLowerCase()}${o.substr(3)}`]=e[o]:n.on[`${o[2].toLowerCase()}${o.substr(3)}`]=e[o]:i[o]=e[o])}),["navigation","pagination","scrollbar"].forEach(e=>{!0===n[e]&&(n[e]={}),!1===n[e]&&delete n[e]}),{params:n,passedParams:s,rest:i,events:r}}(c),{slides:I,slots:P}=Eb(a),A=()=>{g(!f)};Object.assign(E.on,{_containerClasses(e,t){h(t)}});const L=()=>{Object.assign(E.on,_),u=!0;const e={...E};if(delete e.wrapperClass,v.current=new pb(e),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=I;const e={cache:!1,slides:I,renderExternal:p,renderExternalUpdate:!1};yb(v.current.params.virtual,e),yb(v.current.originalParams.virtual,e)}};x.current||L(),v.current&&v.current.on("_beforeBreakpoint",A);return r.useEffect(()=>()=>{v.current&&v.current.off("_beforeBreakpoint",A)}),r.useEffect(()=>{!y.current&&v.current&&(v.current.emitSlidesClasses(),y.current=!0)}),Tb(()=>{if(t&&(t.current=x.current),x.current)return v.current.destroyed&&L(),function(e,t){let{el:n,nextEl:r,prevEl:s,paginationEl:i,scrollbarEl:a,swiper:o}=e;xb(t)&&r&&s&&(o.params.navigation.nextEl=r,o.originalParams.navigation.nextEl=r,o.params.navigation.prevEl=s,o.originalParams.navigation.prevEl=s),vb(t)&&i&&(o.params.pagination.el=i,o.originalParams.pagination.el=i),bb(t)&&a&&(o.params.scrollbar.el=a,o.originalParams.scrollbar.el=a),o.init(n)}({el:x.current,nextEl:N.current,prevEl:j.current,paginationEl:S.current,scrollbarEl:k.current,swiper:v.current},E),o&&!v.current.destroyed&&o(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}},[]),Tb(()=>{!u&&_&&v.current&&Object.keys(_).forEach(e=>{v.current.on(e,_[e])});const e=function(e,t,n,r,s){const i=[];if(!t)return i;const a=e=>{i.indexOf(e)<0&&i.push(e)};if(n&&r){const e=r.map(s),t=n.map(s);e.join("")!==t.join("")&&a("children"),r.length!==n.length&&a("children")}return fb.filter(e=>"_"===e[0]).map(e=>e.replace(/_/,"")).forEach(n=>{if(n in e&&n in t)if(gb(e[n])&&gb(t[n])){const r=Object.keys(e[n]),s=Object.keys(t[n]);r.length!==s.length?a(n):(r.forEach(r=>{e[n][r]!==t[n][r]&&a(n)}),s.forEach(r=>{e[n][r]!==t[n][r]&&a(n)}))}else e[n]!==t[n]&&a(n)}),i}(T,b.current,I,w.current,e=>e.key);return b.current=T,w.current=I,e.length&&v.current&&!v.current.destroyed&&function(e){let{swiper:t,slides:n,passedParams:r,changedParams:s,nextEl:i,prevEl:a,scrollbarEl:o,paginationEl:l}=e;const c=s.filter(e=>"children"!==e&&"direction"!==e&&"wrapperClass"!==e),{params:u,pagination:d,navigation:h,scrollbar:m,virtual:p,thumbs:f}=t;let g,y,x,v,b,w,N,j;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(g=!0),s.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(y=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(u.pagination||!1===u.pagination)&&d&&!d.el&&(x=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||o)&&(u.scrollbar||!1===u.scrollbar)&&m&&!m.el&&(v=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||i)&&(u.navigation||!1===u.navigation)&&h&&!h.prevEl&&!h.nextEl&&(b=!0);const S=e=>{t[e]&&(t[e].destroy(),"navigation"===e?(t.isElement&&(t[e].prevEl.remove(),t[e].nextEl.remove()),u[e].prevEl=void 0,u[e].nextEl=void 0,t[e].prevEl=void 0,t[e].nextEl=void 0):(t.isElement&&t[e].el.remove(),u[e].el=void 0,t[e].el=void 0))};s.includes("loop")&&t.isElement&&(u.loop&&!r.loop?w=!0:!u.loop&&r.loop?N=!0:j=!0),c.forEach(e=>{if(gb(u[e])&&gb(r[e]))Object.assign(u[e],r[e]),"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e||!("enabled"in r[e])||r[e].enabled||S(e);else{const t=r[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?u[e]=r[e]:!1===t&&S(e)}}),c.includes("controller")&&!y&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),s.includes("children")&&n&&p&&u.virtual.enabled?(p.slides=n,p.update(!0)):s.includes("virtual")&&p&&u.virtual.enabled&&(n&&(p.slides=n),p.update(!0)),s.includes("children")&&n&&u.loop&&(j=!0),g&&f.init()&&f.update(!0);y&&(t.controller.control=u.controller.control),x&&(!t.isElement||l&&"string"!=typeof l||(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),v&&(!t.isElement||o&&"string"!=typeof o||(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),t.el.appendChild(o)),o&&(u.scrollbar.el=o),m.init(),m.updateSize(),m.setTranslate()),b&&(t.isElement&&(i&&"string"!=typeof i||(i=document.createElement("div"),i.classList.add("swiper-button-next"),Uv(i,t.hostEl.constructor.nextButtonSvg),i.part.add("button-next"),t.el.appendChild(i)),a&&"string"!=typeof a||(a=document.createElement("div"),a.classList.add("swiper-button-prev"),Uv(a,t.hostEl.constructor.prevButtonSvg),a.part.add("button-prev"),t.el.appendChild(a))),i&&(u.navigation.nextEl=i),a&&(u.navigation.prevEl=a),h.init(),h.update()),s.includes("allowSlideNext")&&(t.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(t.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&t.changeDirection(r.direction,!1),(w||j)&&t.loopDestroy(),(N||j)&&t.loopCreate(),t.update()}({swiper:v.current,slides:I,passedParams:T,changedParams:e,nextEl:N.current,prevEl:j.current,scrollbarEl:k.current,paginationEl:S.current}),()=>{_&&v.current&&Object.keys(_).forEach(e=>{v.current.off(e,_[e])})}}),Tb(()=>{var e;!(e=v.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},[m]),l.createElement(s,jb({ref:x,className:wb(`${d}${n?` ${n}`:""}`)},C),l.createElement(_b.Provider,{value:v.current},P["container-start"],l.createElement(i,{className:Nb(E.wrapperClass)},P["wrapper-start"],E.virtual?function(e,t,n){if(!n)return null;const r=e=>{let n=e;return e<0?n=t.length+e:n>=t.length&&(n-=t.length),n},s=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:a}=n,o=e.params.loop?-t.length:0,c=e.params.loop?2*t.length:t.length,u=[];for(let l=o;l<c;l+=1)l>=i&&l<=a&&u.push(t[r(l)]);return u.map((t,n)=>l.cloneElement(t,{swiper:e,style:s,key:t.props.virtualIndex||t.key||`slide-${n}`}))}(v.current,I,m):I.map((e,t)=>l.cloneElement(e,{swiper:v.current,swiperSlideIndex:t})),P["wrapper-end"]),xb(E)&&l.createElement(l.Fragment,null,l.createElement("div",{ref:j,className:"swiper-button-prev"}),l.createElement("div",{ref:N,className:"swiper-button-next"})),bb(E)&&l.createElement("div",{ref:k,className:"swiper-scrollbar"}),vb(E)&&l.createElement("div",{ref:S,className:"swiper-pagination"}),P["container-end"]))});Ib.displayName="Swiper";const Pb=r.forwardRef(function(e,t){let{tag:n="div",children:s,className:i="",swiper:a,zoom:o,lazy:c,virtualIndex:u,swiperSlideIndex:d,...h}=void 0===e?{}:e;const m=r.useRef(null),[p,f]=r.useState("swiper-slide"),[g,y]=r.useState(!1);function x(e,t,n){t===m.current&&f(n)}Tb(()=>{if(void 0!==d&&(m.current.swiperSlideIndex=d),t&&(t.current=m.current),m.current&&a){if(!a.destroyed)return a.on("_slideClass",x),()=>{a&&a.off("_slideClass",x)};"swiper-slide"!==p&&f("swiper-slide")}}),Tb(()=>{a&&m.current&&!a.destroyed&&f(a.getSlideClasses(m.current))},[a]);const v={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},b=()=>"function"==typeof s?s(v):s;return l.createElement(n,jb({ref:m,className:wb(`${p}${i?` ${i}`:""}`),"data-swiper-slide-index":u,onLoad:()=>{y(!0)}},h),o&&l.createElement(Cb.Provider,{value:v},l.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"==typeof o?o:void 0},b(),c&&!g&&l.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&l.createElement(Cb.Provider,{value:v},b(),c&&!g&&l.createElement("div",{className:"swiper-lazy-preloader"})))});function Ab(e,t,n,r){return e.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&!0===n.auto){let i=Av(e.el,`.${r[s]}`)[0];i||(i=Ov("div",r[s]),i.className=r[s],e.el.append(i)),n[s]=i,t[s]=i}}),n}function Lb(e){let{swiper:t,extendParams:n,on:r,emit:s}=e;function i(e){let n;return e&&"string"==typeof e&&t.isElement&&(n=t.el.querySelector(e)||t.hostEl.querySelector(e),n)?n:(e&&("string"==typeof e&&(n=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"==typeof e&&n&&n.length>1&&1===t.el.querySelectorAll(e).length?n=t.el.querySelector(e):n&&1===n.length&&(n=n[0])),e&&!n?e:n)}function a(e,n){const r=t.params.navigation;(e=zv(e)).forEach(e=>{e&&(e.classList[n?"add":"remove"](...r.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=n),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](r.lockClass))})}function o(){const{nextEl:e,prevEl:n}=t.navigation;if(t.params.loop)return a(n,!1),void a(e,!1);a(n,t.isBeginning&&!t.params.rewind),a(e,t.isEnd&&!t.params.rewind)}function l(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),s("navigationPrev"))}function c(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),s("navigationNext"))}function u(){const e=t.params.navigation;if(t.params.navigation=Ab(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let n=i(e.nextEl),r=i(e.prevEl);Object.assign(t.navigation,{nextEl:n,prevEl:r}),n=zv(n),r=zv(r);const s=(n,r)=>{n&&n.addEventListener("click","next"===r?c:l),!t.enabled&&n&&n.classList.add(...e.lockClass.split(" "))};n.forEach(e=>s(e,"next")),r.forEach(e=>s(e,"prev"))}function d(){let{nextEl:e,prevEl:n}=t.navigation;e=zv(e),n=zv(n);const r=(e,n)=>{e.removeEventListener("click","next"===n?c:l),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach(e=>r(e,"next")),n.forEach(e=>r(e,"prev"))}n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null},r("init",()=>{!1===t.params.navigation.enabled?h():(u(),o())}),r("toEdge fromEdge lock unlock",()=>{o()}),r("destroy",()=>{d()}),r("enable disable",()=>{let{nextEl:e,prevEl:n}=t.navigation;e=zv(e),n=zv(n),t.enabled?o():[...e,...n].filter(e=>!!e).forEach(e=>e.classList.add(t.params.navigation.lockClass))}),r("click",(e,n)=>{let{nextEl:r,prevEl:i}=t.navigation;r=zv(r),i=zv(i);const a=n.target;let o=i.includes(a)||r.includes(a);if(t.isElement&&!o){const e=n.path||n.composedPath&&n.composedPath();e&&(o=e.find(e=>r.includes(e)||i.includes(e)))}if(t.params.navigation.hideOnClick&&!o){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===a||t.pagination.el.contains(a)))return;let e;r.length?e=r[0].classList.contains(t.params.navigation.hiddenClass):i.length&&(e=i[0].classList.contains(t.params.navigation.hiddenClass)),s(!0===e?"navigationShow":"navigationHide"),[...r,...i].filter(e=>!!e).forEach(e=>e.classList.toggle(t.params.navigation.hiddenClass))}});const h=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),u(),o()},disable:h,update:o,init:u,destroy:d})}function Ob(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function Mb(e){let{swiper:t,extendParams:n,on:r,emit:s}=e;const i="swiper-pagination";let a;n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),t.pagination={el:null,bullets:[]};let o=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function c(e,n){const{bulletActiveClass:r}=t.params.pagination;e&&(e=e[("prev"===n?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${r}-${n}`),(e=e[("prev"===n?"previous":"next")+"ElementSibling"])&&e.classList.add(`${r}-${n}-${n}`))}function u(e){const n=e.target.closest(Ob(t.params.pagination.bulletClass));if(!n)return;e.preventDefault();const r=Rv(n)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===r)return;const e=(s=t.realIndex,i=r,a=t.slides.length,(i%=a)===1+(s%=a)?"next":i===s-1?"previous":void 0);"next"===e?t.slideNext():"previous"===e?t.slidePrev():t.slideToLoop(r)}else t.slideTo(r);var s,i,a}function d(){const e=t.rtl,n=t.params.pagination;if(l())return;let r,i,u=t.pagination.el;u=zv(u);const d=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,h=t.params.loop?Math.ceil(d/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(i=t.previousRealIndex||0,r=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(r=t.snapIndex,i=t.previousSnapIndex):(i=t.previousIndex||0,r=t.activeIndex||0),"bullets"===n.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const s=t.pagination.bullets;let l,d,h;if(n.dynamicBullets&&(a=Fv(s[0],t.isHorizontal()?"width":"height"),u.forEach(e=>{e.style[t.isHorizontal()?"width":"height"]=a*(n.dynamicMainBullets+4)+"px"}),n.dynamicMainBullets>1&&void 0!==i&&(o+=r-(i||0),o>n.dynamicMainBullets-1?o=n.dynamicMainBullets-1:o<0&&(o=0)),l=Math.max(r-o,0),d=l+(Math.min(s.length,n.dynamicMainBullets)-1),h=(d+l)/2),s.forEach(e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(e=>`${n.bulletActiveClass}${e}`)].map(e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e).flat();e.classList.remove(...t)}),u.length>1)s.forEach(e=>{const s=Rv(e);s===r?e.classList.add(...n.bulletActiveClass.split(" ")):t.isElement&&e.setAttribute("part","bullet"),n.dynamicBullets&&(s>=l&&s<=d&&e.classList.add(...`${n.bulletActiveClass}-main`.split(" ")),s===l&&c(e,"prev"),s===d&&c(e,"next"))});else{const e=s[r];if(e&&e.classList.add(...n.bulletActiveClass.split(" ")),t.isElement&&s.forEach((e,t)=>{e.setAttribute("part",t===r?"bullet-active":"bullet")}),n.dynamicBullets){const e=s[l],t=s[d];for(let r=l;r<=d;r+=1)s[r]&&s[r].classList.add(...`${n.bulletActiveClass}-main`.split(" "));c(e,"prev"),c(t,"next")}}if(n.dynamicBullets){const r=Math.min(s.length,n.dynamicMainBullets+4),i=(a*r-a)/2-h*a,o=e?"right":"left";s.forEach(e=>{e.style[t.isHorizontal()?o:"top"]=`${i}px`})}}u.forEach((e,i)=>{if("fraction"===n.type&&(e.querySelectorAll(Ob(n.currentClass)).forEach(e=>{e.textContent=n.formatFractionCurrent(r+1)}),e.querySelectorAll(Ob(n.totalClass)).forEach(e=>{e.textContent=n.formatFractionTotal(h)})),"progressbar"===n.type){let s;s=n.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const i=(r+1)/h;let a=1,o=1;"horizontal"===s?a=i:o=i,e.querySelectorAll(Ob(n.progressbarFillClass)).forEach(e=>{e.style.transform=`translate3d(0,0,0) scaleX(${a}) scaleY(${o})`,e.style.transitionDuration=`${t.params.speed}ms`})}"custom"===n.type&&n.renderCustom?(Uv(e,n.renderCustom(t,r+1,h)),0===i&&s("paginationRender",e)):(0===i&&s("paginationRender",e),s("paginationUpdate",e)),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](n.lockClass)})}function h(){const e=t.params.pagination;if(l())return;const n=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let r=t.pagination.el;r=zv(r);let i="";if("bullets"===e.type){let r=t.params.loop?Math.ceil(n/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&r>n&&(r=n);for(let n=0;n<r;n+=1)e.renderBullet?i+=e.renderBullet.call(t,n,e.bulletClass):i+=`<${e.bulletElement} ${t.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}"fraction"===e.type&&(i=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),"progressbar"===e.type&&(i=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`),t.pagination.bullets=[],r.forEach(n=>{"custom"!==e.type&&Uv(n,i||""),"bullets"===e.type&&t.pagination.bullets.push(...n.querySelectorAll(Ob(e.bulletClass)))}),"custom"!==e.type&&s("paginationRender",r[0])}function m(){t.params.pagination=Ab(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let n;"string"==typeof e.el&&t.isElement&&(n=t.el.querySelector(e.el)),n||"string"!=typeof e.el||(n=[...document.querySelectorAll(e.el)]),n||(n=e.el),n&&0!==n.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(n)&&n.length>1&&(n=[...t.el.querySelectorAll(e.el)],n.length>1&&(n=n.find(e=>Dv(e,".swiper")[0]===t.el))),Array.isArray(n)&&1===n.length&&(n=n[0]),Object.assign(t.pagination,{el:n}),n=zv(n),n.forEach(n=>{"bullets"===e.type&&e.clickable&&n.classList.add(...(e.clickableClass||"").split(" ")),n.classList.add(e.modifierClass+e.type),n.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(n.classList.add(`${e.modifierClass}${e.type}-dynamic`),o=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&n.classList.add(e.progressbarOppositeClass),e.clickable&&n.addEventListener("click",u),t.enabled||n.classList.add(e.lockClass)}))}function p(){const e=t.params.pagination;if(l())return;let n=t.pagination.el;n&&(n=zv(n),n.forEach(n=>{n.classList.remove(e.hiddenClass),n.classList.remove(e.modifierClass+e.type),n.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(n.classList.remove(...(e.clickableClass||"").split(" ")),n.removeEventListener("click",u))})),t.pagination.bullets&&t.pagination.bullets.forEach(t=>t.classList.remove(...e.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const e=t.params.pagination;let{el:n}=t.pagination;n=zv(n),n.forEach(n=>{n.classList.remove(e.horizontalClass,e.verticalClass),n.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)})}),r("init",()=>{!1===t.params.pagination.enabled?f():(m(),h(),d())}),r("activeIndexChange",()=>{void 0===t.snapIndex&&d()}),r("snapIndexChange",()=>{d()}),r("snapGridLengthChange",()=>{h(),d()}),r("destroy",()=>{p()}),r("enable disable",()=>{let{el:e}=t.pagination;e&&(e=zv(e),e.forEach(e=>e.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),r("lock unlock",()=>{d()}),r("click",(e,n)=>{const r=n.target,i=zv(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&i&&i.length>0&&!r.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&r===t.navigation.nextEl||t.navigation.prevEl&&r===t.navigation.prevEl))return;const e=i[0].classList.contains(t.params.pagination.hiddenClass);s(!0===e?"paginationShow":"paginationHide"),i.forEach(e=>e.classList.toggle(t.params.pagination.hiddenClass))}});const f=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=zv(e),e.forEach(e=>e.classList.add(t.params.pagination.paginationDisabledClass))),p()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=zv(e),e.forEach(e=>e.classList.remove(t.params.pagination.paginationDisabledClass))),m(),h(),d()},disable:f,render:h,update:d,init:m,destroy:p})}function Rb(e){let t,n,{swiper:r,extendParams:s,on:i,emit:a,params:o}=e;r.autoplay={running:!1,paused:!1,timeLeft:0},s({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,c,u,d,h,m,p,f,g=o&&o.autoplay?o.autoplay.delay:3e3,y=o&&o.autoplay?o.autoplay.delay:3e3,x=(new Date).getTime();function v(e){r&&!r.destroyed&&r.wrapperEl&&e.target===r.wrapperEl&&(r.wrapperEl.removeEventListener("transitionend",v),f||e.detail&&e.detail.bySwiperTouchMove||k())}const b=()=>{if(r.destroyed||!r.autoplay.running)return;r.autoplay.paused?c=!0:c&&(y=l,c=!1);const e=r.autoplay.paused?l:x+y-(new Date).getTime();r.autoplay.timeLeft=e,a("autoplayTimeLeft",e,e/g),n=requestAnimationFrame(()=>{b()})},w=e=>{if(r.destroyed||!r.autoplay.running)return;cancelAnimationFrame(n),b();let s=void 0===e?r.params.autoplay.delay:e;g=r.params.autoplay.delay,y=r.params.autoplay.delay;const i=(()=>{let e;if(e=r.virtual&&r.params.virtual.enabled?r.slides.find(e=>e.classList.contains("swiper-slide-active")):r.slides[r.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(i)&&i>0&&void 0===e&&(s=i,g=i,y=i),l=s;const o=r.params.speed,c=()=>{r&&!r.destroyed&&(r.params.autoplay.reverseDirection?!r.isBeginning||r.params.loop||r.params.rewind?(r.slidePrev(o,!0,!0),a("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(r.slides.length-1,o,!0,!0),a("autoplay")):!r.isEnd||r.params.loop||r.params.rewind?(r.slideNext(o,!0,!0),a("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(0,o,!0,!0),a("autoplay")),r.params.cssMode&&(x=(new Date).getTime(),requestAnimationFrame(()=>{w()})))};return s>0?(clearTimeout(t),t=setTimeout(()=>{c()},s)):requestAnimationFrame(()=>{c()}),s},N=()=>{x=(new Date).getTime(),r.autoplay.running=!0,w(),a("autoplayStart")},j=()=>{r.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(n),a("autoplayStop")},S=(e,n)=>{if(r.destroyed||!r.autoplay.running)return;clearTimeout(t),e||(p=!0);const s=()=>{a("autoplayPause"),r.params.autoplay.waitForTransition?r.wrapperEl.addEventListener("transitionend",v):k()};if(r.autoplay.paused=!0,n)return m&&(l=r.params.autoplay.delay),m=!1,void s();const i=l||r.params.autoplay.delay;l=i-((new Date).getTime()-x),r.isEnd&&l<0&&!r.params.loop||(l<0&&(l=0),s())},k=()=>{r.isEnd&&l<0&&!r.params.loop||r.destroyed||!r.autoplay.running||(x=(new Date).getTime(),p?(p=!1,w(l)):w(),r.autoplay.paused=!1,a("autoplayResume"))},E=()=>{if(r.destroyed||!r.autoplay.running)return;const e=wv();"hidden"===e.visibilityState&&(p=!0,S(!0)),"visible"===e.visibilityState&&k()},T=e=>{"mouse"===e.pointerType&&(p=!0,f=!0,r.animating||r.autoplay.paused||S(!0))},C=e=>{"mouse"===e.pointerType&&(f=!1,r.autoplay.paused&&k())};i("init",()=>{r.params.autoplay.enabled&&(r.params.autoplay.pauseOnMouseEnter&&(r.el.addEventListener("pointerenter",T),r.el.addEventListener("pointerleave",C)),wv().addEventListener("visibilitychange",E),N())}),i("destroy",()=>{r.el&&"string"!=typeof r.el&&(r.el.removeEventListener("pointerenter",T),r.el.removeEventListener("pointerleave",C)),wv().removeEventListener("visibilitychange",E),r.autoplay.running&&j()}),i("_freeModeStaticRelease",()=>{(d||p)&&k()}),i("_freeModeNoMomentumRelease",()=>{r.params.autoplay.disableOnInteraction?j():S(!0,!0)}),i("beforeTransitionStart",(e,t,n)=>{!r.destroyed&&r.autoplay.running&&(n||!r.params.autoplay.disableOnInteraction?S(!0,!0):j())}),i("sliderFirstMove",()=>{!r.destroyed&&r.autoplay.running&&(r.params.autoplay.disableOnInteraction?j():(u=!0,d=!1,p=!1,h=setTimeout(()=>{p=!0,d=!0,S(!0)},200)))}),i("touchEnd",()=>{if(!r.destroyed&&r.autoplay.running&&u){if(clearTimeout(h),clearTimeout(t),r.params.autoplay.disableOnInteraction)return d=!1,void(u=!1);d&&r.params.cssMode&&k(),d=!1,u=!1}}),i("slideChange",()=>{!r.destroyed&&r.autoplay.running&&(m=!0)}),Object.assign(r.autoplay,{start:N,stop:j,pause:S,resume:k})}function Db(e){let t,n,r,s,{swiper:i,extendParams:a,on:o}=e;a({grid:{rows:1,fill:"column"}});const l=()=>{let e=i.params.spaceBetween;return"string"==typeof e&&e.indexOf("%")>=0?e=parseFloat(e.replace("%",""))/100*i.size:"string"==typeof e&&(e=parseFloat(e)),e};o("init",()=>{s=i.params.grid&&i.params.grid.rows>1}),o("update",()=>{const{params:e,el:t}=i,n=e.grid&&e.grid.rows>1;s&&!n?(t.classList.remove(`${e.containerModifierClass}grid`,`${e.containerModifierClass}grid-column`),r=1,i.emitContainerClasses()):!s&&n&&(t.classList.add(`${e.containerModifierClass}grid`),"column"===e.grid.fill&&t.classList.add(`${e.containerModifierClass}grid-column`),i.emitContainerClasses()),s=n}),i.grid={initSlides:e=>{const{slidesPerView:s}=i.params,{rows:a,fill:o}=i.params.grid,l=i.virtual&&i.params.virtual.enabled?i.virtual.slides.length:e.length;r=Math.floor(l/a),t=Math.floor(l/a)===l/a?l:Math.ceil(l/a)*a,"auto"!==s&&"row"===o&&(t=Math.max(t,s*a)),n=t/a},unsetSlides:()=>{i.slides&&i.slides.forEach(e=>{e.swiperSlideGridSet&&(e.style.height="",e.style[i.getDirectionLabel("margin-top")]="")})},updateSlide:(e,s,a)=>{const{slidesPerGroup:o}=i.params,c=l(),{rows:u,fill:d}=i.params.grid,h=i.virtual&&i.params.virtual.enabled?i.virtual.slides.length:a.length;let m,p,f;if("row"===d&&o>1){const n=Math.floor(e/(o*u)),r=e-u*o*n,i=0===n?o:Math.min(Math.ceil((h-n*u*o)/u),o);f=Math.floor(r/i),p=r-f*i+n*o,m=p+f*t/u,s.style.order=m}else"column"===d?(p=Math.floor(e/u),f=e-p*u,(p>r||p===r&&f===u-1)&&(f+=1,f>=u&&(f=0,p+=1))):(f=Math.floor(e/n),p=e-f*n);s.row=f,s.column=p,s.style.height=`calc((100% - ${(u-1)*c}px) / ${u})`,s.style[i.getDirectionLabel("margin-top")]=0!==f?c&&`${c}px`:"",s.swiperSlideGridSet=!0},updateWrapperSize:(e,n)=>{const{centeredSlides:r,roundLengths:s}=i.params,a=l(),{rows:o}=i.params.grid;if(i.virtualSize=(e+a)*t,i.virtualSize=Math.ceil(i.virtualSize/o)-a,i.params.cssMode||(i.wrapperEl.style[i.getDirectionLabel("width")]=`${i.virtualSize+a}px`),r){const e=[];for(let t=0;t<n.length;t+=1){let r=n[t];s&&(r=Math.floor(r)),n[t]<i.virtualSize+n[0]&&e.push(r)}n.splice(0,n.length),n.push(...e)}}}}Pb.displayName="SwiperSlide";const Fb=()=>{const[e,t]=r.useState([]),[n,s]=r.useState(!0),[a,o]=r.useState(null),[l,c]=r.useState(0),[u,d]=r.useState({}),h=r.useRef(null),m=cf.currentUser,{programs:p,loading:f}=yv("mind"),{programs:g,loading:y}=yv("body"),{programs:x,loading:v}=yv("soul");r.useEffect(()=>{(async()=>{if(m)try{const e=$h(uf,"users",m.uid,"favorites","programs"),t=await Um(e);t.exists()&&d(t.data())}catch(e){console.error("Error loading favorites:",e)}})()},[m]),r.useEffect(()=>{if(!f&&!y&&!v)try{const e=[...p||[],...g||[],...x||[]].map(e=>({...e,isFavorite:!!u[e._id]}));t(e),o(null)}catch(e){console.error("Error combining programs:",e),o(e)}finally{s(!1)}},[f,y,v,p,g,x,u]);return n?k.jsxs("div",{className:"py-12 text-center",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-main mx-auto"}),k.jsx("p",{className:"mt-4 text-text",children:"Loading programs..."})]}):a?k.jsx("div",{className:"py-12 text-center",children:k.jsx("p",{className:"text-red-500",children:"Error loading programs. Please try again later."})}):0===e.length?k.jsx("div",{className:"py-8 text-center",children:k.jsx("p",{children:"No programs available at the moment."})}):k.jsx("div",{className:"py-12 px-4",children:k.jsxs("div",{className:"max-w-7xl mx-auto",children:[k.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-4",children:"Featured Sessions"}),k.jsx("p",{className:"text-center text-white/70 mb-12 max-w-3xl mx-auto",children:"Explore our carefully curated programs designed to nurture your mind, body, and soul"}),k.jsxs("div",{className:"relative",children:[k.jsx(Ib,{ref:h,modules:[Lb,Mb,Rb,Db],spaceBetween:30,slidesPerView:1,grid:{rows:2,fill:"row"},breakpoints:{640:{slidesPerView:1,grid:{rows:2,fill:"row"}},768:{slidesPerView:2,grid:{rows:2,fill:"row"}},1024:{slidesPerView:3,grid:{rows:2,fill:"row"}}},autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{clickable:!0,el:".programs-pagination",bulletClass:"w-2 h-2 bg-gray-300 rounded-full inline-block mx-1 cursor-pointer",bulletActiveClass:"bg-white w-6"},onSlideChange:e=>c(e.realIndex),className:"pb-12",children:e.map(n=>k.jsx(Pb,{className:"h-full",children:k.jsx(i,{to:`/programs/${n.slug}`,className:"block h-full",children:k.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1 h-full min-h-[420px] mx-2 group",children:[k.jsx("button",{onClick:r=>(async(n,r)=>{if(r.preventDefault(),r.stopPropagation(),m)try{if($h(uf,"users",m.uid,"favorites","programs"),u[n])await $m($h(uf,"users",m.uid,"favorites",n)),d(e=>{const t={...e};return delete t[n],t});else{const t=e.find(e=>e._id===n);t&&(await qm($h(uf,"users",m.uid,"favorites",n),{...t,addedAt:(new Date).toISOString()}),d(e=>({...e,[n]:!0})))}t(e=>e.map(e=>e._id===n?{...e,isFavorite:!e.isFavorite}:e))}catch(s){console.error("Error updating favorites:",s)}else alert("Please log in to save favorites")})(n._id,r),className:"absolute top-4 right-4 z-10 inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/90 shadow hover:bg-white focus:outline-none focus:ring-2 focus:ring-accent","aria-label":n.isFavorite?"Remove from favourites":"Add to favourites",children:n.isFavorite?k.jsx(pg,{size:18}):k.jsx(bg,{size:18})}),n.imageUrl&&k.jsx("div",{className:"relative",children:k.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-48 object-cover",loading:"lazy"})}),n.strip&&k.jsx("div",{className:"bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 text-white px-3 py-2 text-sm font-semibold",children:n.strip}),k.jsxs("div",{className:"p-6",children:[n.category&&k.jsx("div",{className:"mb-3",children:k.jsx("span",{className:"inline-block px-3 py-1 text-xs font-semibold uppercase tracking-wide rounded-full bg-purple-100 text-purple-800",children:n.category})}),k.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3",children:n.title}),k.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:n.description}),k.jsxs("div",{className:"flex justify-between items-center mt-4",children:[(()=>{const e="number"==typeof n?.price&&!Number.isNaN(n.price),t="number"==typeof n?.discountPrice&&!Number.isNaN(n.discountPrice),r=e&&t&&n.discountPrice<n.price,s=r?n.discountPrice:n.price;return e&&0!==n.price?k.jsxs("span",{className:"text-lg font-semibold text-purple-600",children:["",s.toLocaleString("en-IN"),r?k.jsxs("span",{className:"ml-2 text-sm text-gray-500 line-through font-semibold",children:["",n.price.toLocaleString("en-IN")]}):null]}):k.jsx("span",{className:"text-lg font-semibold text-purple-700",children:"Free"})})(),k.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold shadow hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2 transition",children:"View Details"})]})]})]})})},n._id))}),k.jsx("div",{className:"flex justify-center mt-8",children:k.jsx("div",{className:"programs-pagination flex space-x-2",children:Array.from({length:Math.ceil(e.length/6)}).map((e,t)=>k.jsx("span",{className:"w-2 h-2 rounded-full transition-all duration-300 cursor-pointer "+(t===Math.floor(l/6)?"bg-white w-6":"bg-gray-300"),onClick:()=>h.current?.swiper.slideTo(6*t)},t))})})]}),k.jsx("div",{className:"mt-12 text-center",children:k.jsxs(i,{to:"/sessions",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 transition-colors duration-200",children:["View All Sessions",k.jsx("svg",{className:"ml-2 -mr-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:k.jsx("path",{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})};const zb={en:{store:{title:"Svasam Store",description:"Discover our collection of spiritual and wellness products to support your journey",noItems:"No items available in the store at the moment. Please check back later.",viewDetails:"View Details",tryAgain:"Try Again",errorLoading:"Error Loading Store Items"},footer:{brand:"Svasam"},reviews:{title:"Community Reviews"},programs:{title:"Test Programs by Category"},about:{title:"About Svasam",ourStory:"Our Story",services:"Our Services",mindWellness:"Mind Wellness",bodyWellness:"Body Wellness",soulWellness:"Soul Wellness",storeResources:"Store & Resources",ourPhilosophy:"Our Philosophy",holisticApproach:"Holistic Approach",personalizedSolutions:"Personalized Solutions",ancientWisdom:"Ancient Wisdom",communitySupport:"Community Support",joinJourney:"Join Our Wellness Journey",contactUs:"Contact Us",scheduleSession:"Schedule a Session"},events:{bookNow:"Book Now"},terms:{title:"Terms and Conditions",welcome:"Welcome to Svasam Wellness",introText:"These Terms and Conditions outline the rules and regulations for the use of Svasam Wellness's Website and Services.",acceptanceOfTerms:"1. Acceptance of Terms",accessToWebsite:"Access to Website",changesToTerms:"Changes to Terms",userObligations:"2. User Obligations",accountSecurity:"Account Security",prohibitedActivities:"Prohibited Activities",services:"3. Services",wellnessServices:"Wellness Services",storeProducts:"Store Products",intellectualProperty:"4. Intellectual Property",contentOwnership:"Content Ownership",trademarks:"Trademarks",limitationOfLiability:"5. Limitation of Liability",disclaimerOfWarranties:"Disclaimer of Warranties",limitationOfDamages:"Limitation of Damages",contactUs:"Contact Us",supportHours:"Customer Support Hours: Mon-Sat, 10 AM - 7 PM",phone:"Phone: +91 70195 57979",email:"Email: connect@svasam.com",contactMessage:"For any questions regarding these Terms and Conditions, please contact us:"},cancellation:{title:"Cancellation and Refund Policy",welcome:"Welcome to Svasam Wellness",introText:"At Svasam Wellness, we understand that circumstances can change. This policy outlines our procedures for cancellations and refunds to ensure a fair and transparent experience for all our clients.",appointmentCancellations:"Appointment Cancellations",cancellationPolicy:"Cancellation Policy",emergencyCancellations:"Emergency Cancellations",refundPolicy:"Refund Policy",storeProducts:"Store Products",wellnessSessions:"Wellness Sessions",specialCases:"Special Cases",forceMajeure:"Force Majeure",disputes:"Disputes",contactUs:"Contact Us",contactMessage:"For any questions regarding our cancellation and refund policy, please contact our customer support team:",email:"Email: connect@svasam.com",phone:"Phone: +91 70195 57979",supportHours:"Customer Support Hours: Mon-Sat, 10 AM - 7 PM"},privacy:{title:"Privacy Policy",welcome:"Welcome to Svasam Wellness",infoCollect:"1. Information We Collect",personalInfo:"Personal Information",usageInfo:"Usage Information",howWeUse:"2. How We Use Your Information",primaryUses:"Primary Uses",marketing:"Marketing",dataProtection:"3. Data Protection",contactUs:"Contact Us"},contact:{title:"Contact Us",getInTouch:"Get in Touch",fullName:"Full Name",emailAddress:"Email Address",phoneNumber:"Phone Number",subject:"Subject",message:"Message",sendMessage:"Send Message",contactInfo:"Contact Information",faq:"Frequently Asked Questions",fullNamePlaceholder:"Enter your full name",emailPlaceholder:"Enter your email",phonePlaceholder:"Enter your phone number",messagePlaceholder:"How can we assist you?",generalInquiry:"General Inquiry",wellnessPrograms:"Wellness Programs",storeProducts:"Store & Products",scheduleAppointment:"Schedule Appointment",other:"Other",officeLocation:"Office Location",contactDetails:"Contact Details",businessHours:"Business Hours",faqQuestion1:"How do I schedule a wellness session?",faqQuestion2:"What payment methods do you accept?",faqQuestion3:"Can I cancel my appointment?"},blog:{title:"Svasam Journal",description:"Discover insightful articles on mind, body, and soul wellness from our experts.",stayUpdated:"Stay Updated",subscribeText:"Get our latest wellness articles straight to your inbox.",emailPlaceholder:"Your email address",subscribe:"Subscribe",email:"Email: connect@svasam.com",phone:"Phone: +91 70195 57979",supportHours:"Customer Support Hours: Mon-Sat, 10 AM - 7 PM"},shipping:{title:"Shipping and Delivery Policy",welcome:"Welcome to Svasam Wellness Store",shippingAreas:"Shipping Areas",domesticShipping:"Domestic Shipping",internationalShipping:"International Shipping",shippingTimes:"Shipping Times",contactUs:"Contact Us"},categories:{title:"Discover Your Path",description:"Explore our holistic wellness categories designed to guide you on your journey to inner peace and transformation",heading:"Wellness Categories",explore:"Explore",exploreAriaLabel:"Explore {{title}} programs",mind:{title:"Mind",description:"The seat of consciousness, thoughts, and emotions. In spirituality, the mind is seen as a powerful tool for transformation and enlightenment.",alt:"Illustration representing the mind and consciousness"},body:{title:"Body",description:"The physical vessel that houses our spirit. In spirituality, the body is considered sacred and a temple for our soul's journey.",alt:"Illustration representing physical health and the body",selfSessions:{title:"Self Sessions / Care (Body)",description:"Access self-guided audio and video sessions for physical self-care."}},soul:{title:"Soul",description:"The eternal essence of our being. In spirituality, the soul is our true self, the divine spark that connects us to the universe.",alt:"Illustration representing the soul and spiritual essence",selfSessions:{title:"Self Sessions (Soul)",description:"Access self-guided audio and video sessions for spiritual well-being."}}},common:{loading:"Loading...",error:"Error",sale:"SALE"}}},Ub=(e,t={},n="en")=>{const r=e.split(".");let s=zb[n];for(const i of r)s=s?.[i];return s?Object.keys(t).reduce((e,n)=>e.replace(new RegExp(`{{${n}}}`,"g"),t[n]),s):e},Vb=({to:e,title:t,description:n,image:r,alt:s,subtitle:a})=>k.jsx("div",{className:"h-full w-full",children:k.jsxs(i,{to:e,className:"w-full h-full group block","aria-label":Ub("categories.exploreAriaLabel",{title:t}),children:[k.jsxs("div",{className:"md:hidden bg-white rounded-2xl shadow-xl p-4 w-full flex flex-col items-center hover:shadow-2xl hover:scale-105 transition-all duration-300 border border-purple-100 mx-auto max-w-36",children:[k.jsxs("div",{className:"h-16 w-16 mb-3 relative",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-100 to-purple-200 rounded-full"}),k.jsx("img",{src:r,alt:s,className:"w-full h-full object-contain relative z-10",loading:"lazy"})]}),k.jsx("h2",{className:"text-sm font-semibold text-gray-800 text-center line-clamp-2",children:t})]}),k.jsxs("div",{className:"hidden md:flex bg-white rounded-3xl shadow-xl p-4 hover:shadow-2xl hover:scale-105 transition-all duration-300 w-full h-[320px] flex flex-col border border-purple-100 mx-auto max-w-md",children:[k.jsxs("div",{className:"h-36 w-36 mx-auto mb-3 flex-shrink-0 relative",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl"}),k.jsx("img",{src:r,alt:s,className:"w-full h-full object-contain relative z-10",loading:"lazy",style:{maxWidth:"100%",maxHeight:"100%"}})]}),k.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center",children:[k.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2 line-clamp-2 px-2",children:t}),a&&k.jsx("p",{className:"text-base text-gray-600 font-medium px-2 line-clamp-2",children:a})]}),k.jsx("div",{className:"mt-2 pt-2 border-t border-purple-100",children:k.jsxs("div",{className:"flex items-center justify-center text-sm font-semibold text-purple-600 group-hover:text-purple-700 transition-colors",children:[k.jsx("span",{className:"mr-2",children:Ub("categories.explore")}),k.jsx("svg",{className:"w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})]})});function Bb(){const e=s(),[t,n]=m(),{addToCart:a}=M(),o=[{id:"mind",title:Ub("categories.mind.title"),description:Ub("categories.mind.description"),subtitle:"Master your Mind. Elevate your Life",image:"/assets/Mind.png",alt:Ub("categories.mind.alt")},{id:"body",title:Ub("categories.body.title"),description:Ub("categories.body.description"),subtitle:"Train the Body. Extend Life",image:"/assets/Body.png",alt:Ub("categories.body.alt")},{id:"soul",title:Ub("categories.soul.title"),description:Ub("categories.soul.description"),subtitle:"Awaken the Soul. Live Fully",image:"/assets/New soul.png",alt:Ub("categories.soul.alt")}],l=r.useMemo(()=>[{slug:"all",title:"All"},{slug:"bracelets",title:"Bracelets"},{slug:"rudraksha",title:"Rudraksha"},{slug:"anklet",title:"Anklet"},{slug:"pyrite",title:"Pyrite"}],[]),c=r.useCallback(e=>({bracelets:"/assets/Bracelet.jpg",rudraksha:"/assets/Rudraksha.jpg",anklet:"/assets/Anklet.jpg",pyrite:"/assets/Pyrite.jpg"}[e]||`/assets/categories/${e}.png`),[]);r.useEffect(()=>{l.forEach(e=>{(new Image).src=c(e.slug)})},[l,c]);const u=r.useRef(null),d=r.useCallback(()=>{u.current&&u.current.scrollBy({left:-260,behavior:"smooth"})},[]),h=r.useCallback(()=>{u.current&&u.current.scrollBy({left:260,behavior:"smooth"})},[]),p=t.get("category")||"all",f=r.useMemo(()=>{if("all"===p)return null;const e=l.find(e=>e.slug===p);return e?e.title:null},[p,l]),{items:g,loading:y,error:x}=function(e=null){const[t,n]=r.useState([]),[s,i]=r.useState(!0),[a,o]=r.useState(null),l=r.useCallback(async()=>{try{i(!0),console.log("Fetching store items for category:",e);const r={},s="string"==typeof e&&e===e?.toLowerCase(),a=e?s?e:e.toLowerCase():null,l=e?s?e.charAt(0).toUpperCase()+e.slice(1):e:null;console.log("Category filters:",{catSlug:a,catTitle:l});let c='*[_type == "store"';a&&(c+=" && category == $catSlug",r.catSlug=a),c+='] {\n        _id,\n        title,\n        description,\n        "shortDescription": coalesce(shortDescription, description),\n        "slug": slug.current,\n        "imageUrl": coalesce(images[0].asset->url, images.asset->url[0]),\n        price,\n        discountedPrice,\n        "categories": [category],\n        "stock": select(inStock == true => 1, inStock == false => 0, 1),\n        "images": images[].asset->url\n      } | order(_createdAt desc)';let u='*[_type == "storeItem"';l&&(u+=" && $legacyCat in categories[]->title",r.legacyCat=l),u+='] {\n        _id,\n        title,\n        description,\n        shortDescription,\n        "slug": slug.current,\n        "imageUrl": coalesce(mainImage.asset->url, images[0].asset->url),\n        price,\n        compareAtPrice,\n        discountedPrice,\n        "categories": categories[]->title,\n        stock,\n        "images": images[].asset->url\n      } | order(_createdAt desc)',console.log("Executing store queries:",{qStore:c,qLegacy:u,vars:r});try{const[e,t]=await Promise.all([mv.fetch(c,r).catch(e=>(console.warn("Store query failed, trying fallback:",e),[])),mv.fetch(u,r).catch(e=>(console.warn("Legacy store query failed:",e),[]))]);console.log("Query results:",{storeDocs:e,legacyDocs:t});const s=[...e||[],...t||[]];if(console.log("Total items found:",s.length),!(s.length>0))throw console.log("No items found, using fallback data"),new Error("No items found in database");n(s),o(null)}catch(t){console.error("Both store queries failed:",t),n([{_id:"fallback-1",title:"Rudraksha Mala",description:"Sacred rudraksha beads for meditation",shortDescription:"Premium quality rudraksha mala",slug:"rudraksha-mala",imageUrl:"/assets/Rudraksha.jpg",price:999,compareAtPrice:1299,categories:["Rudraksha"],stock:1,images:["/assets/Rudraksha.jpg"]},{_id:"fallback-2",title:"Spiritual Bracelet",description:"Handcrafted spiritual bracelet",shortDescription:"Beautiful healing bracelet",slug:"spiritual-bracelet",imageUrl:"/assets/Bracelet.jpg",price:599,compareAtPrice:799,categories:["Bracelets"],stock:1,images:["/assets/Bracelet.jpg"]},{_id:"fallback-3",title:"Divine Murti",description:"Sacred deity statue for worship",shortDescription:"Beautiful divine murti",slug:"divine-murti",imageUrl:"/assets/Murti.jpg",price:1499,compareAtPrice:1999,categories:["Murti"],stock:1,images:["/assets/Murti.jpg"]},{_id:"fallback-4",title:"Sacred Anklet",description:"Traditional spiritual anklet",shortDescription:"Elegant sacred anklet",slug:"sacred-anklet",imageUrl:"/assets/Anklet.jpg",price:799,compareAtPrice:999,categories:["Anklet"],stock:1,images:["/assets/Anklet.jpg"]},{_id:"fallback-5",title:"Divine Frame",description:"Beautiful spiritual frame",shortDescription:"Elegant divine frame",slug:"divine-frame",imageUrl:"/assets/Frames.jpg",price:1199,compareAtPrice:1499,categories:["Frames"],stock:1,images:["/assets/Frames.jpg"]}]),o({message:"Using sample data - Unable to connect to store database",isSampleData:!0})}}catch(r){console.error("Error fetching store items:",r),o({message:r.message||"Unknown error",isNetworkError:"AbortError"===r.name||!navigator.onLine})}finally{i(!1)}},[e]);return r.useEffect(()=>{l()},[l]),{items:t,loading:s,error:a,refetch:l}}(f),v=t.get("q")||"",[b,w]=r.useState(v);r.useEffect(()=>{const e=setTimeout(()=>{const e=new URLSearchParams(t);b?e.set("q",b):e.delete("q"),n(e,{replace:!0})},300);return()=>clearTimeout(e)},[b]),r.useEffect(()=>{document.title=f?`${f} | Svasam Store`:"Svasam Store"},[f]);const N=r.useMemo(()=>{if(!g)return[];const e=(t.get("q")||"").trim().toLowerCase();return e?g.filter(t=>[t.title,t.shortDescription,t.description].filter(Boolean).join(" ").toLowerCase().includes(e)):g},[g,t]);r.useCallback(t=>{if("all"===t)return void e("/store");e(`/store/${"rudraksha"===t?"rudrakshas":t}`)},[e]);const j=r.useCallback(()=>{window.location.reload()},[]),S=r.useCallback(e=>{a({id:e._id||e.slug||e.title,title:e.title,price:e.price||0,quantity:1,image:e.imageUrl})},[a]);return y?k.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-300","aria-label":Ub("common.loading")})}):x&&!x.isSampleData?k.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:k.jsxs("div",{className:"text-red-500 text-center p-4 max-w-md",children:[k.jsx("h2",{className:"text-xl font-bold mb-2",children:"Error Loading Store Items"}),k.jsx("p",{className:"mb-4",children:x.message}),k.jsx("button",{onClick:j,className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:"Try Again"})]})}):(x&&x.isSampleData,k.jsx("div",{className:"min-h-screen w-full bg-background",children:k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[x&&x.isSampleData&&k.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-4 mb-6 mt-4",children:k.jsxs("div",{className:"flex items-center",children:[k.jsx("svg",{className:"w-5 h-5 text-yellow-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),k.jsx("p",{className:"text-yellow-200 text-sm",children:x.message})]})}),k.jsxs("div",{className:"pt-16 pb-8 text-center",children:[k.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Svasam Store"}),k.jsx("p",{className:"text-lg text-white max-w-3xl mx-auto",children:"Discover our collection of spiritual and wellness products to support your journey"})]}),k.jsx("div",{className:"mb-4",children:k.jsxs("div",{className:"max-w-sm ml-auto",children:[k.jsx("label",{htmlFor:"store-search",className:"sr-only",children:"Search products"}),k.jsxs("div",{className:"relative",children:[k.jsx("input",{id:"store-search",type:"text",value:b,onChange:e=>w(e.target.value),placeholder:"Search products...",className:"w-full rounded-lg border border-accent/30 bg-white px-3 py-2 pr-9 shadow-sm focus:outline-none focus:ring-2 focus:ring-accent/30 focus:border-accent text-xs"}),k.jsxs("svg",{className:"absolute right-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[k.jsx("circle",{cx:"11",cy:"11",r:"8"}),k.jsx("path",{d:"M21 21l-4.35-4.35",strokeLinecap:"round",strokeLinejoin:"round"})]})]})]})}),k.jsx("div",{className:"sticky top-0 z-30 bg-purple-800/95 backdrop-blur-sm border-b border-purple-700/50 -mx-4 px-4 py-3 shadow-sm",children:k.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[k.jsx("button",{type:"button","aria-label":"Scroll categories left",onClick:d,className:"hidden md:flex absolute left-0 top-1/2 -translate-y-1/2 z-10 h-8 w-8 items-center justify-center rounded-full bg-white/90 border border-purple-400/30 shadow hover:bg-white",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),k.jsx("div",{ref:u,className:"flex gap-4 overflow-x-auto no-scrollbar snap-x snap-mandatory px-10 md:px-12",role:"tablist","aria-label":"Product categories",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:l.map(e=>{const t=e.slug===p,n="all"===e.slug;return k.jsx("div",{className:"flex-shrink-0 snap-center",children:k.jsxs("div",{className:"flex flex-col items-center w-20 sm:w-24 focus:outline-none cursor-default",title:e.title,children:[k.jsx("div",{className:`w-14 h-14 sm:w-16 sm:h-16 rounded-xl border-2 ${t?"border-purple-300 ring-2 ring-purple-400/50":"border-purple-600/50"} bg-white shadow-sm overflow-hidden transition-all`,children:n?k.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl text-purple-600",children:""}):k.jsx("img",{src:c(e.slug),alt:`${e.title} thumbnail`,className:"w-full h-full object-cover",loading:"lazy",onError:t=>{const n=`<svg xmlns='http://www.w3.org/2000/svg' width='128' height='128'><rect width='100%' height='100%' fill='%23f5f5f5'/><text x='50%' y='52%' dominant-baseline='middle' text-anchor='middle' font-family='sans-serif' font-size='14' fill='%23999'>${e.title}</text></svg>`;t.currentTarget.src=`data:image/svg+xml;utf8,${encodeURIComponent(n)}`}})}),k.jsx("span",{className:"mt-1.5 text-xs font-medium text-center "+(t?"text-purple-200 font-semibold":"text-gray-300"),children:e.title})]})},e.slug)})}),k.jsx("button",{type:"button","aria-label":"Scroll categories right",onClick:h,className:"hidden md:flex absolute right-0 top-1/2 -translate-y-1/2 z-10 h-8 w-8 items-center justify-center rounded-full bg-white/90 border border-purple-400/30 shadow hover:bg-white",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]})}),k.jsx("div",{className:"py-4 sm:py-6",children:N&&0!==N.length?k.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:N.map(e=>k.jsx(i,{to:`/store/${e.slug?.current||e.slug}`,className:"block group",children:k.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-300 flex flex-col h-full",children:[k.jsxs("div",{className:"relative pt-[100%] bg-gray-50",children:[e.imageUrl?k.jsx("img",{src:e.imageUrl,alt:e.title,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}):k.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:k.jsx("span",{className:"text-sm",children:"No Image"})}),e.compareAtPrice>e.price&&k.jsx("span",{className:"absolute top-3 right-3 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"SALE"})]}),k.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[k.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-purple-600 transition-colors",title:e.title,children:e.title}),k.jsx("p",{className:"text-gray-600 text-sm mb-3 flex-grow line-clamp-2",children:e.shortDescription||e.description||""}),k.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[k.jsxs("div",{className:"flex flex-col",children:[k.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["",e.price?.toLocaleString("en-IN")]}),e.compareAtPrice>e.price&&k.jsxs("span",{className:"text-xs text-gray-400 line-through",children:["",e.compareAtPrice?.toLocaleString("en-IN")]})]}),k.jsx("button",{className:"px-3 py-1.5 bg-purple-600 text-white rounded-lg font-medium text-sm hover:bg-purple-700 transition",onClick:t=>{t.preventDefault(),t.stopPropagation(),S(e)},children:"Add to Cart"})]})]})]})},e._id||e.slug))}):k.jsxs("div",{className:"text-center py-12",children:[k.jsxs("p",{className:"text-gray-500 mb-4",children:["No items ",b?`matching "${b}"`:"available"," ",f?`in ${f}`:"in the store","."]}),k.jsx("button",{onClick:()=>e("/store"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition",children:"View All Products"})]})}),k.jsxs("div",{className:"py-8",children:[k.jsx("div",{className:"mb-6 text-center",children:k.jsx("p",{className:"text-white/70 text-lg max-w-2xl mx-auto",children:"Explore our transformative wellness programs designed to nurture your mind, body, and soul"})}),k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"md:hidden px-4 sm:px-6 mt-6",children:k.jsx("div",{className:"flex justify-between gap-2 pb-4",children:o.map(e=>k.jsx("div",{className:"flex-1",children:k.jsx(Vb,{to:`/${e.id}`,title:e.title,description:e.description,subtitle:e.subtitle,image:e.image,alt:e.alt})},e.id))})}),k.jsx("div",{className:"hidden md:grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 md:gap-8 mt-6 px-4 sm:px-6 lg:px-8",children:o.map(e=>k.jsx("div",{className:"w-full",children:k.jsx(Vb,{to:`/${e.id}`,title:e.title,description:e.description,subtitle:e.subtitle,image:e.image,alt:e.alt})},e.id))})]})]})]})}))}function qb(e){return"span"===e._type&&"text"in e&&"string"==typeof e.text&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(e=>"string"==typeof e))}function $b(e){return"string"==typeof e._type&&"@"!==e._type[0]&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(e=>"string"==typeof e._key))&&"children"in e&&Array.isArray(e.children)&&e.children.every(e=>"object"==typeof e&&"_type"in e)}function Hb(e){return $b(e)&&"listItem"in e&&"string"==typeof e.listItem&&(typeof e.level>"u"||"number"==typeof e.level)}function Wb(e){return"@list"===e._type}function Gb(e){return"@span"===e._type}function Kb(e){return"@text"===e._type}const Qb=["strong","em","code","underline","strike-through"];function Yb(e,t,n){if(!qb(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),s={};return r.forEach(e=>{s[e]=1;for(let r=t+1;r<n.length;r++){const t=n[r];if(!(t&&qb(t)&&Array.isArray(t.marks)&&-1!==t.marks.indexOf(e)))break;s[e]++}}),r.sort((e,t)=>function(e,t,n){const r=e[t],s=e[n];if(r!==s)return s-r;const i=Qb.indexOf(t),a=Qb.indexOf(n);return i!==a?i-a:t.localeCompare(n)}(s,e,t))}function Xb(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function Jb(e,t,n){return{_type:"@list",_key:`${e._key||`${t}`}-parent`,mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function Zb(e,t){const n=t.level||1,r=t.listItem||"normal",s="string"==typeof t.listItem;if(Wb(e)&&(e.level||1)===n&&s&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const i=e.children[e.children.length-1];return i&&!qb(i)?Zb(i,t):void 0}function ew(e){let t="";return e.children.forEach(e=>{Kb(e)?t+=e.text:Gb(e)&&(t+=ew(e))}),t}const tw={textDecoration:"underline"},nw=(e,t)=>`[@portabletext/react] Unknown ${e}, specify a component for it in the \`components.${t}\` prop`,rw=e=>nw(`block type "${e}"`,"types");function sw(e){console.warn(e)}const iw={display:"none"},aw={types:{},block:{normal:({children:e})=>k.jsx("p",{children:e}),blockquote:({children:e})=>k.jsx("blockquote",{children:e}),h1:({children:e})=>k.jsx("h1",{children:e}),h2:({children:e})=>k.jsx("h2",{children:e}),h3:({children:e})=>k.jsx("h3",{children:e}),h4:({children:e})=>k.jsx("h4",{children:e}),h5:({children:e})=>k.jsx("h5",{children:e}),h6:({children:e})=>k.jsx("h6",{children:e})},marks:{em:({children:e})=>k.jsx("em",{children:e}),strong:({children:e})=>k.jsx("strong",{children:e}),code:({children:e})=>k.jsx("code",{children:e}),underline:({children:e})=>k.jsx("span",{style:tw,children:e}),"strike-through":({children:e})=>k.jsx("del",{children:e}),link:({children:e,value:t})=>k.jsx("a",{href:null==t?void 0:t.href,children:e})},list:{number:({children:e})=>k.jsx("ol",{children:e}),bullet:({children:e})=>k.jsx("ul",{children:e})},listItem:({children:e})=>k.jsx("li",{children:e}),hardBreak:()=>k.jsx("br",{}),unknownType:({value:e,isInline:t})=>{const n=rw(e._type);return t?k.jsx("span",{style:iw,children:n}):k.jsx("div",{style:iw,children:n})},unknownMark:({markType:e,children:t})=>k.jsx("span",{className:`unknown__pt__mark__${e}`,children:t}),unknownList:({children:e})=>k.jsx("ul",{children:e}),unknownListItem:({children:e})=>k.jsx("li",{children:e}),unknownBlockStyle:({children:e})=>k.jsx("p",{children:e})};function ow(e,t,n){const r=t[n],s=e[n];return"function"==typeof r||r&&"function"==typeof s?r:r?{...s,...r}:s}function lw({value:e,components:t,listNestingMode:n,onMissingComponent:s=sw}){const i=s||dw,a=function(e,t){const n=[];let r;for(let s=0;s<e.length;s++){const i=e[s];if(i){if(!Hb(i)){n.push(i),r=void 0;continue}if(!r){r=Jb(i,s,t),n.push(r);continue}if(Xb(i,r)){r.children.push(i);continue}if((i.level||1)>r.level){const e=Jb(i,s,t);if("html"===t){const t=r.children[r.children.length-1],n={...t,children:[...t.children,e]};r.children[r.children.length-1]=n}else r.children.push(e);r=e;continue}if((i.level||1)<r.level){const e=n[n.length-1],a=e&&Zb(e,i);if(a){r=a,r.children.push(i);continue}r=Jb(i,s,t),n.push(r);continue}if(i.listItem!==r.listItem){const e=n[n.length-1],a=e&&Zb(e,{level:i.level||1});if(a&&a.listItem===i.listItem){r=a,r.children.push(i);continue}r=Jb(i,s,t),n.push(r);continue}console.warn("Unknown state encountered for block",i),n.push(i)}}return n}(Array.isArray(e)?e:[e],n||"html"),o=r.useMemo(()=>t?function(e,t){const{block:n,list:r,listItem:s,marks:i,types:a,...o}=t;return{...e,block:ow(e,t,"block"),list:ow(e,t,"list"),listItem:ow(e,t,"listItem"),marks:ow(e,t,"marks"),types:ow(e,t,"types"),...o}}(aw,t):aw,[t]),l=r.useMemo(()=>cw(o,i),[o,i]),c=a.map((e,t)=>l({node:e,index:t,isInline:!1,renderNode:l}));return k.jsx(k.Fragment,{children:c})}const cw=(e,t)=>{function n(r){const{node:s,index:i,isInline:a}=r,o=s._key||`node-${i}`;return Wb(s)?function(r,s,i){const a=r.children.map((e,t)=>n({node:e._key?e:{...e,_key:`li-${s}-${t}`},index:t,isInline:!1})),o=e.list,l=("function"==typeof o?o:o[r.listItem])||e.unknownList;if(l===e.unknownList){const e=r.listItem||"bullet";t(nw(`list style "${e}"`,"list"),{nodeType:"listStyle",type:e})}return k.jsx(l,{value:r,index:s,isInline:!1,renderNode:n,children:a},i)}(s,i,o):Hb(s)?function(r,s,i){const a=uw({node:r,index:s,isInline:!1,renderNode:n}),o=e.listItem,l=("function"==typeof o?o:o[r.listItem])||e.unknownListItem;if(l===e.unknownListItem){const e=r.listItem||"bullet";t(nw(`list item style "${e}"`,"listItem"),{type:e,nodeType:"listItemStyle"})}let c=a.children;if(r.style&&"normal"!==r.style){const{listItem:e,...t}=r;c=n({node:t,index:s,isInline:!1})}return k.jsx(l,{value:r,index:s,isInline:!1,renderNode:n,children:c},i)}(s,i,o):Gb(s)?function(r,s,i){const{markDef:a,markType:o,markKey:l}=r,c=e.marks[o]||e.unknownMark,u=r.children.map((e,t)=>n({node:e,index:t,isInline:!0}));return c===e.unknownMark&&t((e=>nw(`mark type "${e}"`,"marks"))(o),{nodeType:"mark",type:o}),k.jsx(c,{text:ew(r),value:a,markType:o,markKey:l,renderNode:n,children:u},i)}(s,0,o):function(t){return t._type in e.types}(s)?function(t,r,s,i){const a={value:t,isInline:i,index:r,renderNode:n},o=e.types[t._type];return o?k.jsx(o,{...a},s):null}(s,i,o,a):$b(s)?function(r,s,i,a){const{_key:o,...l}=uw({node:r,index:s,isInline:a,renderNode:n}),c=l.node.style||"normal",u=("function"==typeof e.block?e.block:e.block[c])||e.unknownBlockStyle;return u===e.unknownBlockStyle&&t((d=c,nw(`block style "${d}"`,"block")),{nodeType:"blockStyle",type:c}),k.jsx(u,{...l,value:l.node,renderNode:n},i);var d}(s,i,o,a):Kb(s)?function(t,n){if("\n"===t.text){const t=e.hardBreak;return t?k.jsx(t,{},n):"\n"}return t.text}(s,o):function(r,s,i,a){const o={value:r,isInline:a,index:s,renderNode:n};t(rw(r._type),{nodeType:"block",type:r._type});const l=e.unknownType;return k.jsx(l,{...o},i)}(s,i,o,a)}return n};function uw(e){const{node:t,index:n,isInline:r,renderNode:s}=e,i=function(e){var t;const{children:n}=e,r=e.markDefs??[];if(!n||!n.length)return[];const s=n.map(Yb),i={_type:"@span",children:[],markType:"<unknown>"};let a=[i];for(let o=0;o<n.length;o++){const e=n[o];if(!e)continue;const i=s[o]||[];let l=1;if(a.length>1)for(;l<a.length;l++){const e=(null==(t=a[l])?void 0:t.markKey)||"",n=i.indexOf(e);if(-1===n)break;i.splice(n,1)}a=a.slice(0,l);let c=a[a.length-1];if(c){for(const t of i){const n=null==r?void 0:r.find(e=>e._key===t),s=n?n._type:t,i={_type:"@span",_key:e._key,children:[],markDef:n,markType:s,markKey:t};c.children.push(i),a.push(i),c=i}if(qb(e)){const t=e.text.split("\n");for(let e=t.length;e-- >1;)t.splice(e,0,"\n");c.children=c.children.concat(t.map(e=>({_type:"@text",text:e})))}else c.children=c.children.concat(e)}}return i.children}(t).map((e,t)=>s({node:e,isInline:!0,index:t,renderNode:s}));return{_key:t._key||`block-${n}`,children:i,index:n,isInline:r,node:t}}function dw(){}function hw(){const{slug:e}=p(),[t,n]=r.useState(null),[s,a]=r.useState(!0),[o,l]=r.useState(null),{addToCart:c}=M(),[u,d]=r.useState(1);console.log("ProductDetail component loaded, slug:",e),r.useEffect(()=>{(async()=>{if(!e)return l("No product selected"),void a(!1);try{const t='*[_type == "store" && slug.current == $slug][0]{\n          _id,\n          title,\n          slug,\n          description,\n          shortDescription,\n          price,\n          discountedPrice,\n          "imageUrl": coalesce(images[0].asset->url, images.asset->url[0]),\n          images,\n          category,\n          categories,\n          tags,\n          body,\n          inStock,\n          sku,\n          stock\n        }',r='*[_type == "storeItem" && slug.current == $slug][0]{\n          _id,\n          title,\n          slug,\n          description,\n          shortDescription,\n          price,\n          compareAtPrice,\n          discountedPrice,\n          imageUrl,\n          images,\n          category,\n          categories,\n          tags,\n          body,\n          inStock,\n          sku,\n          stock\n        }';let s=await mv.fetch(t,{slug:e}).catch(()=>null);s||(s=await mv.fetch(r,{slug:e}).catch(()=>null)),s?n(s):l("Product not found")}catch(t){console.error("Error fetching product:",t),l("Failed to load product")}finally{a(!1)}})()},[e]);return s?k.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 flex items-center justify-center",children:k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-300"})}):o?k.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 flex items-center justify-center",children:k.jsxs("div",{className:"text-center p-6 max-w-md mx-auto bg-white/90 backdrop-blur-sm rounded-lg shadow-lg",children:[k.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error"}),k.jsx("p",{className:"text-gray-700 mb-4",children:o}),k.jsx(i,{to:"/store",className:"inline-block px-6 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:"Back to Store"})]})}):t?k.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900",children:k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[k.jsxs(i,{to:"/store",className:"inline-flex items-center text-white/80 hover:text-white mb-8 transition-all duration-300 group",children:[k.jsx("svg",{className:"w-5 h-5 mr-2 transform group-hover:-translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),k.jsx("span",{className:"font-medium",children:"Back to Store"})]}),k.jsxs("div",{className:"mb-12 text-center",children:[k.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-white/10 backdrop-blur-md rounded-full border border-white/20 mb-6",children:[k.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),k.jsx("span",{className:"text-white/90 text-sm font-medium",children:"Premium Spiritual Product"})]}),k.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6 leading-tight",children:t.title}),k.jsxs("div",{className:"flex items-center justify-center text-white/70",children:[k.jsx("span",{className:"px-4 py-2 bg-white/10 backdrop-blur-md rounded-full text-sm font-medium border border-white/20",children:t.category||t.categories&&t.categories[0]||"General"}),!1!==t.inStock&&0!==t.stock&&k.jsxs("span",{className:"ml-4 flex items-center text-green-400 text-sm",children:[k.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"In Stock"]})]})]}),k.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16",children:[k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{className:"relative group",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl blur-xl opacity-20 group-hover:opacity-30 transition-opacity duration-300"}),k.jsx("div",{className:"relative bg-white/10 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:t.imageUrl?k.jsx("img",{src:fv(t.imageUrl).url(),alt:t.title,className:"w-full h-96 object-cover rounded-xl shadow-2xl"}):k.jsx("div",{className:"w-full h-96 bg-white/5 rounded-xl flex items-center justify-center border-2 border-dashed border-white/20",children:k.jsxs("div",{className:"text-center",children:[k.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-white/30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),k.jsx("p",{className:"text-white/30",children:"No Image Available"})]})})})]}),t.images&&t.images.length>0&&k.jsx("div",{className:"grid grid-cols-4 gap-3",children:t.images.map((e,n)=>k.jsxs("div",{className:"relative group cursor-pointer",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-lg blur-md opacity-0 group-hover:opacity-30 transition-opacity duration-300"}),k.jsx("div",{className:"relative bg-white/10 backdrop-blur-sm rounded-lg overflow-hidden border border-white/20",children:k.jsx("img",{src:fv(e).url(),alt:`${t.title} ${n+1}`,className:"w-full h-20 object-cover hover:scale-110 transition-transform duration-300"})})]},n))})]}),k.jsxs("div",{className:"space-y-8",children:[k.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:k.jsxs("div",{className:"flex items-baseline justify-between",children:[k.jsx("div",{children:t.discountedPrice?k.jsxs(k.Fragment,{children:[k.jsxs("span",{className:"text-4xl font-bold text-white",children:["",t.discountedPrice?.toLocaleString("en-IN")]}),k.jsxs("div",{className:"mt-2",children:[k.jsxs("span",{className:"text-xl text-white/60 line-through",children:["",t.price?.toLocaleString("en-IN")]}),k.jsxs("span",{className:"ml-2 px-2 py-1 bg-green-500/20 text-green-400 text-sm rounded-full",children:["Save ",(t.price-t.discountedPrice)?.toLocaleString("en-IN")]})]})]}):k.jsxs(k.Fragment,{children:[k.jsxs("span",{className:"text-4xl font-bold text-white",children:["",t.price?.toLocaleString("en-IN")]}),t.compareAtPrice&&t.compareAtPrice>t.price&&k.jsxs("div",{className:"mt-2",children:[k.jsxs("span",{className:"text-xl text-white/60 line-through",children:["",t.compareAtPrice?.toLocaleString("en-IN")]}),k.jsxs("span",{className:"ml-2 px-2 py-1 bg-green-500/20 text-green-400 text-sm rounded-full",children:["Save ",(t.compareAtPrice-t.price)?.toLocaleString("en-IN")]})]})]})}),k.jsxs("div",{className:"text-right",children:[k.jsx("div",{className:"flex items-center text-yellow-400 mb-1",children:[...Array(5)].map((e,t)=>k.jsx("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 20 20",children:k.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t))}),k.jsx("p",{className:"text-white/60 text-sm",children:"Premium Quality"})]})]})}),k.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:[k.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[k.jsx("svg",{className:"w-6 h-6 mr-2 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Description"]}),t.body?k.jsx("div",{className:"prose prose-invert max-w-none",children:k.jsx(lw,{value:t.body})}):k.jsx("p",{className:"text-white/80 leading-relaxed text-lg",children:t.description||t.shortDescription||"Experience the divine energy and spiritual benefits of this premium product, carefully crafted to enhance your meditation and spiritual practice."})]}),k.jsx("div",{className:"bg-gradient-to-r from-purple-600/20 to-indigo-600/20 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-white font-medium mb-3",children:"Quantity"}),k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsx("button",{onClick:()=>d(Math.max(1,u-1)),className:"w-12 h-12 rounded-xl bg-white/10 hover:bg-white/20 border border-white/20 flex items-center justify-center text-white transition-all duration-300",children:k.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),k.jsx("span",{className:"w-16 text-center text-2xl font-bold text-white",children:u}),k.jsx("button",{onClick:()=>d(u+1),className:"w-12 h-12 rounded-xl bg-white/10 hover:bg-white/20 border border-white/20 flex items-center justify-center text-white transition-all duration-300",children:k.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]}),k.jsxs("button",{onClick:()=>{c({id:t._id||t.slug,title:t.title,price:t.discountedPrice||t.price||0,quantity:u,image:t.imageUrl,slug:t.slug?.current})},className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center justify-center space-x-3",children:[k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),k.jsx("span",{children:"Add to Cart"})]}),t.sku&&k.jsxs("div",{className:"flex items-center justify-between text-white/60 text-sm",children:[k.jsxs("span",{children:["SKU: ",t.sku]}),k.jsx("span",{children:"Free Shipping"})]})]})})]})]}),t.tags&&t.tags.length>0&&k.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:[k.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Tags"}),k.jsx("div",{className:"flex flex-wrap gap-3",children:t.tags.map((e,t)=>k.jsxs("span",{className:"px-4 py-2 bg-white/10 backdrop-blur-sm text-white/80 rounded-full text-sm border border-white/20 hover:bg-white/20 transition-all duration-300",children:["#",e]},t))})]})]})}):k.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Product not found"}),k.jsx("p",{className:"text-gray-300 mb-4",children:"The product you're looking for doesn't exist or has been removed."}),k.jsx(i,{to:"/store",className:"inline-block px-6 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:"Back to Store"})]})})}function mw(){return k.jsxs("footer",{className:"bg-transparent mt-16",children:[k.jsx("section",{className:"py-12 px-4 sm:px-6 lg:px-8",children:k.jsx("div",{className:"max-w-7xl mx-auto",children:k.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 hover:shadow-2xl transition-all duration-300 border border-purple-100",children:k.jsxs("div",{className:"flex flex-col items-center space-y-6 text-center sm:text-left",children:[k.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Follow Us"}),k.jsxs("div",{className:"flex space-x-8",children:[k.jsx("a",{href:"https://www.instagram.com/svasam_life?igsh=bDdwd2I1bmhrajVt",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-purple-600 transition-colors","aria-label":"Instagram",children:k.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zM5.838 12a6.162 6.162 0 1112.324 0 6.162 6.162 0 01-12.324 0zM12 16a4 4 0 110-8 4 4 0 010 8zm4.965-10.405a1.44 1.44 0 112.881.001 1.44 1.44 0 01-2.881-.001z"})})}),k.jsx("a",{href:"https://youtube.com/@svasam_life?si=L-mBASkDNpg7OfwA",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-red-600 transition-colors","aria-label":"YouTube",children:k.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),k.jsx("a",{href:"https://www.facebook.com/share/1Eb9FM6Zb4/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-blue-600 transition-colors","aria-label":"Facebook",children:k.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),k.jsx("a",{href:"https://www.linkedin.com/company/svasam/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-blue-700 transition-colors","aria-label":"LinkedIn",children:k.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})})]})]})})})}),k.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-8",children:k.jsx("div",{className:"max-w-7xl mx-auto",children:k.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 hover:shadow-2xl transition-all duration-300 border border-purple-100",children:k.jsxs("div",{className:"flex flex-col md:flex-row gap-8 md:gap-12 justify-center items-center md:justify-between md:items-start",children:[k.jsx("div",{className:"flex flex-col items-center md:items-start",children:k.jsx(i,{className:"flex items-center mb-4",to:"/",children:k.jsx("img",{src:Bf,alt:"Svasam",className:"h-12 w-auto"})})}),k.jsx("div",{className:"flex gap-8 md:gap-12 justify-center",children:k.jsxs("div",{className:"flex flex-col items-center sm:items-start text-center",children:[k.jsx(i,{className:"text-base font-semibold text-gray-800 mb-4 hover:text-purple-600 transition-colors",to:"/",children:"Company"}),k.jsx(i,{className:"text-sm text-gray-600 mb-2 hover:text-purple-600 transition-colors",to:"/about",children:"About Us"}),k.jsx(i,{className:"text-sm text-gray-600 mb-2 hover:text-purple-600 transition-colors",to:"/contact",children:"Contact Us"}),k.jsx(i,{className:"text-sm text-gray-600 mb-2 hover:text-purple-600 transition-colors",to:"/refund-and-cancellation",children:"Cancellation and Refund Policy"}),k.jsx(i,{className:"text-sm text-gray-600 mb-2 hover:text-purple-600 transition-colors",to:"/shipping-and-delivery",children:"Shipping and Delivery Policy"}),k.jsx(i,{className:"text-sm text-gray-600 mb-2 hover:text-purple-600 transition-colors",to:"/terms-and-conditions",children:"Terms and Conditions"}),k.jsx(i,{className:"text-sm text-gray-600 mb-2 hover:text-purple-600 transition-colors",to:"/privacy-policy",children:"Privacy Policy"})]})})]})})})}),k.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-6",children:k.jsx("div",{className:"max-w-7xl mx-auto",children:k.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-6 hover:shadow-2xl transition-all duration-300 border border-purple-100",children:k.jsx("div",{className:"text-center",children:k.jsx("span",{className:"text-sm text-gray-600",children:" 2025 Svasam Veda Lifesciences Pvt Ltd. All rights reserved"})})})})})]})}const pw=({question:e,children:t,isOpen:n,onClick:r})=>k.jsx("div",{className:"mb-6 last:mb-0",children:k.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 hover:shadow-2xl transition-all duration-300 border border-purple-100",children:[k.jsxs("button",{className:"w-full flex justify-between items-center text-left transition-colors group",onClick:r,"aria-expanded":n,children:[k.jsx("span",{className:"font-semibold text-gray-800 text-lg group-hover:text-purple-600",children:e}),n?k.jsx(gg,{className:"text-purple-600 text-xl flex-shrink-0 ml-4"}):k.jsx(fg,{className:"text-gray-500 text-xl group-hover:text-purple-600 flex-shrink-0 ml-4"})]}),k.jsx("div",{className:"overflow-hidden transition-all duration-300 ease-in-out "+(n?"max-h-96 opacity-100 mt-4":"max-h-0 opacity-0"),"aria-hidden":!n,children:k.jsx("div",{className:"text-gray-600 leading-relaxed",children:t})})]})});function fw(){const[e,t]=r.useState(null);return k.jsx("section",{className:"py-12",children:k.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[k.jsxs("div",{className:"text-center mb-12",children:[k.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),k.jsx("p",{className:"text-lg text-white/70 max-w-2xl mx-auto",children:"Find answers to common questions about our wellness programs and services"})]}),k.jsx("div",{className:"space-y-4",children:[{question:"What is Svasam?",answer:"Svasam is a holistic wellness platform offering Mind, Body, and Soul sessions for your well-being. We provide guided programs, self-sessions, and community support to help you achieve balance and harmony in all aspects of life."},{question:"How do I access the audio/video sessions?",answer:"You can access our audio/video sessions by navigating to the respective category (Mind, Body, or Soul) and selecting the session you're interested in. Simply click on the session to start your journey."},{question:"Is Svasam free to use?",answer:"Svasam offers both free and premium content. While many of our basic sessions are available at no cost, we also offer premium programs with additional features and personalized guidance. You can explore our pricing plans for more details."},{question:"Can I use Svasam on my mobile device?",answer:"Absolutely! Svasam is fully responsive and works seamlessly on both desktop and mobile devices. You can also install it as a Progressive Web App (PWA) for an app-like experience with offline access to your favorite sessions."},{question:"Are my personal details and activity private?",answer:"Your privacy is our top priority. All personal information and activity data are encrypted and stored securely. We never share your data with third parties without your explicit consent, in compliance with data protection regulations."},{question:"How do I track my progress?",answer:"Your personal dashboard tracks your session history, completed programs, and milestones. You can monitor your progress, set goals, and receive personalized recommendations based on your activity."},{question:"Can I download sessions for offline use?",answer:"Yes, premium members can download selected sessions for offline access. This feature allows you to continue your practice even without an internet connection, perfect for travel or areas with limited connectivity."},{question:"How can I contact Svasam support?",answer:"We're here to help! You can reach our support team by emailing connect@svasam.com or by using the contact form on our website. Our team typically responds within 24-48 hours."}].map((n,r)=>k.jsx(pw,{question:n.question,isOpen:e===r,onClick:()=>(n=>{t(e===n?null:n)})(r),children:k.jsx("p",{className:"leading-relaxed",children:n.answer})},r))}),k.jsxs("div",{className:"mt-12 text-center",children:[k.jsx("p",{className:"text-white/70 mb-4",children:"Still have questions?"}),k.jsx("a",{href:"/contact",className:"inline-block px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors",children:"Contact Us"})]})]})})}const gw=["/assets/banner.jpg","/assets/MainPageBanner.jpg","/assets/new-banner.jpg"],yw=({to:e,title:t,description:n,image:r,alt:s,subtitle:a})=>k.jsx("div",{className:"h-full w-full",children:k.jsxs(i,{to:e,className:"w-full h-full group block","aria-label":Ub("categories.exploreAriaLabel",{title:t}),children:[k.jsxs("div",{className:"md:hidden bg-white rounded-2xl shadow-xl p-4 w-full flex flex-col items-center hover:shadow-2xl hover:scale-105 transition-all duration-300 border border-purple-100 mx-auto max-w-36",children:[k.jsxs("div",{className:"h-16 w-16 mb-3 relative",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-100 to-purple-200 rounded-full"}),k.jsx("img",{src:r,alt:s,className:"w-full h-full object-contain relative z-10",loading:"lazy"})]}),k.jsx("h2",{className:"text-sm font-semibold text-gray-800 text-center line-clamp-2",children:t})]}),k.jsxs("div",{className:"hidden md:flex bg-white rounded-3xl shadow-xl p-4 hover:shadow-2xl hover:scale-105 transition-all duration-300 w-full h-[320px] flex flex-col border border-purple-100 mx-auto max-w-md",children:[k.jsxs("div",{className:"h-36 w-36 mx-auto mb-3 flex-shrink-0 relative",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl"}),k.jsx("img",{src:r,alt:s,className:"w-full h-full object-contain relative z-10",loading:"lazy",style:{maxWidth:"100%",maxHeight:"100%"}})]}),k.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center",children:[k.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2 line-clamp-2 px-2",children:t}),a&&k.jsx("p",{className:"text-base text-gray-600 font-medium px-2 line-clamp-2",children:a})]}),k.jsx("div",{className:"mt-2 pt-2 border-t border-purple-100",children:k.jsxs("div",{className:"flex items-center justify-center text-sm font-semibold text-purple-600 group-hover:text-purple-700 transition-colors",children:[k.jsx("span",{className:"mr-2",children:Ub("categories.explore")}),k.jsx("svg",{className:"w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})]})});function xw(){s();const{addToCart:e}=M(),[t]=r.useState(gw[0]);r.useEffect(()=>{gw.forEach(e=>{(new Image).src=e})},[gw]);const n=[{id:"mind",title:Ub("categories.mind.title"),description:Ub("categories.mind.description"),subtitle:"Master your Mind. Elevate your Life",image:"/assets/Mind.png",alt:Ub("categories.mind.alt")},{id:"body",title:Ub("categories.body.title"),description:Ub("categories.body.description"),subtitle:"Train the Body. Extend Life",image:"/assets/Body.png",alt:Ub("categories.body.alt")},{id:"soul",title:Ub("categories.soul.title"),description:Ub("categories.soul.description"),subtitle:"Awaken the Soul. Live Fully",image:"/assets/New soul.png",alt:Ub("categories.soul.alt")}];return k.jsxs("main",{className:"relative min-h-screen w-full",children:[k.jsxs("section",{className:"relative w-full h-[60vh] md:h-[70vh] overflow-hidden",children:[k.jsxs("div",{className:"relative w-full h-full",children:[k.jsx("img",{src:t,alt:"Banner",className:"w-full h-full object-cover",style:{objectPosition:"center"},onError:e=>{console.error("Banner image failed to load:",t)}}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 via-black/40 to-black/60"})]}),k.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center px-4 sm:px-6 lg:px-8 text-center z-10",children:[k.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold text-white mb-6 drop-shadow-2xl animate-fade-in",children:"Reconnect. Realign. Transform."}),k.jsx("p",{className:"text-lg md:text-xl lg:text-2xl text-white/95 max-w-4xl mb-8 md:mb-12 drop-shadow-lg animate-fade-in-delay",children:"Purpose driven wellness programs guiding you back to your inner self where true change begins."})]})]}),k.jsx("div",{className:"relative z-10",children:k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[k.jsxs("section",{"aria-labelledby":"categories-heading",className:"w-full py-8 sm:py-12",children:[k.jsx("div",{className:"mb-8 text-center",children:k.jsx("p",{className:"text-white/70 text-lg max-w-2xl mx-auto",children:"Explore our transformative wellness programs designed to nurture your mind, body, and soul"})}),k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"md:hidden px-4 sm:px-6 mt-8",children:k.jsx("div",{className:"flex justify-between gap-2 pb-4",children:n.map(e=>k.jsx("div",{className:"flex-1",children:k.jsx(yw,{to:`/${e.id}`,title:e.title,description:e.description,subtitle:e.subtitle,image:e.image,alt:e.alt})},e.id))})}),k.jsx("div",{className:"hidden md:grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 md:gap-8 mt-8 px-4 sm:px-6 lg:px-8",children:n.map(e=>k.jsx("div",{className:"w-full",children:k.jsx(yw,{to:`/${e.id}`,title:e.title,description:e.description,subtitle:e.subtitle,image:e.image,alt:e.alt})},e.id))})]})]}),k.jsx("div",{className:"py-8",children:k.jsx(Fb,{})}),k.jsx(fw,{})]})})]})}function vw(){const e=s(),{programs:t,loading:n,error:i}=yv("mind"),[a,o]=r.useState(()=>new Set),l=r.useMemo(()=>e=>e?._id||e?.slug?.current||e?.slug||e?.title,[]);return n?k.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):i?k.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:k.jsxs("div",{className:"text-red-500 text-center p-4 max-w-md",children:[k.jsx("h2",{className:"text-xl font-bold mb-2",children:"Error Loading Programs"}),k.jsx("p",{children:i.message}),k.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-main text-white rounded hover:brightness-105",children:"Try Again"})]})}):k.jsxs("main",{className:"relative min-h-screen w-full bg-background/80",children:[k.jsxs("div",{className:"relative h-[60vh] md:h-[70vh] overflow-hidden",children:[k.jsx("img",{src:"/assets/Mind Banner.jpg",alt:"Mind Wellness Programs Banner",className:"absolute inset-0 w-full h-full object-cover"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 via-black/40 to-black/60"}),k.jsx("div",{className:"relative z-10 h-full flex items-center justify-center",children:k.jsxs("div",{className:"text-center px-4",children:[k.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-6 drop-shadow-2xl",children:"Master Your Mind"}),k.jsx("p",{className:"text-lg md:text-xl lg:text-2xl text-white/95 max-w-4xl drop-shadow-lg",children:"Elevate Your Life"})]})})]}),k.jsx("div",{className:"relative z-10",children:k.jsxs("div",{className:"max-w-6xl mx-auto py-16 px-4",children:[k.jsxs("div",{className:"text-center mb-12",children:[k.jsx("h2",{className:"text-3xl md:text-4xl font-semibold text-white mb-4",children:"Mind Wellness Programs"}),k.jsx("p",{className:"text-base md:text-lg text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Discover our transformative programs designed to enhance your mental well-being and unlock your full potential."})]}),t&&0!==t.length?k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(t=>(()=>{const n=l(t),r=a.has(n);return k.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[k.jsx("button",{type:"button","aria-label":r?"Remove from favourites":"Add to favourites",className:"absolute top-4 right-4 z-10 inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/90 shadow hover:bg-white focus:outline-none focus:ring-2 focus:ring-accent",onClick:e=>{e.preventDefault(),e.stopPropagation(),(e=>{o(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})})(n)},children:r?k.jsx(Cg,{className:"text-red-500"}):k.jsx(Ig,{className:"text-gray-500"})}),t.imageUrl&&k.jsx("div",{className:"relative",children:k.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-48 object-cover",loading:"lazy"})}),t.strip&&k.jsx("div",{className:"bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 text-white px-3 py-2 text-sm font-semibold",children:t.strip}),k.jsxs("div",{className:"p-6",children:[k.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3",children:t.title}),k.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:t.description}),k.jsxs("div",{className:"flex justify-between items-center mt-4",children:[(()=>{const e="number"==typeof t?.price&&!Number.isNaN(t.price),n="number"==typeof t?.discountPrice&&!Number.isNaN(t.discountPrice),r=e&&n&&t.discountPrice<t.price,s=r?t.discountPrice:t.price;return e&&0!==t.price?k.jsxs("span",{className:"text-lg font-semibold text-purple-600",children:["",s.toLocaleString("en-IN"),r?k.jsxs("span",{className:"ml-2 text-sm text-gray-500 line-through font-semibold",children:["",t.price.toLocaleString("en-IN")]}):null]}):k.jsx("span",{className:"text-lg font-semibold text-purple-700",children:"Free"})})(),k.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold shadow hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2 transition",onClick:()=>t.slug?e(`/programs/${t.slug.current||t.slug}`):"#",children:"Read More"})]})]})]},t._id||t.title)})())}):k.jsx("div",{className:"text-center py-12",children:k.jsx("p",{className:"text-white/70",children:"No mind programs available at the moment. Please check back later."})})]})})]})}function bw(){const e=s(),{programs:t,loading:n,error:i}=yv("body"),[a,o]=r.useState(()=>new Set),l=r.useMemo(()=>e=>e?._id||e?.slug?.current||e?.slug||e?.title,[]);return n?k.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):i?k.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:k.jsxs("div",{className:"text-red-500 text-center p-4 max-w-md",children:[k.jsx("h2",{className:"text-xl font-bold mb-2",children:"Error Loading Programs"}),k.jsx("p",{children:i.message}),k.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-main text-white rounded hover:brightness-105",children:"Try Again"})]})}):k.jsxs("main",{className:"relative min-h-screen w-full bg-background/80",children:[k.jsxs("div",{className:"relative h-[60vh] md:h-[70vh] overflow-hidden",children:[k.jsx("img",{src:"/assets/Body Banner.jpg",alt:"Body Wellness Programs Banner",className:"absolute inset-0 w-full h-full object-cover"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 via-black/40 to-black/60"}),k.jsx("div",{className:"relative z-10 h-full flex items-center justify-center",children:k.jsxs("div",{className:"text-center px-4",children:[k.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-6 drop-shadow-2xl",children:"Train the Body"}),k.jsx("p",{className:"text-lg md:text-xl lg:text-2xl text-white/95 max-w-4xl drop-shadow-lg",children:"Extend Life"})]})})]}),k.jsx("div",{className:"relative z-10",children:k.jsxs("div",{className:"max-w-6xl mx-auto py-16 px-4",children:[k.jsxs("div",{className:"text-center mb-12",children:[k.jsx("h2",{className:"text-3xl md:text-4xl font-semibold text-white mb-4",children:"Body Wellness Programs"}),k.jsx("p",{className:"text-base md:text-lg text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Discover our curated programs designed to enhance your physical well-being and vitality."})]}),t&&0!==t.length?k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(t=>(()=>{const n=l(t),r=a.has(n);return k.jsxs("div",{className:"relative bg-gradient-to-br from-purple-900 to-purple-700 rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[k.jsx("button",{type:"button","aria-label":r?"Remove from favourites":"Add to favourites",className:"absolute top-4 right-4 z-10 inline-flex items-center justify-center w-8 h-8 rounded-full bg-white/90 shadow hover:bg-white focus:outline-none focus:ring-2 focus:ring-accent",onClick:e=>{e.preventDefault(),e.stopPropagation(),(e=>{o(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})})(n)},children:r?k.jsx(Cg,{className:"text-red-500"}):k.jsx(Ig,{className:"text-gray-500"})}),t.imageUrl&&k.jsxs("div",{className:"relative h-48",children:[k.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-cover",loading:"lazy"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),k.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:k.jsx("h3",{className:"text-white text-lg font-bold leading-tight line-clamp-2",children:t.title})})]}),t.strip&&k.jsx("div",{className:"bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 text-white px-3 py-2 text-sm font-semibold",children:t.strip}),k.jsxs("div",{className:"bg-white p-6",children:[k.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3",children:t.title}),k.jsx("p",{className:"text-gray-500 mb-4 line-clamp-3",children:t.description}),k.jsxs("div",{className:"flex justify-between items-center mt-4",children:[(()=>{const e="number"==typeof t?.price&&!Number.isNaN(t.price),n="number"==typeof t?.discountPrice&&!Number.isNaN(t.discountPrice),r=e&&n&&t.discountPrice<t.price,s=r?t.discountPrice:t.price;return e&&0!==t.price?k.jsxs("span",{className:"text-lg font-bold text-purple-900",children:["",s.toLocaleString("en-IN"),r?k.jsxs("span",{className:"ml-2 text-sm text-gray-500 line-through font-semibold",children:["",t.price.toLocaleString("en-IN")]}):null]}):k.jsx("span",{className:"text-lg font-semibold text-purple-700",children:"Free"})})(),t.duration&&k.jsx("span",{className:"text-sm text-gray-500",children:t.duration})]}),k.jsx("button",{className:"px-6 py-2 bg-purple-600 text-white rounded-lg font-semibold shadow hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2 transition",onClick:()=>t.slug&&e(`/programs/${t.slug}`),children:"Read More"})]})]},t._id)})())}):k.jsx("div",{className:"text-center py-12",children:k.jsx("p",{className:"text-gray-500",children:"No body programs available at the moment. Please check back later."})})]})})]})}function ww(){const e=s(),{programs:t,loading:n,error:i}=yv("soul"),[a,o]=r.useState(()=>new Set),l=r.useMemo(()=>e=>e?._id||e?.slug?.current||e?.slug||e?.title,[]);return n?k.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):i?k.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:k.jsxs("div",{className:"text-red-500 text-center p-4 max-w-md",children:[k.jsx("h2",{className:"text-xl font-bold mb-2",children:"Error Loading Programs"}),k.jsx("p",{className:"mb-4",children:i.message}),k.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-main text-white rounded-lg font-semibold hover:brightness-105 transition-colors",children:"Try Again"})]})}):k.jsxs("main",{className:"relative min-h-screen w-full bg-background/80",children:[k.jsxs("div",{className:"relative h-[60vh] md:h-[70vh] overflow-hidden",children:[k.jsx("img",{src:"/assets/Soul Banner.jpg",alt:"Soul Wellness Programs Banner",className:"absolute inset-0 w-full h-full object-cover"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 via-black/40 to-black/60"}),k.jsx("div",{className:"relative z-10 h-full flex items-center justify-center",children:k.jsxs("div",{className:"text-center px-4",children:[k.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-6 drop-shadow-2xl",children:"Awaken the Soul"}),k.jsx("p",{className:"text-lg md:text-xl lg:text-2xl text-white/95 max-w-4xl drop-shadow-lg",children:"Live Fully"})]})})]}),k.jsx("div",{className:"relative z-10",children:k.jsxs("div",{className:"max-w-6xl mx-auto py-16 px-4",children:[k.jsxs("div",{className:"text-center mb-12",children:[k.jsx("h2",{className:"text-3xl md:text-4xl font-semibold text-white mb-4",children:"Soul Wellness Programs"}),k.jsx("p",{className:"text-base md:text-lg text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Discover our transformative programs designed to nurture your spiritual growth and inner peace."})]}),t&&0!==t.length?k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(t=>(()=>{const n=l(t),r=a.has(n);return k.jsxs("div",{className:"relative bg-gradient-to-br from-purple-900 to-purple-700 rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[k.jsx("button",{type:"button","aria-label":r?"Remove from favourites":"Add to favourites",className:"absolute top-4 right-4 z-10 inline-flex items-center justify-center w-8 h-8 rounded-full bg-white/90 shadow hover:bg-white focus:outline-none focus:ring-2 focus:ring-accent",onClick:e=>{e.preventDefault(),e.stopPropagation(),(e=>{o(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})})(n)},children:r?k.jsx(Cg,{className:"text-red-500"}):k.jsx(Ig,{className:"text-gray-500"})}),t.imageUrl&&k.jsxs("div",{className:"relative h-48",children:[k.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-cover",loading:"lazy"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),k.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:k.jsx("h3",{className:"text-white text-lg font-bold leading-tight line-clamp-2",children:t.title})})]}),t.strip&&k.jsx("div",{className:"bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 text-white px-3 py-2 text-sm font-semibold",children:t.strip}),k.jsxs("div",{className:"bg-white p-6",children:[k.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3",children:t.title}),k.jsx("p",{className:"text-gray-500 mb-4 line-clamp-3",children:t.description}),k.jsxs("div",{className:"flex justify-between items-center mt-4",children:[(()=>{const e="number"==typeof t?.price&&!Number.isNaN(t.price),n="number"==typeof t?.discountPrice&&!Number.isNaN(t.discountPrice),r=e&&n&&t.discountPrice<t.price,s=r?t.discountPrice:t.price;return e&&0!==t.price?k.jsxs("span",{className:"text-lg font-bold text-purple-900",children:["",s.toLocaleString("en-IN"),r?k.jsxs("span",{className:"ml-2 text-sm text-gray-500 line-through font-semibold",children:["",t.price.toLocaleString("en-IN")]}):null]}):k.jsx("span",{className:"text-lg font-semibold text-purple-700",children:"Free"})})(),k.jsx("button",{className:"px-6 py-2 bg-purple-600 text-white rounded-lg font-semibold shadow hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2 transition",onClick:()=>t.slug?e(`/programs/${t.slug.current||t.slug}`):"#",children:"Read More"})]})]})]},t._id||t.title)})())}):k.jsx("div",{className:"text-center py-12",children:k.jsx("p",{className:"text-gray-500",children:"No soul programs available at the moment. Please check back later."})})]})})]})}function Nw(){const[e,t]=r.useState({email:"",password:""}),[n,o]=r.useState({}),[l,c]=r.useState(!1),u=s(),d=a(),{from:h,message:m}=d.state||{from:"/",message:null},p=e=>{const{name:r,value:s}=e.target;t(e=>({...e,[r]:s})),n[r]&&o(e=>({...e,[r]:null}))};return k.jsxs("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[k.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[k.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Sign in to your account"}),k.jsxs("p",{className:"mt-2 text-center text-sm text-purple-200",children:["Or"," ",k.jsx(i,{to:"/signup",className:"font-medium text-purple-300 hover:text-purple-100 transition-colors duration-200",children:"create a new account"})]})]}),k.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:k.jsx("div",{className:"bg-white/10 backdrop-blur-md py-8 px-4 shadow-2xl sm:rounded-lg sm:px-10 border border-white/20",children:k.jsxs("form",{className:"space-y-6",onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email is invalid"):t.email="Email is required",e.password||(t.password="Password is required"),o(t),0===Object.keys(t).length})()){c(!0),o({});try{const{email:t,password:n}=e,r=await(async(e,t)=>{try{return{success:!0,user:(await Ur(cf,e,t)).user}}catch(n){return{success:!1,error:n.message}}})(t,n);if(r.success)u(h,{replace:!0});else{let e="Login failed. Please check your email and password.";r.error.includes("auth/user-not-found")?e="No account found with this email.":r.error.includes("auth/wrong-password")?e="Incorrect password. Please try again.":r.error.includes("auth/too-many-requests")?e="Too many failed attempts. Please try again later.":r.error.includes("auth/user-disabled")&&(e="This account has been disabled. Please contact support."),o({submit:e})}}catch(n){console.error("Login failed:",n),o({submit:"An unexpected error occurred. Please try again."})}finally{c(!1)}}},children:[n.submit&&k.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-400/30 text-red-100 rounded-lg text-sm",children:n.submit}),k.jsxs("div",{children:[k.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-purple-100",children:["Email address ",k.jsx("span",{className:"text-red-400",children:"*"})]}),k.jsxs("div",{className:"mt-1",children:[k.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:p,className:`appearance-none block w-full px-3 py-2 border ${n.email?"border-red-400":"border-purple-300/30"} rounded-md shadow-sm placeholder-purple-300 bg-white/10 text-white focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-purple-400 sm:text-sm backdrop-blur-sm`}),n.email&&k.jsx("p",{className:"mt-1 text-sm text-red-300",children:n.email})]})]}),k.jsxs("div",{children:[k.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-purple-100",children:["Password ",k.jsx("span",{className:"text-red-400",children:"*"})]}),k.jsxs("div",{className:"mt-1",children:[k.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:e.password,onChange:p,className:`appearance-none block w-full px-3 py-2 border ${n.password?"border-red-400":"border-purple-300/30"} rounded-md shadow-sm placeholder-purple-300 bg-white/10 text-white focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-purple-400 sm:text-sm backdrop-blur-sm`}),n.password&&k.jsx("p",{className:"mt-1 text-sm text-red-300",children:n.password})]})]}),k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center",children:[k.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-purple-300/30 rounded bg-white/10"}),k.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-purple-200",children:"Remember me"})]}),k.jsx("div",{className:"text-sm",children:k.jsx(i,{to:"/reset-password",className:"font-medium text-purple-300 hover:text-purple-100 transition-colors duration-200",children:"Forgot password?"})})]}),k.jsx("div",{children:k.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:l?"Signing in...":"Sign in"})}),k.jsxs("div",{className:"mt-6",children:[k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"absolute inset-0 flex items-center",children:k.jsx("div",{className:"w-full border-t border-purple-300/30"})}),k.jsx("div",{className:"relative flex justify-center text-sm",children:k.jsx("span",{className:"px-2 bg-transparent text-purple-200",children:"Or continue with"})})]}),k.jsx("div",{className:"mt-6",children:k.jsxs("button",{type:"button",onClick:()=>(async()=>{c(!0),o({});try{const e=await yf();e.success?u(h,{replace:!0}):o({submit:`Google login failed: ${e.error||"Please try again."}`})}catch(e){o({submit:"Google login failed. Please try again."})}finally{c(!1)}})(),disabled:l,className:"w-full inline-flex justify-center py-2 px-4 border border-purple-300/30 rounded-md shadow-sm bg-white/10 text-sm font-medium text-purple-200 hover:bg-white/20 disabled:opacity-50 transition-all duration-200 backdrop-blur-sm",children:[k.jsx("span",{className:"sr-only",children:"Sign in with Google"}),k.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:k.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"})}),k.jsx("span",{className:"ml-2",children:"Sign in with Google"})]})})]}),k.jsx("div",{className:"mt-6 text-center",children:k.jsxs("div",{className:"text-sm text-purple-200",children:["Don't have an account?"," ",k.jsx(i,{to:"/signup",className:"font-medium text-purple-300 hover:text-purple-100 transition-colors duration-200",children:"Sign up"})]})})]})})})]})}const jw=({label:e,type:t="text",name:n,placeholder:r,required:s=!0,value:i,onChange:a,error:o,...l})=>k.jsxs("div",{className:"mb-4",children:[k.jsxs("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:[e," ",s&&k.jsx("span",{className:"text-red-500",children:"*"})]}),k.jsx("input",{type:t,id:n,name:n,value:i,onChange:a,placeholder:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-main focus:border-transparent "+(o?"border-red-500":"border-gray-300"),...l}),o&&k.jsx("p",{className:"mt-1 text-sm text-red-600",children:o})]});function Sw(){const e=s(),[t,n]=r.useState({name:"",email:"",mobile:"",password:"",confirmPassword:""}),[a,o]=r.useState({}),[l,c]=r.useState(!1),[u,d]=r.useState(!1),h=e=>{const{name:r,value:s}=e.target;n({...t,[r]:s}),a[r]&&o({...a,[r]:null})};return u?k.jsx("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"max-w-md mx-auto bg-white p-8 rounded-xl shadow-md text-center",children:[k.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:k.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),k.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Created Successfully!"}),k.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been created successfully."}),k.jsx("p",{className:"text-gray-500 text-sm",children:"Redirecting you to the home page..."})]})}):k.jsx("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"max-w-md mx-auto bg-white p-8 rounded-xl shadow-md",children:[k.jsxs("div",{className:"text-center mb-8",children:[k.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create an account"}),k.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Already have an account?"," ",k.jsx(i,{to:"/login",className:"font-medium text-main hover:text-main-dark",children:"Sign in"})]})]}),a.form&&k.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm",children:a.form}),k.jsxs("form",{onSubmit:async n=>{if(n.preventDefault(),(()=>{const e={};return t.name.trim()||(e.name="Name is required"),t.email?/\S+@\S+\.\S+/.test(t.email)||(e.email="Email is invalid"):e.email="Email is required",t.mobile?/^[0-9]{10}$/.test(t.mobile)||(e.mobile="Please enter a valid 10-digit mobile number"):e.mobile="Mobile number is required",t.password?t.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",t.password!==t.confirmPassword&&(e.confirmPassword="Passwords do not match"),o(e),0===Object.keys(e).length})()){c(!0);try{const{name:n,email:r,password:s,mobile:i}=t;console.log("Attempting to sign up with:",{name:n,email:r,mobile:i||"not provided"});const l=await mf(n,r,s,i);if(console.log("Signup result:",l),l.success)d(!0),setTimeout(()=>{e("/login")},2e3);else{let e="Signup failed. Please try again.";l.error.includes("auth/email-already-in-use")?e="An account with this email already exists.":l.error.includes("auth/weak-password")?e="Password should be at least 6 characters.":l.error.includes("auth/invalid-email")&&(e="Please enter a valid email address."),o({...a,form:e})}}catch(r){console.error("Signup failed:",r),o({submit:"Signup failed. Please try again."})}finally{c(!1)}}},className:"space-y-4",children:[k.jsx(jw,{label:"Full Name",name:"name",value:t.name,onChange:h,placeholder:"John Doe",error:a.name}),k.jsx(jw,{label:"Email address",name:"email",type:"email",value:t.email,onChange:h,placeholder:"you@example.com",error:a.email}),k.jsxs("div",{className:"mb-4",children:[k.jsxs("label",{htmlFor:"mobile",className:"block text-sm font-medium text-gray-700 mb-1",children:["Mobile Number ",k.jsx("span",{className:"text-red-500",children:"*"})]}),k.jsxs("div",{className:"flex",children:[k.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:"+91"}),k.jsx("input",{type:"tel",id:"mobile",name:"mobile",value:t.mobile,onChange:h,placeholder:"7019557979",maxLength:"10",className:"flex-1 min-w-0 block w-full px-4 py-2 rounded-r-lg border border-l-0 focus:ring-2 focus:ring-main focus:border-transparent "+(a.mobile?"border-red-500":"border-gray-300")})]}),a.mobile&&k.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.mobile})]}),k.jsx(jw,{label:"Password",name:"password",type:"password",value:t.password,onChange:h,placeholder:"",error:a.password}),k.jsx(jw,{label:"Confirm Password",name:"confirmPassword",type:"password",value:t.confirmPassword,onChange:h,placeholder:"",error:a.confirmPassword}),k.jsx("div",{children:k.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-main hover:bg-accent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-main disabled:opacity-50",children:l?"Creating Account...":"Create Account"})})]}),k.jsxs("div",{className:"mt-6",children:[k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"absolute inset-0 flex items-center",children:k.jsx("div",{className:"w-full border-t border-gray-300"})}),k.jsx("div",{className:"relative flex justify-center text-sm",children:k.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),k.jsx("div",{className:"mt-6",children:k.jsxs("button",{type:"button",onClick:async()=>{c(!0),o({});try{const t=await yf();t.success?e("/"):o({form:`Google sign-in failed: ${t.error||"Please try again."}`})}catch(t){o({form:"Google sign-in failed. Please try again."})}finally{c(!1)}},disabled:l,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[k.jsx("span",{className:"sr-only",children:"Sign in with Google"}),k.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:k.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"})}),k.jsx("span",{className:"ml-2",children:"Sign up with Google"})]})})]})]})})}const kw=()=>{const[e,t]=r.useState(""),[n,a]=r.useState(""),[o,l]=r.useState(""),[c,u]=r.useState(!1);s();return k.jsxs("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[k.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[k.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Reset Your Password"}),k.jsx("p",{className:"mt-2 text-center text-sm text-purple-200",children:"Enter your email address and we'll send you a link to reset your password."})]}),k.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:k.jsxs("div",{className:"bg-white/10 backdrop-blur-md py-8 px-4 shadow-2xl sm:rounded-lg sm:px-10 border border-white/20",children:[n&&k.jsx("div",{className:"mb-4 p-4 bg-green-500/20 border border-green-400/30 text-green-100 rounded-md",children:n}),o&&k.jsx("div",{className:"mb-4 p-4 bg-red-500/20 border border-red-400/30 text-red-100 rounded-md",children:o}),k.jsxs("form",{className:"space-y-6",onSubmit:async t=>{if(t.preventDefault(),e)if(/\S+@\S+\.\S+/.test(e)){u(!0),l(""),a("");try{const t=await ff(e);t.success?a("Password reset email sent! Please check your inbox."):l(t.error||"Failed to send password reset email. Please try again.")}catch(n){console.error("Password reset error:",n),l("An error occurred. Please try again later.")}finally{u(!1)}}else l("Please enter a valid email address");else l("Please enter your email address")},children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-purple-100",children:"Email address"}),k.jsx("div",{className:"mt-1",children:k.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-purple-300/30 rounded-md shadow-sm placeholder-purple-300 bg-white/10 text-white focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-purple-400 sm:text-sm backdrop-blur-sm",placeholder:"you@example.com"})})]}),k.jsx("div",{children:k.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:c?"Sending...":"Send Reset Link"})})]}),k.jsxs("div",{className:"mt-6",children:[k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"absolute inset-0 flex items-center",children:k.jsx("div",{className:"w-full border-t border-purple-300/30"})}),k.jsx("div",{className:"relative flex justify-center text-sm",children:k.jsx("span",{className:"px-2 bg-transparent text-purple-200",children:"Remember your password?"})})]}),k.jsx("div",{className:"mt-6 text-center",children:k.jsx(i,{to:"/login",className:"font-medium text-purple-300 hover:text-purple-100 transition-colors duration-200",children:"Back to Sign in"})})]})]})})]})};function Ew(){return k.jsx("div",{className:"min-h-screen w-full bg-background py-12",children:k.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[k.jsxs(i,{to:"/",className:"flex items-center text-indigo-600 hover:text-indigo-800 mb-6",children:[k.jsx(ug,{className:"mr-2"})," Back to Home"]}),k.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-8",children:"Your Space for Healing, Growth & Inner Transformation"}),k.jsxs("div",{className:"space-y-8",children:[k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("p",{className:"text-gray-700 mb-6",children:"Svasam is a digital sanctuary designed to help you rediscover balance, clarity, and emotional wellbeing. Rooted in ancient wisdom and modern mindfulness, Svasam connects you with trusted guides who support your journey toward happiness, purpose, and inner peace."}),k.jsx("p",{className:"text-gray-700",children:"We believe that true transformation begins with the right guidance  and at Svasam, that guidance is always authentic, compassionate, and personalised."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Our Vision"}),k.jsx("p",{className:"text-gray-700",children:"To create a world where every individual has access to trusted spiritual and emotional support, helping them lead a life filled with joy, clarity, and fulfilment."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Our Mission"}),k.jsx("p",{className:"text-gray-700",children:"To offer meaningful guidance, transformative sessions, and curated content that empower individuals to heal, grow, and thrive  mentally, emotionally, and spiritually."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Who We Are"}),k.jsx("p",{className:"text-gray-700 mb-6",children:"Svasam is more than a platform  it is a safe space where people can reconnect with themselves through conscious practices and supportive mentorship. Our goal is to make spiritual wellness, mindful living, and emotional healing accessible to everyone, no matter where they are in their journey."}),k.jsx("p",{className:"text-gray-700",children:"Our community is built on trust, compassion, and the belief that every person deserves a personalised path to happiness."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"What We Do"}),k.jsx("p",{className:"text-gray-700 mb-6",children:"At Svasam, we offer a range of experiences designed to support your overall wellbeing:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-700 space-y-2 mb-6",children:[k.jsx("li",{children:"1:1 Personal Sessions with experienced Svasam Guides"}),k.jsx("li",{children:"Live group sessions for collective learning and shared healing"}),k.jsx("li",{children:"Curated spiritual and mindfulness content tailored to your needs"}),k.jsx("li",{children:"Workshops and courses that deepen your understanding and practice"})]}),k.jsx("p",{className:"text-gray-700",children:"We combine ancient practices with modern insights to help you navigate challenges, strengthen emotional resilience, and build long-lasting inner harmony."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"How We Do It"}),k.jsx("p",{className:"text-gray-700 mb-6",children:"We bring together handpicked Svasam Guides  experts in healing, spirituality, meditation, mindfulness, emotional wellness, and life transformation."}),k.jsx("p",{className:"text-gray-700 mb-6",children:"Through our platform, you gain access to:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-700 space-y-2 mb-6",children:[k.jsx("li",{children:"Thoughtfully curated wisdom"}),k.jsx("li",{children:"Guided practices and tools"}),k.jsx("li",{children:"Meaningful personal interactions"}),k.jsx("li",{children:"Safe, supportive spaces for expression and growth"})]}),k.jsx("p",{className:"text-gray-700",children:"Every session and piece of content is designed to meet you where you are and help you move forward with clarity and confidence."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Why Choose Svasam"}),k.jsxs("div",{className:"space-y-8",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"1. A Safe & Sacred Space"}),k.jsx("p",{className:"text-gray-700",children:"We prioritise trust, authenticity, and emotional safety. Svasam offers a judgement-free environment where you can explore your inner world freely and honestly."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"2. Genuine Human Connections"}),k.jsx("p",{className:"text-gray-700",children:"Our platform connects you with compassionate mentors who guide you through real conversations, deep listening, and personalised support."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"3. Expert-Led, Mindfully Curated Content"}),k.jsx("p",{className:"text-gray-700",children:"Everything we offer  from sessions to courses  is carefully selected to help you create a life filled with balance, positive energy, and personal growth."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"4. Community-Centric Empowerment"}),k.jsx("p",{className:"text-gray-700",children:"At Svasam, you are at the centre of your journey. We empower you to shape your unique path based on your pace, values, beliefs, and aspirations."})]})]})]}),k.jsxs("div",{className:"bg-indigo-50 rounded-xl border border-indigo-100 p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Our Commitment"}),k.jsx("p",{className:"text-gray-700",children:"We are dedicated to offering a holistic, enriching, and empowering experience that promotes long-term wellbeing. With Svasam, you are never alone  you are supported, guided, and encouraged every step of the way."})]})]})]})})}class Tw{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const Cw={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!=typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},_w=e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},Iw=async(e,t,n={})=>{const r=await fetch(Cw.origin+e,{method:"POST",headers:n,body:t}),s=await r.text(),i=new Tw(r.status,s);if(r.ok)return i;throw i},Pw=(e,t,n)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!=typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!=typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Aw=e=>e.webdriver||!e.languages||0===e.languages.length,Lw=()=>new Tw(451,"Unavailable For Headless Browser"),Ow=(e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!=typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const n=(r=t,s=e.watchVariable,r instanceof FormData?r.get(s):r[s]);var r,s;return"string"==typeof n&&e.list.includes(n)},Mw=()=>new Tw(403,"Forbidden"),Rw=async(e,t,n)=>{if(!t.throttle||!n)return!1;((e,t)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!=typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const r=t.id||e,s=await(async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r})(r,t.throttle,n);return s>0||(await n.set(r,Date.now().toString()),!1)},Dw=()=>new Tw(429,"Too Many Requests"),Fw=async(e,t,n,r)=>{const s=_w(r),i=s.publicKey||Cw.publicKey,a=s.blockHeadless||Cw.blockHeadless,o=s.storageProvider||Cw.storageProvider,l={...Cw.blockList,...s.blockList},c={...Cw.limitRate,...s.limitRate};if(a&&Aw(navigator))return Promise.reject(Lw());if(Pw(i,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(n),n&&Ow(l,n))return Promise.reject(Mw());if(await Rw(location.pathname,c,o))return Promise.reject(Dw());const u={lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:n};return Iw("/api/v1.0/email/send",JSON.stringify(u),{"Content-type":"application/json"})};function zw(){const[e,t]=r.useState({name:"",email:"",phone:"",subject:"general",message:""}),[n,s]=r.useState(!1),[i,a]=r.useState(""),o=n=>{t({...e,[n.target.name]:n.target.value})};return k.jsx("div",{className:"min-h-screen w-full bg-background",children:k.jsxs("div",{className:"max-w-4xl mx-auto py-12 sm:py-16 px-4 md:px-6 lg:px-8",children:[k.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center mb-8 sm:mb-12",children:Ub("contact.title")}),k.jsxs("div",{className:"space-y-8",children:[k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8 md:p-10",children:[k.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-indigo-800 mb-6 sm:mb-8",children:Ub("contact.getInTouch")}),k.jsxs("form",{onSubmit:async n=>{n.preventDefault(),s(!0),a("");try{const n="service_ouvge5f",r="template_8xflp9m",s="bcnO04d0XUUy8dm7E",i={from_name:e.name,from_email:e.email,phone:e.phone,subject:e.subject,message:e.message,to_email:"svasamveda@gmail.com"};200===(await Fw(n,r,i,s)).status?(a("success"),t({name:"",email:"",phone:"",subject:"general",message:""})):a("error")}catch(r){console.error("Error sending email:",r),a("error")}finally{s(!1)}},className:"space-y-6",children:["success"===i&&k.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:"Thank you for your message! We'll get back to you soon."}),"error"===i&&k.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:"Sorry, there was an error sending your message. Please try again later."}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:Ub("contact.fullName")}),k.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:o,required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:Ub("contact.fullNamePlaceholder")})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:Ub("contact.emailAddress")}),k.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:o,required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:Ub("contact.emailPlaceholder")})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:Ub("contact.phoneNumber")}),k.jsx("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:Ub("contact.phonePlaceholder")})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:Ub("contact.subject")}),k.jsxs("select",{id:"subject",name:"subject",value:e.subject,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[k.jsx("option",{value:"general",children:Ub("contact.generalInquiry")}),k.jsx("option",{value:"wellness",children:Ub("contact.wellnessPrograms")}),k.jsx("option",{value:"store",children:Ub("contact.storeProducts")}),k.jsx("option",{value:"appointment",children:Ub("contact.scheduleAppointment")}),k.jsx("option",{value:"other",children:Ub("contact.other")})]})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:Ub("contact.message")}),k.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:o,required:!0,rows:"4",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:Ub("contact.messagePlaceholder")})]}),k.jsx("button",{type:"submit",disabled:n,className:"w-full bg-purple-700 text-white py-3 px-6 rounded-lg hover:bg-purple-800 transition disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:n?k.jsxs(k.Fragment,{children:[k.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):k.jsxs(k.Fragment,{children:[k.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),Ub("contact.sendMessage")]})})]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8 md:p-10",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-8",children:Ub("contact.contactInfo")}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:Ub("contact.contactDetails")}),k.jsxs("div",{className:"space-y-2",children:[k.jsx("p",{className:"text-gray-600",children:"Email: connect@svasam.com"}),k.jsx("p",{className:"text-gray-600",children:"Phone: +91 70195 57979"}),k.jsxs("a",{href:"https://wa.me/917019557979?text=Hi%20Svasam%20Wellness!%20I%20would%20like%20to%20know%20more%20about%20your%20wellness%20programs.",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium",children:[k.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:[k.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.048-.673.076-.197.124-.38.345-.449.637-.069.291-.099.617-.099.967 0 .345.03.693.099 1.037.069.344.03.693-.099 1.037-.069.292-.252.513-.449.637-.202.124-.4.174-.673.076-.272-.099-1.733-.818-2.03-.967-.297-.149-.568-.223-.818-.223-.25 0-.521.074-.818.223-.297.149-1.733.818-2.03.967-.272.099-.471.048-.673-.076-.197-.124-.38-.345-.449-.637-.069-.291-.099-.617-.099-.967 0-.345.03-.693.099-1.037.069-.344.03-.693.099-1.037.069-.292.252-.513.449-.637.202-.124.4-.174.673-.076z"}),k.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]}),"Chat on WhatsApp"]}),k.jsx("p",{className:"text-gray-600",children:"Customer Support: Mon-Sat, 10 AM - 7 PM"})]})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:Ub("contact.businessHours")}),k.jsxs("div",{className:"space-y-2",children:[k.jsx("p",{className:"text-gray-600",children:"Monday - Friday: 10:00 AM - 7:00 PM"}),k.jsx("p",{className:"text-gray-600",children:"Saturday: 10:00 AM - 6:00 PM"}),k.jsx("p",{className:"text-gray-600",children:"Sunday: Closed"})]})]})]})]}),k.jsxs("section",{className:"my-16 max-w-4xl mx-auto",children:[k.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center mb-8 sm:mb-12",children:Ub("contact.title")}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("details",{className:"bg-white rounded-xl shadow p-4",children:[k.jsx("summary",{className:"font-semibold text-indigo-700 cursor-pointer",children:Ub("contact.faqQuestion1")}),k.jsx("p",{className:"mt-2 text-gray-700",children:"You can schedule a session by contacting our customer support team or using our online booking system. Simply provide your preferred date and time, and we'll help you find the right wellness practitioner for your needs."})]}),k.jsxs("details",{className:"bg-white rounded-xl shadow p-4",children:[k.jsx("summary",{className:"font-semibold text-indigo-700 cursor-pointer",children:Ub("contact.faqQuestion2")}),k.jsx("p",{className:"mt-2 text-gray-700",children:"We accept various payment methods including credit/debit cards, UPI, net banking, and cash on delivery for our wellness programs and store products."})]}),k.jsxs("details",{className:"bg-white rounded-xl shadow p-4",children:[k.jsx("summary",{className:"font-semibold text-indigo-700 cursor-pointer",children:Ub("contact.faqQuestion3")}),k.jsx("p",{className:"mt-2 text-gray-700",children:"Yes, you can cancel your appointment up to 24 hours before the scheduled time. Please contact our customer support team for assistance."})]})]})]})]})]})})}function Uw(){return k.jsx("div",{className:"min-h-screen w-full bg-background",children:k.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[k.jsxs(i,{to:"/",className:"flex items-center text-indigo-600 hover:text-indigo-800 mb-6",children:[k.jsx(ug,{className:"mr-2"})," Back to Home"]}),k.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-8",children:"Refund & Cancellation Policy"}),k.jsxs("div",{className:"space-y-8",children:[k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("p",{className:"text-gray-700 mb-6",children:"At Svasam, we are committed to offering a smooth and meaningful experience by connecting you with trusted guides across diverse modalities and practices. Our intention is to create a sacred digital space where you can grow, heal, and find fulfillment through virtual workshops, curated content, and personalized sessions with experienced practitioners."}),k.jsx("p",{className:"text-gray-700",children:"We understand that unexpected situations may occur. This Refund & Cancellation Policy explains the conditions under which a User may cancel a session or request a refund. Please note that certain terms may vary between different Offerings and Platform Services. Payment options may also differ accordingly."}),k.jsx("p",{className:"text-gray-700 mt-4",children:"We take violations of our Terms of Use seriously. Svasam is under no obligation to process refunds for any User who breaches these Terms or any other Platform policies, even if the refund request falls within the standard refund window."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"1. Cancellation & Rescheduling"}),k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"A. Cancellation"}),k.jsx("h4",{className:"text-lg font-medium text-gray-900 mt-4 mb-2",children:"Cancellation by the User"}),k.jsx("p",{className:"mb-4",children:"For Individual and Live Group Sessions: Users may cancel their booked sessions by notifying Svasam at least 24 hours before the session start time. Eligible cancellations will receive a full refund, processed as per Section 2."}),k.jsxs("p",{className:"mb-4",children:["To request a cancellation, Users must email: ",k.jsx("a",{href:"mailto:connect@svasam.com",className:"text-indigo-600 hover:underline",children:"connect@svasam.com"})," with their booking details."]}),k.jsx("p",{className:"mb-6",children:"Failure to provide the 24-hour notice will make the User ineligible for an automatic refund. Any such refunds may be granted only at the sole discretion of Svasam."}),k.jsx("p",{className:"mb-6",children:'If a User does not attend a scheduled Individual or Live Session without prior cancellation or rescheduling, it will be considered a "No-Show", and no refund will be issued.'}),k.jsx("h4",{className:"text-lg font-medium text-gray-900 mt-6 mb-2",children:"Cancellation by Svasam"}),k.jsx("p",{className:"mb-6",children:"If a session is cancelled by Svasam due to unforeseen circumstances, the User will receive a full refund to the original payment method. Affected Users will be notified at the earliest possible time."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"B. Rescheduling Policy"}),k.jsx("p",{className:"mb-4",children:"Users may request to reschedule an Individual Session only once, provided the request is submitted at least 24 hours before the scheduled time."}),k.jsx("p",{className:"mb-4",children:"All rescheduling requests depend on the availability of the Guide/Leader. Svasam does not guarantee that a reschedule will always be accommodated."}),k.jsx("p",{className:"mb-6",children:"If rescheduling is not possible, Users may request a refund within 48 hours of being informed that the reschedule attempt failed."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"C. Technical Issues"}),k.jsx("p",{className:"mb-4",children:"If a session is affected by technical issues, Users must report the problem immediately through:"}),k.jsxs("p",{className:"mb-6",children:["Email: ",k.jsx("a",{href:"mailto:connect@svasam.com",className:"text-indigo-600 hover:underline",children:"connect@svasam.com"})]}),k.jsx("p",{className:"mb-6",children:"Svasam will review each case individually and may, at its discretion, offer a refund or a rescheduled session."}),k.jsx("p",{className:"mb-2 italic text-gray-600",children:"Please note: If a session has zero attendees, no recording will be generated or shared."})]})]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"2. Refund Process"}),k.jsx("p",{className:"text-gray-700",children:"All approved refunds will be processed within 57 working days and credited to the original mode of payment."}),k.jsx("p",{className:"text-gray-700 mt-2",children:"Refunds apply only to payments made directly through the Platform using the integrated payment gateway."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"3. Payments to Third Parties"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"Users acknowledge that Svasam acts as a facilitator, connecting Users with Guides, and does not control or guarantee the outcomes of any Offerings such as Courses or Sessions."}),k.jsx("p",{className:"text-gray-700 mb-4",children:"Payments made to third-party service providerswhether through the Platform or otherwiseare non-refundable. Svasam assumes no responsibility for such transactions."}),k.jsx("p",{className:"text-gray-700",children:"Users are advised to review the cancellation and refund policies of any third-party provider before making payments."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"4. Company Discretion"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"All cancellation, refund, and rescheduling requests are handled at the sole discretion of Svasam. The Company reserves full authority to approve or reject refund requests based on the circumstances."}),k.jsx("p",{className:"text-gray-700",children:"In the event of any disputes, the decision of Svasam shall be final and binding."})]}),k.jsxs("div",{className:"bg-indigo-50 rounded-xl border border-indigo-100 p-8",children:[k.jsx("p",{className:"text-gray-800 mb-4",children:"By booking any Offeringincluding Courses, Individual Sessions, or Live Group SessionsUsers confirm that they have read, understood, and agreed to this Refund & Cancellation Policy, along with Svasam's Terms of Use and Privacy Policy."}),k.jsxs("p",{className:"text-gray-700",children:["For any further queries, please contact: ",k.jsx("a",{href:"mailto:connect@svasam.com",className:"text-indigo-600 hover:underline",children:"connect@svasam.com"})]})]})]})]})})}function Vw(){return k.jsx("div",{className:"min-h-screen w-full bg-background py-12",children:k.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[k.jsxs(i,{to:"/",className:"flex items-center text-indigo-600 hover:text-indigo-800 mb-6",children:[k.jsx(ug,{className:"mr-2"})," Back to Home"]}),k.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-8",children:"Shipping Policy"}),k.jsxs("div",{className:"space-y-8",children:[k.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:k.jsx("p",{className:"text-gray-700 mb-6",children:"At Svasam, we are committed to ensuring that your order reaches you safely, quickly, and in excellent condition. Every package is handled with care, and we work with trusted delivery partners to provide a smooth and reliable shipping experience."})}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Dispatch & Delivery Timeline"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-700 space-y-2 mb-6",children:[k.jsx("li",{children:"All prepaid orders are dispatched on the next working day."}),k.jsxs("li",{children:["Standard delivery timeframes:",k.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[k.jsx("li",{children:"Non-customized products: typically delivered within 56 working days from dispatch"}),k.jsx("li",{children:"Customized products: usually delivered within 59 working days from dispatch"})]})]})]}),k.jsx("p",{className:"text-gray-700 mb-4",children:"We process and ship orders from Monday to Saturday, excluding public holidays."}),k.jsx("p",{className:"text-gray-700",children:"To ensure safe and timely delivery, we ship through reputed courier partners such as Delhivery, Blue Dart, FedEx, and other reliable logistics providers. If courier service is unavailable in your location, we may send your order through India Post, depending on feasibility."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Domestic Shipping"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-700 space-y-2 mb-6",children:[k.jsx("li",{children:"We ship to all major cities and towns across India."}),k.jsx("li",{children:"Shipping charges vary based on location and product weight."}),k.jsx("li",{children:"Free shipping on orders above 1999."})]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"International Shipping"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-700 space-y-2 mb-6",children:[k.jsx("li",{children:"Currently available for select countries."}),k.jsx("li",{children:"Additional customs and import duties may apply."}),k.jsx("li",{children:"Shipping charges calculated at checkout."})]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Shipping Times"}),k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"Processing Time"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-700 space-y-2",children:[k.jsx("li",{children:"Orders are processed within 2-3 business days."}),k.jsx("li",{children:"Custom orders may take longer (5-7 business days)."}),k.jsx("li",{children:"Processing time may vary during peak seasons."})]})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"Delivery Time"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-700 space-y-2",children:[k.jsx("li",{children:"Standard Delivery: 5-7 business days"}),k.jsx("li",{children:"Express Delivery: 2-3 business days (additional charges apply)"}),k.jsx("li",{children:"Delivery times may vary based on location."})]})]})]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Shipping Charges"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-700 space-y-2 mb-6",children:[k.jsx("li",{children:"Shipping within India: Free for all prepaid orders."}),k.jsx("li",{children:"For multiple or heavy items, shipping charges may vary based on weight, size, and destination."}),k.jsx("li",{children:"GST is included in our product prices, and Svasam is fully GST-compliant."}),k.jsxs("li",{children:["For international shipping, kindly email us at ",k.jsx("a",{href:"mailto:connect@svasam.com",className:"text-indigo-600 hover:underline",children:"connect@svasam.com"})," for assistance."]})]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Express Delivery"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"We offer expedited delivery for prepaid orders in major cities. In most cases, express shipments reach customers within 45 working days, depending on the serviceability of the delivery location."}),k.jsx("p",{className:"text-gray-700",children:"For remote areas, customers may be required to collect the parcel from the nearest courier pickup point."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Damaged or Tampered Packages"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"If your package arrives in poor condition or appears tampered with, please do not accept the delivery. Instead:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-700 space-y-2 mb-6",children:[k.jsx("li",{children:"Refuse the package"}),k.jsxs("li",{children:["Email us immediately at ",k.jsx("a",{href:"mailto:connect@svasam.com",className:"text-indigo-600 hover:underline",children:"connect@svasam.com"})," with your Order ID and photos"]})]}),k.jsx("p",{className:"text-gray-700",children:"We will arrange a reverse pickup and send you a replacement at no extra cost, provided the original packaging and tags remain intact."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Order Cancellation"}),k.jsxs("p",{className:"text-gray-700 mb-4",children:["If you need to cancel an order, please email us at ",k.jsx("a",{href:"mailto:connect@svasam.com",className:"text-indigo-600 hover:underline",children:"connect@svasam.com"})," within 30 minutes of placing it."]}),k.jsx("p",{className:"text-gray-700 mb-4",children:"Orders that have already been packed or dispatched cannot be cancelled. In most situations, once an order is placed, cancellation may not be possible  but you can always reach out, and we will assist you with the best available option."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Replacements & Refunds"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"At Svasam, we issue refunds only when a replacement cannot be provided."}),k.jsx("p",{className:"text-gray-700 mb-4",children:"Once the returned item reaches us, it undergoes a quality check. If approved:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-700 space-y-2 mb-6",children:[k.jsx("li",{children:"Refunds are processed to the original payment method, or any alternative mutually agreed method."}),k.jsx("li",{children:"Refund timelines depend on your bank or card issuer's policies."})]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Non-Returnable & Final Sale Policy"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"All sales on Svasam are final, and most items are non-returnable. We do not provide refunds or replacements for:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-700 space-y-2 mb-6",children:[k.jsx("li",{children:"Products without defects"}),k.jsx("li",{children:"Requests based on minor aesthetic differences (colour shades, textures, sound variation, etc.)"}),k.jsx("li",{children:"Normal wear or small transit marks that do not affect functionality"})]}),k.jsx("p",{className:"text-gray-700 mb-4",children:"We only replace items that have:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-700 space-y-2 mb-6",children:[k.jsx("li",{children:"Manufacturing defects, or"}),k.jsx("li",{children:"Damage verified through photos or videos"})]}),k.jsx("p",{className:"text-gray-700 mb-4",children:"To qualify for replacement:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-700 space-y-2 mb-6",children:[k.jsx("li",{children:"The product must be unused, in original condition, with all packaging and accessories intact"}),k.jsx("li",{children:"You must share clear images/videos of the defect and shipping label"})]}),k.jsx("p",{className:"text-gray-700",children:"If, after inspection, no defect is found, both forward and return shipping charges will be borne by the customer."})]}),k.jsxs("div",{className:"bg-indigo-50 rounded-xl border border-indigo-100 p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Need Assistance?"}),k.jsxs("p",{className:"text-gray-700 mb-6",children:["For any delivery-related queries, support, or clarification, please contact us: ",k.jsx("a",{href:"mailto:connect@svasam.com",className:"text-indigo-600 hover:underline",children:"connect@svasam.com"})]}),k.jsx("p",{className:"text-gray-700",children:"We're here to help ensure your shopping experience with Svasam is smooth, safe, and satisfying."})]})]})]})})}function Bw(){return k.jsx("div",{className:"min-h-screen w-full bg-background",children:k.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[k.jsxs(i,{to:"/",className:"flex items-center text-indigo-600 hover:text-indigo-800 mb-6",children:[k.jsx(ug,{className:"mr-2"})," Back to Home"]}),k.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-8",children:"Terms and Conditions"}),k.jsxs("div",{className:"space-y-8",children:[k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("p",{className:"text-gray-700 mb-6",children:'Welcome to Svasam (the "Platform"). The Platform is developed and operated by Svasamveda Life Sciences Pvt Ltd. Throughout these Terms of Use ("Terms"), the words "Svasamveda Life Sciences Pvt Ltd", "we", "us", or "our" refer to the company. The words "you" or "User(s)" refer to anyone who accesses or uses the Platform, including:'}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2 mb-6",children:[k.jsxs("li",{children:[k.jsx("span",{className:"font-medium",children:"Leaders"}),"  individuals who create or share courses, content, live sessions, or 1:1 sessions"]}),k.jsxs("li",{children:[k.jsx("span",{className:"font-medium",children:"Learners"}),"  individuals who access the Platform to learn skills or consume content"]}),k.jsx("li",{children:"Any user accessing the Platform in any capacity"})]}),k.jsx("p",{className:"text-gray-700 mb-4",children:"Use of this Platform is intended only for users located in India and accessing it from India."}),k.jsxs("p",{className:"text-gray-700",children:["These Terms of Use, along with our ",k.jsx("a",{href:"https://svasam.in/privacy-policy",className:"text-indigo-600 hover:underline",children:"Privacy Policy"}),' and any additional policies or rules referenced here or displayed on the Platform, together form the "Platform Terms."']})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"1. Intermediary Role"}),k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"1.1 Intermediary Status"}),k.jsx("p",{className:"text-gray-700",children:"Svasam acts as an online intermediary that enables Leaders to create, upload, and publish content in various formats (audio, video, written, live, etc.). Learners may access Courses, Live Sessions, and Individual Sessions through the Platform."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"1.2 User Responsibilities"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[k.jsx("li",{children:"You acknowledge that Svasam does not control, monitor, or verify any User-generated Content."}),k.jsx("li",{children:"By using the Platform, you release Svasam from any liability arising from such content."})]})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"1.3 Platform Services"}),k.jsx("p",{className:"text-gray-700",children:'"Services" or "Platform Services" include all offerings made available on Svasam, including courses, memberships, community features, and any future services.'})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"1.4 Right to Modify or Discontinue Services"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[k.jsx("li",{children:"We may modify or discontinue any Service, Content, or feature at any time without notice."}),k.jsx("li",{children:"Your access may be restricted or terminated if required information is not provided."})]})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"1.5 Service Outcome Disclaimer"}),k.jsx("p",{className:"text-gray-700",children:"Svasam is solely an intermediary and is not responsible for the outcomes of any coaching, mentoring, consulting, or learning experience delivered by a Leader."})]})]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"2. Offerings"}),k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"2.1 Account Registration"}),k.jsx("p",{className:"text-gray-700",children:"Creating an account may be required to access certain features. Registration is free, but some Services may be paid."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"2.2 Age Requirement"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[k.jsx("li",{children:"Users must be 18 years or older."}),k.jsx("li",{children:"If a Minor uses the Platform, it must be with parental consent and supervision, and the Parent is deemed to have accepted these Terms."})]})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"2.3 Course Access"}),k.jsx("p",{className:"text-gray-700 mb-2",children:"After signing up for a Course, Svasam may share:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[k.jsx("li",{children:"Course materials and updates"}),k.jsx("li",{children:"Zoom/WhatsApp/other third-party links"}),k.jsx("li",{children:"Reminders and notifications"}),k.jsx("li",{children:"Leader responses to user queries"})]})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"2.4 Third-Party Platforms"}),k.jsx("p",{className:"text-gray-700",children:"Access to certain content may require apps like Zoom, YouTube, or others. You must agree to the terms of those platforms before using them."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"2.5 Leaders"}),k.jsx("p",{className:"text-gray-700",children:"Leaders using the Platform may be bound by additional agreements with Svasam."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"2.6 Account Security"}),k.jsx("p",{className:"text-gray-700",children:"You are responsible for keeping your login details confidential and for all activity on your account."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"2.7 Accuracy of Information"}),k.jsx("p",{className:"text-gray-700",children:"You agree to provide accurate information and update it when required."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"2.8 Right to Reject or Disable Accounts"}),k.jsx("p",{className:"text-gray-700",children:"Svasam may refuse, suspend, or terminate accounts if needed for legal, security, or policy reasons."})]})]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"3. Payments"}),k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"3.1 Course Fees"}),k.jsx("p",{className:"text-gray-700",children:"Paid Courses or Sessions require payment of applicable fees. Payments are processed by third-party payment gateways, and their terms apply."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"3.2 Refunds"}),k.jsx("p",{className:"text-gray-700",children:"Refunds are available only as specified in our Refund and Cancellation Policy."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"3.3 Purchase Scope"}),k.jsx("p",{className:"text-gray-700",children:"Payment grants access only to the specific Course or Session purchased."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"3.4 Validity of Individual Sessions"}),k.jsx("p",{className:"text-gray-700",children:"Individual Sessions must be scheduled and used within 3 months of purchase, after which they expire automatically with no refund."})]})]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"4. User Conduct"}),k.jsx("p",{className:"text-gray-700 mb-6",children:"Users agree to:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2 mb-6",children:[k.jsx("li",{children:"Follow all Platform Terms and applicable laws"}),k.jsx("li",{children:"Not use the Platform for unlawful purposes"}),k.jsx("li",{children:"Not hack, copy, disrupt, or reverse-engineer any part of the Platform"}),k.jsx("li",{children:"Not upload harmful code, viruses, malware, or intrusive scripts"}),k.jsx("li",{children:"Not scrape, harvest data, or impersonate others"}),k.jsx("li",{children:"Not upload illegal, harmful, obscene, abusive, or infringing content"}),k.jsx("li",{children:"Not upload content violating privacy, IP rights, or public order"})]}),k.jsx("p",{className:"text-gray-700",children:"Svasam may remove any User-generated Content that violates these Terms."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"5. Intellectual Property"}),k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"5.1 Platform IP"}),k.jsx("p",{className:"text-gray-700",children:"All rights to the Platformincluding design, code, visuals, layout, and contentbelong exclusively to Svasamveda Life Sciences Pvt Ltd."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"5.2 Trademarks"}),k.jsx("p",{className:"text-gray-700",children:"Logos, trademarks, and brand elements are owned by Svasam or its licensors."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"5.3 License to Users"}),k.jsx("p",{className:"text-gray-700",children:"Users receive a limited, non-transferable, non-commercial license to use the Platform."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"5.4 Ownership of User Content"}),k.jsx("p",{className:"text-gray-700",children:"Users own their User-generated Content but grant Svasam a non-exclusive, royalty-free, transferable license to use it for platform operations, marketing, and improvements."}),k.jsx("p",{className:"text-gray-700 mt-2",children:"Svasam will not disclose personal data unless anonymized, aggregated, or as permitted by the Privacy Policy."})]})]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"6. Reservation of Rights"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"Svasam reserves the right to:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[k.jsx("li",{children:"Update, upgrade, or discontinue the Platform"}),k.jsx("li",{children:"Reject or terminate accounts"}),k.jsx("li",{children:"Remove violating content"}),k.jsx("li",{children:"Modify or refuse Services"}),k.jsx("li",{children:"Access accounts for safety, legal, or technical reasons"})]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"7. Personal Information"}),k.jsxs("p",{className:"text-gray-700",children:["Our handling of your personal data is governed by the Svasam ",k.jsx("a",{href:"/privacy-policy",className:"text-indigo-600 hover:underline",children:"Privacy Policy"}),"."]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"8. Disclaimers"}),k.jsx("p",{className:"text-gray-700 mb-4",children:'The Platform is provided "as is" and "as available." Svasam disclaims all warranties regarding:'}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2 mb-6",children:[k.jsx("li",{children:"Accuracy of content"}),k.jsx("li",{children:"Security or uptime"}),k.jsx("li",{children:"User-generated content"}),k.jsx("li",{children:"Errors, interruptions, viruses"}),k.jsx("li",{children:"Third-party actions or services"})]}),k.jsx("p",{className:"text-gray-700",children:"You are responsible for using your judgment before engaging with any Leader or content."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"9. Indemnity"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"You agree to indemnify and hold harmless Svasamveda Life Sciences Pvt Ltd and its associates from any claims arising from your:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2 mb-6",children:[k.jsx("li",{children:"Use of the Platform"}),k.jsx("li",{children:"Violation of these Terms"}),k.jsx("li",{children:"Violation of third-party rights"}),k.jsx("li",{children:"Uploading of infringing content"}),k.jsx("li",{children:"Misconduct or negligence"})]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"10. Limitation of Liability"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"Svasam will not be liable for any direct, indirect, incidental, or consequential damages arising from:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2 mb-6",children:[k.jsx("li",{children:"User-generated Content"}),k.jsx("li",{children:"Unauthorized access"}),k.jsx("li",{children:"Technical failures"}),k.jsx("li",{children:"Viruses, malware, or harmful code"}),k.jsx("li",{children:"Use of third-party links or services"})]}),k.jsx("p",{className:"text-gray-700",children:"Your use of the Platform is at your own risk."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"11. Governing Law"}),k.jsx("p",{className:"text-gray-700",children:"These Terms are governed by Indian law, with exclusive jurisdiction of courts located in Bangalore."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"12. Miscellaneous"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[k.jsx("li",{children:"Terms may be modified at any time. Continued use constitutes acceptance."}),k.jsx("li",{children:"Force Majeure applies to events beyond our control."}),k.jsx("li",{children:"If any provision is invalid, the remaining Terms remain enforceable."})]})]}),k.jsxs("div",{className:"bg-indigo-50 rounded-xl border border-indigo-100 p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"13. Grievance Redressal"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"Our team aims to acknowledge queries within 24 hours and resolve them within 15 days."}),k.jsx("p",{className:"text-gray-700 mb-2",children:k.jsx("span",{className:"font-medium",children:"Grievance Officer:"})}),k.jsxs("p",{className:"text-gray-700 mb-2",children:[k.jsx("span",{className:"font-medium",children:"Company:"})," Svasamveda Life Sciences Pvt Ltd"]}),k.jsxs("p",{className:"text-gray-700",children:[k.jsx("span",{className:"font-medium",children:"Email:"})," ",k.jsx("a",{href:"mailto:connect@svasam.com",className:"text-indigo-600 hover:underline",children:"connect@svasam.com"})]})]})]})]})})}function qw(){return k.jsx("div",{className:"min-h-screen w-full bg-background",children:k.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[k.jsxs(i,{to:"/",className:"flex items-center text-indigo-600 hover:text-indigo-800 mb-6",children:[k.jsx(ug,{className:"mr-2"})," Back to Home"]}),k.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-8",children:"Privacy Policy"}),k.jsxs("div",{className:"space-y-8",children:[k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("p",{className:"text-gray-700 mb-6",children:'At Svasamveda Life Sciences (OPC) Private Limited ("Svasam", "we", "our", "us"), we are committed to protecting your privacy and ensuring a safe, transparent, and trustworthy digital experience. This Privacy Policy explains how we collect, use, store, share, and safeguard your information when you access our website, mobile application, or any services offered through our Platform (collectively, the "Platform").'}),k.jsx("p",{className:"text-gray-700",children:"By using our Platform, you acknowledge that you have read and agreed to the practices described in this Privacy Policy, along with our Terms of Use."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"1. Information We Collect"}),k.jsx("p",{className:"text-gray-700 mb-6",children:"We collect information in order to provide our services, improve user experience, and maintain Platform functionality. The types of information we may collect include:"}),k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"A. Information Provided by You"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"This includes details you voluntarily submit when interacting with the Platform, such as:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[k.jsx("li",{children:"Name, email address, phone number"}),k.jsx("li",{children:"Account login information"}),k.jsx("li",{children:"Profile information including demographics"}),k.jsx("li",{children:"Messages, feedback, or queries shared through the Platform"}),k.jsx("li",{children:"Documents required for identity verification (for Leaders/Guides, where applicable)"})]})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"B. Information Automatically Collected"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"When you use the Platform, certain data is collected automatically, including:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[k.jsx("li",{children:"Device details (type, OS, browser)"}),k.jsx("li",{children:"IP address and approximate location"}),k.jsx("li",{children:"Browsing behavior, interaction patterns, and usage analytics"}),k.jsx("li",{children:"Cookies and similar tracking technologies"})]})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"C. Information from Third Parties"}),k.jsx("p",{className:"text-gray-700",children:"If you choose to sign in via Google, Apple, or other linked platforms, we may receive limited profile information as permitted by your settings."})]})]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"2. How We Use Your Information"}),k.jsx("p",{className:"text-gray-700 mb-6",children:"We use your information for the following purposes:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2 mb-6",children:[k.jsx("li",{children:"To create and manage user accounts"}),k.jsx("li",{children:"To deliver, personalise, and improve Platform services"}),k.jsx("li",{children:"To communicate updates, reminders, and relevant notifications"}),k.jsx("li",{children:"To resolve queries and provide customer support"}),k.jsx("li",{children:"To monitor system performance and ensure security"}),k.jsx("li",{children:"To comply with legal or regulatory requirements"}),k.jsx("li",{children:"To enhance User and Leader matching and session experience"})]}),k.jsx("p",{className:"text-gray-700",children:"We do not sell your personal information to third parties."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"3. Sharing of Information"}),k.jsx("p",{className:"text-gray-700 mb-6",children:"We may share your information in the following circumstances:"}),k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"A. With Service Providers"}),k.jsx("p",{className:"text-gray-700",children:"Trusted third-party vendors that support operations such as payment processing, analytics, hosting, or customer support."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"B. With Leaders/Guides"}),k.jsx("p",{className:"text-gray-700",children:"Only when required to deliver the sessions or services requested by you."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"C. For Legal Obligations"}),k.jsx("p",{className:"text-gray-700",children:"If required by law, regulation, or legal process, we may disclose your information to the appropriate authorities."})]}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"D. Corporate Transactions"}),k.jsx("p",{className:"text-gray-700",children:"In case of a merger, acquisition, restructuring, or transfer of assets, your information may be shared with the successor entity."})]})]}),k.jsx("p",{className:"text-gray-700 mt-6",children:"All partners and vendors are required to follow appropriate privacy and security safeguards."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"4. Cookies & Tracking"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"We use cookies and related tools to:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2 mb-6",children:[k.jsx("li",{children:"Enhance Platform performance"}),k.jsx("li",{children:"Remember your preferences"}),k.jsx("li",{children:"Improve overall user experience"}),k.jsx("li",{children:"Analyse usage patterns"})]}),k.jsx("p",{className:"text-gray-700",children:"You may disable cookies in your browser settings, but certain features may not work correctly."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"5. Your Rights & Choices"}),k.jsx("p",{className:"text-gray-700 mb-6",children:"Depending on applicable laws, you may have the right to:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2 mb-6",children:[k.jsx("li",{children:"Access the information we hold about you"}),k.jsx("li",{children:"Update or correct your personal details"}),k.jsx("li",{children:"Request that your personal data be deleted"}),k.jsx("li",{children:"Withdraw consent for non-essential communications"}),k.jsx("li",{children:"Request clarification about our data practices"})]}),k.jsx("p",{className:"text-gray-700",children:"For data access, corrections, or deletion requests, please write to us."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"6. Data Retention"}),k.jsx("p",{className:"text-gray-700 mb-6",children:"We retain your information for as long as necessary to:"}),k.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2 mb-6",children:[k.jsx("li",{children:"Provide our services"}),k.jsx("li",{children:"Meet legal and regulatory requirements"}),k.jsx("li",{children:"Resolve disputes"}),k.jsx("li",{children:"Enforce agreements and policies"})]}),k.jsx("p",{className:"text-gray-700",children:"Once retention is no longer required, we securely delete or anonymize your data."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"7. Data Security"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"We use industry-standard measures to safeguard your personal information. While we take all reasonable precautions, no digital system can guarantee absolute security."}),k.jsx("p",{className:"text-gray-700",children:"We encourage Users to maintain the confidentiality of their login credentials."})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"8. Children's Privacy"}),k.jsx("p",{className:"text-gray-700",children:'Our Platform is not intended for individuals below the legally defined age of a "Minor." If you provide information of a Minor, you confirm that you are the lawful parent/guardian and authorized to do so.'})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"9. Updates to This Policy"}),k.jsx("p",{className:"text-gray-700",children:"We may revise this Privacy Policy periodically to reflect updates to our practices or legal requirements. Any significant changes will be posted on the Platform. Continued use of the Platform constitutes acceptance of the revised Policy."})]}),k.jsxs("div",{className:"bg-indigo-50 rounded-xl border border-indigo-100 p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"10. Contact & Grievance Officer"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"For privacy-related questions, concerns, or requests, please contact:"}),k.jsxs("p",{className:"text-gray-700 mb-2",children:[k.jsx("span",{className:"font-medium",children:"Company:"})," Svasamveda Life Sciences (OPC) Private Limited"]}),k.jsxs("p",{className:"text-gray-700",children:[k.jsx("span",{className:"font-medium",children:"Email:"})," ",k.jsx("a",{href:"mailto:connect@svasam.com",className:"text-indigo-600 hover:underline",children:"connect@svasam.com"})]}),k.jsx("p",{className:"text-gray-700 mt-4",children:"We aim to acknowledge concerns within 24 hours and resolve them within 15 days."})]})]})]})})}function $w(){const[e,t]=r.useState([]),[n,s]=r.useState(!0),[i,a]=r.useState(null);return r.useEffect(()=>{let e=!1;return async function(){s(!0),a(null);try{const n='*[_type == "session"] | order(_createdAt desc) {\n          _id,\n          title,\n          shortDescription,\n          mediaType,\n          tags,\n          // dereference file asset url\n          "fileUrl": file.asset->url,\n          // dereference thumbnail asset url\n          "thumbnail": thumbnail.asset->url\n        }',r=await mv.fetch(n);e||t(Array.isArray(r)?r:[])}catch(n){e||a(n)}finally{e||s(!1)}}(),()=>{e=!0}},[]),{sessions:e,loading:n,error:i}}const Hw="/assets/Library Banner.jpg",Ww=({to:e,title:t,description:n,image:r,alt:s,subtitle:a})=>k.jsx("div",{className:"h-full w-full",children:k.jsxs(i,{to:e,className:"w-full h-full group block","aria-label":Ub("categories.exploreAriaLabel",{title:t}),children:[k.jsxs("div",{className:"md:hidden bg-white rounded-2xl shadow-xl p-4 w-full flex flex-col items-center hover:shadow-2xl hover:scale-105 transition-all duration-300 border border-purple-100 mx-auto max-w-36",children:[k.jsxs("div",{className:"h-16 w-16 mb-3 relative",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-100 to-purple-200 rounded-full"}),k.jsx("img",{src:r,alt:s,className:"w-full h-full object-contain relative z-10",loading:"lazy"})]}),k.jsx("h2",{className:"text-sm font-semibold text-gray-800 text-center line-clamp-2",children:t})]}),k.jsxs("div",{className:"hidden md:flex bg-white rounded-3xl shadow-xl p-4 hover:shadow-2xl hover:scale-105 transition-all duration-300 w-full h-[320px] flex flex-col border border-purple-100 mx-auto max-w-md",children:[k.jsxs("div",{className:"h-36 w-36 mx-auto mb-3 flex-shrink-0 relative",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl"}),k.jsx("img",{src:r,alt:s,className:"w-full h-full object-contain relative z-10",loading:"lazy",style:{maxWidth:"100%",maxHeight:"100%"}})]}),k.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center",children:[k.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2 line-clamp-2 px-2",children:t}),a&&k.jsx("p",{className:"text-base text-gray-600 font-medium px-2 line-clamp-2",children:a})]}),k.jsx("div",{className:"mt-2 pt-2 border-t border-purple-100",children:k.jsxs("div",{className:"flex items-center justify-center text-sm font-semibold text-purple-600 group-hover:text-purple-700 transition-colors",children:[k.jsx("span",{className:"mr-2",children:Ub("categories.explore")}),k.jsx("svg",{className:"w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})]})});function Gw(){const{sessions:e,loading:t,error:n}=$w(),r=[{id:"mind",title:Ub("categories.mind.title"),description:Ub("categories.mind.description"),subtitle:"Master your Mind. Elevate your Life",image:"/assets/Mind.png",alt:Ub("categories.mind.alt")},{id:"body",title:Ub("categories.body.title"),description:Ub("categories.body.description"),subtitle:"Train the Body. Extend Life",image:"/assets/Body.png",alt:Ub("categories.body.alt")},{id:"soul",title:Ub("categories.soul.title"),description:Ub("categories.soul.description"),subtitle:"Awaken the Soul. Live Fully",image:"/assets/New soul.png",alt:Ub("categories.soul.alt")}];return t?k.jsxs("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-main"}),k.jsx("span",{className:"ml-4 text-gray-700",children:"Loading sessions..."})]}):n?k.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:k.jsxs("div",{className:"text-red-500 text-center p-6 max-w-md bg-white rounded-lg shadow-lg",children:[k.jsx("h2",{className:"text-xl font-bold mb-2",children:"Error Loading Sessions"}),k.jsx("p",{className:"mb-4",children:"We couldn't load the sessions. Please try again later."}),k.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-main text-white rounded-md hover:bg-accent transition-colors",children:"Retry"})]})}):k.jsxs("main",{className:"relative min-h-screen w-full",children:[k.jsxs("section",{className:"relative w-full h-[60vh] md:h-[70vh] overflow-hidden",children:[k.jsxs("div",{className:"relative w-full h-full",children:[k.jsx("img",{src:Hw,alt:"Sessions Banner",className:"w-full h-full object-cover",style:{objectPosition:"center"},onError:e=>{console.error("Sessions banner image failed to load:",Hw)}}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 via-black/40 to-black/60"})]}),k.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center px-4 sm:px-6 lg:px-8 text-center z-10",children:[k.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-6 drop-shadow-2xl animate-fade-in",children:"A Gift for Your Inner Journey"}),k.jsx("p",{className:"text-lg md:text-xl lg:text-2xl text-white/95 max-w-4xl mb-8 md:mb-12 drop-shadow-lg animate-fade-in-delay",children:"Explore guided meditation audio and video sessions, offered freely to help you reconnect with your breath and inner self."})]})]}),k.jsx("div",{className:"relative z-10",children:k.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"py-8 sm:py-12",children:[k.jsxs("div",{className:"text-center mb-12",children:[k.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Sessions"}),k.jsx("p",{className:"text-lg md:text-xl text-white/90 max-w-3xl mx-auto",children:"Listen or watch guided content designed to nurture your mind, body, and soul."})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:e.map(e=>k.jsx(i,{to:`/sessions/${e._id}`,className:"group block h-full",children:k.jsxs("div",{className:"bg-gradient-to-t from-[#E9D5FF]/70 via-[#F7EEF5] to-white rounded-3xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 w-full h-full min-h-[360px] flex flex-col border border-purple-100 overflow-hidden",children:[k.jsxs("div",{className:"relative h-56 sm:h-64 w-full",children:[e.thumbnail?k.jsx("img",{src:e.thumbnail,alt:e.title||"Session thumbnail",className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}):"audio"===e.mediaType?k.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-purple-50 to-blue-50 flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-4xl mb-2",children:""}),k.jsx("span",{className:"text-gray-600",children:"Audio Session"})]})}):"video"===e.mediaType?k.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-purple-50 to-blue-50 flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-4xl mb-2",children:""}),k.jsx("span",{className:"text-gray-600",children:"Video Session"})]})}):k.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-purple-50 to-blue-50 flex items-center justify-center",children:k.jsx("span",{className:"text-gray-400",children:"No media available"})}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),k.jsx("div",{className:"absolute left-4 bottom-4 text-white",children:k.jsx("div",{className:"text-2xl font-extrabold drop-shadow-sm line-clamp-2",children:e.title||"Untitled session"})})]}),k.jsxs("div",{className:"flex-1 p-4 flex flex-col",children:[e.mediaType&&k.jsx("div",{className:"flex items-center gap-2 text-xs font-semibold text-purple-600 mb-3",children:k.jsx("span",{className:"capitalize",children:e.mediaType})}),e.tags&&e.tags.length>0&&k.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.tags.slice(0,3).map((e,t)=>k.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-purple-100 text-purple-700 border border-purple-200",children:e},`${e}-${t}`))}),k.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:e.shortDescription||"No description"}),k.jsx("div",{className:"mt-auto pt-4",children:k.jsx("div",{className:"flex justify-between items-center",children:e.duration&&k.jsx("span",{className:"text-sm text-gray-500",children:e.duration})})})]})]})},e._id))}),k.jsxs("div",{className:"mb-12",children:[k.jsx("div",{className:"mb-8 text-center",children:k.jsx("p",{className:"text-white/70 text-lg max-w-2xl mx-auto",children:"Explore our transformative wellness programs designed to nurture your mind, body, and soul"})}),k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"md:hidden px-4 sm:px-6 mt-8",children:k.jsx("div",{className:"flex justify-between gap-2 pb-4",children:r.map(e=>k.jsx("div",{className:"flex-1",children:k.jsx(Ww,{to:`/${e.id}`,title:e.title,description:e.description,subtitle:e.subtitle,image:e.image,alt:e.alt})},e.id))})}),k.jsx("div",{className:"hidden md:grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 md:gap-8 mt-8 px-4 sm:px-6 lg:px-8",children:r.map(e=>k.jsx("div",{className:"w-full",children:k.jsx(Ww,{to:`/${e.id}`,title:e.title,description:e.description,subtitle:e.subtitle,image:e.image,alt:e.alt})},e.id))})]})]})]})})})]})}function Kw({title:e,titleId:t,...n},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const Qw=r.forwardRef(Kw);function Yw({title:e,titleId:t,...n},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z",clipRule:"evenodd"}))}const Xw=r.forwardRef(Yw);function Jw({title:e,titleId:t,...n},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))}const Zw=r.forwardRef(Jw);function eN({title:e,titleId:t,...n},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM18.584 5.106a.75.75 0 0 1 1.06 0c3.808 3.807 3.808 9.98 0 13.788a.75.75 0 0 1-1.06-1.06 8.25 8.25 0 0 0 0-11.668.75.75 0 0 1 0-1.06Z"}),r.createElement("path",{d:"M15.932 7.757a.75.75 0 0 1 1.061 0 6 6 0 0 1 0 8.486.75.75 0 0 1-1.06-1.061 4.5 4.5 0 0 0 0-6.364.75.75 0 0 1 0-1.06Z"}))}const tN=r.forwardRef(eN);function nN({title:e,titleId:t,...n},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM17.78 9.22a.75.75 0 1 0-1.06 1.06L18.44 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06l1.72-1.72 1.72 1.72a.75.75 0 1 0 1.06-1.06L20.56 12l1.72-1.72a.75.75 0 1 0-1.06-1.06l-1.72 1.72-1.72-1.72Z"}))}const rN=r.forwardRef(nN);function sN(){const{slug:e}=p(),[t,n]=r.useState(null),[s,a]=r.useState(!0),[o,l]=r.useState(null),{sessions:c}=$w(),u=({src:e})=>{const t=r.useRef(null),[n,s]=r.useState(!1),[i,a]=r.useState(0),[o,l]=r.useState(0),[c,u]=r.useState(1),[d,h]=r.useState(!1);r.useEffect(()=>{const e=t.current;if(!e)return;const n=()=>a(e.currentTime),r=()=>l(e.duration),i=()=>s(!1);return e.addEventListener("timeupdate",n),e.addEventListener("loadedmetadata",r),e.addEventListener("ended",i),()=>{e.removeEventListener("timeupdate",n),e.removeEventListener("loadedmetadata",r),e.removeEventListener("ended",i)}},[e]);const m=e=>{if(isNaN(e))return"0:00";return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`},p=o?i/o*100:0;return k.jsxs("div",{className:"w-full",children:[k.jsx("audio",{ref:t,src:e,preload:"metadata"}),k.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-6 shadow-2xl",children:[k.jsxs("div",{className:"mb-4",children:[k.jsx("div",{className:"relative w-full h-2 bg-white/30 rounded-full overflow-hidden",children:k.jsx("div",{className:"absolute top-0 left-0 h-full bg-white rounded-full transition-all duration-150",style:{width:`${p}%`}})}),k.jsxs("div",{className:"flex justify-between mt-2 text-white text-sm",children:[k.jsx("span",{children:m(i)}),k.jsx("span",{children:m(o)})]})]}),k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("button",{onClick:()=>{const e=t.current;n?e.pause():e.play(),s(!n)},className:"w-16 h-16 sm:w-20 sm:h-20 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-all duration-200 transform hover:scale-105",children:n?k.jsx(Xw,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"}):k.jsx(Zw,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white ml-1"})}),k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("button",{onClick:()=>{const e=t.current;d?(e.volume=c,h(!1)):(e.volume=0,h(!0))},className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-all duration-200",children:d?k.jsx(rN,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"}):k.jsx(tN,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),k.jsx("input",{type:"range",min:"0",max:"100",value:d?0:100*c,onChange:e=>{const n=t.current,r=e.target.value/100;n.volume=r,u(r),h(0===r)},className:"w-20 sm:w-24 h-2 bg-white/30 rounded-full appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, white ${d?0:100*c}%, rgba(255,255,255,0.3) ${d?0:100*c}%)`}})]})]})]}),k.jsx("style",{jsx:!0,children:"\n          .slider::-webkit-slider-thumb {\n            appearance: none;\n            width: 16px;\n            height: 16px;\n            background: white;\n            border-radius: 50%;\n            cursor: pointer;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n          }\n          .slider::-moz-range-thumb {\n            width: 16px;\n            height: 16px;\n            background: white;\n            border-radius: 50%;\n            cursor: pointer;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n            border: none;\n          }\n        "})]})};return r.useEffect(()=>{(async()=>{if(!e)return l("No session selected"),void a(!1);try{const t='*[_type == "session" && _id == $sessionId][0]{\n          _id,\n          title,\n          shortDescription,\n          body,\n          mediaType,\n          // dereference file asset url\n          "fileUrl": file.asset->url,\n          // dereference thumbnail asset url\n          "thumbnail": thumbnail.asset->url\n        }',r=await mv.fetch(t,{sessionId:e});console.log("SessionDetail - slug:",e),console.log("SessionDetail - result:",r),r?n(r):l("Session not found")}catch(t){console.error("Error fetching session:",t),l("Failed to load session")}finally{a(!1)}})()},[e]),s?k.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):o?k.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:k.jsxs("div",{className:"text-center p-6 max-w-md mx-auto bg-white/90 backdrop-blur-sm rounded-lg shadow-lg",children:[k.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error"}),k.jsx("p",{className:"text-gray-700 mb-4",children:o}),k.jsx(i,{to:"/sessions",className:"inline-block px-6 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:"Back to Sessions"})]})}):t?k.jsxs("div",{className:"min-h-screen bg-background",children:[k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[k.jsxs(i,{to:"/sessions",className:"inline-flex items-center text-white hover:text-gray-200 mb-8 transition-colors",children:[k.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Sessions"]}),k.jsxs("div",{className:"mb-12",children:[k.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:t.title}),k.jsx("div",{className:"flex items-center text-gray-600 space-x-4",children:k.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-purple-100 text-purple-800 capitalize",children:t.mediaType})})]}),k.jsx("div",{className:"bg-gradient-to-br from-white/95 to-purple-50/90 backdrop-blur-sm rounded-3xl shadow-2xl overflow-hidden mb-8",children:k.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-0",children:[k.jsx("div",{className:"p-6 bg-gray-100",children:k.jsx("div",{className:"relative rounded-2xl overflow-hidden",children:"video"===t.mediaType&&t.fileUrl?k.jsx("div",{className:"aspect-video bg-black",children:k.jsx("video",{controls:!0,className:"w-full h-full",src:t.fileUrl,preload:"metadata",poster:t.thumbnail,controlsList:"nodownload",disablePictureInPicture:!0})}):"audio"===t.mediaType&&t.fileUrl?k.jsxs("div",{className:"p-6 sm:p-8 flex flex-col items-center justify-center bg-gradient-to-br from-purple-50 to-blue-50",children:[t.thumbnail&&k.jsxs("div",{className:"relative mb-6 sm:mb-8 group",children:[k.jsx("img",{src:t.thumbnail,alt:t.title,className:"w-full max-w-lg rounded-2xl shadow-xl transform transition-all duration-300 group-hover:scale-105"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-2xl"})]}),k.jsx("div",{className:"w-full max-w-lg",children:k.jsx(u,{src:t.fileUrl})})]}):k.jsx("div",{className:"aspect-video bg-gradient-to-br from-purple-100 via-blue-100 to-purple-100 flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-8xl mb-6 animate-pulse",children:"audio"===t.mediaType?"":"video"===t.mediaType?"":""}),k.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No media available"})]})})})}),k.jsxs("div",{className:"p-10 flex flex-col bg-gradient-to-br from-white to-purple-50/30",children:[k.jsxs("div",{className:"mb-6",children:[k.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3 bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"About This Session"}),k.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-purple-400 to-blue-400 rounded-full"})]}),k.jsx("div",{className:"prose prose-lg max-w-none overflow-y-auto max-h-[500px]",children:t.body?k.jsx(lw,{value:t.body,components:{block:{normal:({children:e})=>k.jsx("p",{className:"mb-6 text-gray-700 leading-relaxed text-lg",children:e}),h1:({children:e})=>k.jsx("h1",{className:"text-4xl font-bold mb-6 text-gray-900 bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:e}),h2:({children:e})=>k.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-900",children:e}),h3:({children:e})=>k.jsx("h3",{className:"text-2xl font-bold mb-3 text-gray-900",children:e})},list:{bullet:({children:e})=>k.jsx("ul",{className:"list-disc pl-6 mb-6 text-gray-700 space-y-2",children:e}),number:({children:e})=>k.jsx("ol",{className:"list-decimal pl-6 mb-6 text-gray-700 space-y-2",children:e})},listItem:{bullet:({children:e})=>k.jsx("li",{className:"mb-3 text-lg",children:e}),number:({children:e})=>k.jsx("li",{className:"mb-3 text-lg",children:e})}}}):k.jsx("div",{className:"text-center py-8",children:k.jsx("p",{className:"text-gray-500 text-lg italic",children:t.shortDescription||"No description available."})})})]})]})})]}),c&&c.length>1&&k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[k.jsxs("div",{className:"text-center mb-12",children:[k.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"You Might Also Like"}),k.jsx("p",{className:"text-lg text-white/90 max-w-3xl mx-auto",children:"Explore more wellness sessions to nurture your mind, body, and soul."})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.filter(e=>e._id!==t?._id).slice(0,6).map(e=>k.jsx(i,{to:`/sessions/${e._id}`,className:"group block h-full",children:k.jsxs("div",{className:"bg-gradient-to-t from-[#E9D5FF]/70 via-[#F7EEF5] to-white rounded-3xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 w-full h-full min-h-[360px] flex flex-col border border-purple-100 overflow-hidden",children:[k.jsxs("div",{className:"relative h-56 sm:h-64 w-full",children:[e.thumbnail?k.jsx("img",{src:e.thumbnail,alt:e.title||"Session thumbnail",className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}):"audio"===e.mediaType?k.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-purple-50 to-blue-50 flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-4xl mb-2",children:""}),k.jsx("span",{className:"text-gray-600",children:"Audio Session"})]})}):"video"===e.mediaType?k.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-purple-50 to-blue-50 flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-4xl mb-2",children:""}),k.jsx("span",{className:"text-gray-600",children:"Video Session"})]})}):k.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-purple-50 to-blue-50 flex items-center justify-center",children:k.jsx("span",{className:"text-gray-400",children:"No media available"})}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),k.jsx("div",{className:"absolute left-4 bottom-4 text-white",children:k.jsx("div",{className:"text-2xl font-extrabold drop-shadow-sm line-clamp-2",children:e.title||"Untitled session"})})]}),k.jsxs("div",{className:"flex-1 p-4 flex flex-col",children:[e.mediaType&&k.jsx("div",{className:"flex items-center gap-2 text-xs font-semibold text-purple-600 mb-3",children:k.jsx("span",{className:"capitalize",children:e.mediaType})}),e.tags&&e.tags.length>0&&k.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.tags.slice(0,3).map((e,t)=>k.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-purple-100 text-purple-700 border border-purple-200",children:e},`${e}-${t}`))}),k.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:e.shortDescription||"No description"}),k.jsx("div",{className:"mt-auto pt-4",children:k.jsx("div",{className:"flex justify-between items-center",children:e.duration&&k.jsx("span",{className:"text-sm text-gray-500",children:e.duration})})})]})]})},e._id))})]})]}):k.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Session not found"}),k.jsx("p",{className:"text-gray-600 mb-4",children:"The session you're looking for doesn't exist or has been removed."}),k.jsx(i,{to:"/sessions",className:"inline-block px-6 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:"Back to Sessions"})]})})}function iN(e,t={}){const[n,s]=r.useState(null),[i,a]=r.useState(!0),[o,l]=r.useState(null),c=r.useCallback(async()=>{try{a(!0),console.log("Executing Sanity query:",e),console.log("With parameters:",t);const n=new AbortController,r=setTimeout(()=>n.abort(),1e4),i=await mv.fetch(e,t,{signal:n.signal});if(clearTimeout(r),!i)throw new Error("No data returned from Sanity");console.log("Sanity API response:",i),s(i),l(null)}catch(n){console.error("Error fetching data from Sanity:",{name:n.name,message:n.message,stack:n.stack,query:e,params:t,config:{projectId:mv.config().projectId,dataset:mv.config().dataset,apiVersion:mv.config().apiVersion,useCdn:mv.config().useCdn,withCredentials:mv.config().withCredentials}}),l({message:n.message||"Failed to fetch data from Sanity",details:{name:n.name,query:e,params:t,isNetworkError:"AbortError"===n.name||!navigator.onLine}})}finally{a(!1)}},[e,JSON.stringify(t)]);return r.useEffect(()=>{c()},[c]),{data:n,loading:i,error:o,refetch:c}}const aN=({post:e})=>{const t=e.thumbnail||e.mainImage?fv(e.thumbnail||e.mainImage).url():null;e.category||e.tags,e.type||e.format;const n=e.shortDescription||e.excerpt||"Unlock mindful growth with curated guidance and practical steps you can start today.";return k.jsx("div",{className:"h-full w-full",children:k.jsx(i,{to:`/blog/${e.slug?.current}`,className:"w-full h-full group block","aria-label":`Read blog post: ${e.title}`,children:k.jsxs("div",{className:"bg-gradient-to-t from-[#E9D5FF]/70 via-[#F7EEF5] to-white rounded-3xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 w-full h-full min-h-[360px] flex flex-col border border-purple-100 overflow-hidden",children:[k.jsxs("div",{className:"relative h-56 sm:h-64",children:[t?k.jsx("img",{src:t,alt:e.title,className:"absolute inset-0 w-full h-full object-cover",loading:"lazy"}):k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:k.jsx("svg",{className:"w-16 h-16 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),k.jsx("div",{className:"absolute left-4 bottom-4 text-white",children:k.jsx("div",{className:"text-2xl font-extrabold drop-shadow-sm line-clamp-2",children:e.title})})]}),k.jsxs("div",{className:"flex-1 p-4 flex flex-col",children:[e.tags&&e.tags.length>0&&k.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.tags.slice(0,3).map((e,t)=>k.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-purple-100 text-purple-700 border border-purple-200",children:e},`${e}-${t}`))}),k.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:n}),k.jsx("div",{className:"mt-auto pt-4",children:k.jsx("span",{className:"inline-flex items-center justify-center w-full rounded-full border-2 border-purple-400 text-purple-700 font-semibold text-sm py-2 transition-colors group-hover:bg-purple-600 group-hover:text-white",children:"Read more"})})]})]})})})};function oN(){const e='*[_type == "blogPost"] {\n    _id,\n    title,\n    slug,\n    excerpt,\n    shortDescription,\n    publishedAt,\n    thumbnail,\n    mainImage,\n    tags\n  } | order(publishedAt desc)',{data:t,loading:n,error:r}=iN(e);return n?k.jsx("div",{className:"flex justify-center items-center min-h-[200px]",children:k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?(console.error("Sanity API Error Details:",{message:r.message,status:r.statusCode,response:r.responseBody,query:e}),k.jsxs("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:[k.jsx("p",{className:"font-bold",children:"Error loading blog posts"}),k.jsxs("p",{className:"text-sm mt-1",children:["Status: ",r.statusCode||"Unknown"]}),k.jsxs("p",{className:"text-sm",children:["Message: ",r.message||"An unknown error occurred"]}),!1]})):t&&0!==t.length?k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"md:hidden px-4 sm:px-6 mt-8 space-y-6",children:t.map(e=>k.jsx("div",{className:"w-full",children:k.jsx(aN,{post:e})},e._id))}),k.jsx("div",{className:"hidden md:grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 md:gap-8 mt-8 px-4 sm:px-6 lg:px-8",children:t.map(e=>k.jsx("div",{className:"w-full",children:k.jsx(aN,{post:e})},e._id))})]}):k.jsx("div",{className:"text-gray-500",children:"No blog posts found."})}const lN="/assets/Blog page banner.jpg",cN=({to:e,title:t,description:n,image:r,alt:s,subtitle:a})=>k.jsx("div",{className:"h-full w-full",children:k.jsxs(i,{to:e,className:"w-full h-full group block","aria-label":Ub("categories.exploreAriaLabel",{title:t}),children:[k.jsxs("div",{className:"md:hidden bg-white rounded-2xl shadow-xl p-4 w-full flex flex-col items-center hover:shadow-2xl hover:scale-105 transition-all duration-300 border border-purple-100 mx-auto max-w-36",children:[k.jsxs("div",{className:"h-16 w-16 mb-3 relative",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-100 to-purple-200 rounded-full"}),k.jsx("img",{src:r,alt:s,className:"w-full h-full object-contain relative z-10",loading:"lazy"})]}),k.jsx("h2",{className:"text-sm font-semibold text-gray-800 text-center line-clamp-2",children:t})]}),k.jsxs("div",{className:"hidden md:flex bg-white rounded-3xl shadow-xl p-4 hover:shadow-2xl hover:scale-105 transition-all duration-300 w-full h-[320px] flex flex-col border border-purple-100 mx-auto max-w-md",children:[k.jsxs("div",{className:"h-36 w-36 mx-auto mb-3 flex-shrink-0 relative",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl"}),k.jsx("img",{src:r,alt:s,className:"w-full h-full object-contain relative z-10",loading:"lazy",style:{maxWidth:"100%",maxHeight:"100%"}})]}),k.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center",children:[k.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2 line-clamp-2 px-2",children:t}),a&&k.jsx("p",{className:"text-base text-gray-600 font-medium px-2 line-clamp-2",children:a})]}),k.jsx("div",{className:"mt-2 pt-2 border-t border-purple-100",children:k.jsxs("div",{className:"flex items-center justify-center text-sm font-semibold text-purple-600 group-hover:text-purple-700 transition-colors",children:[k.jsx("span",{className:"mr-2",children:Ub("categories.explore")}),k.jsx("svg",{className:"w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})]})});function uN(){const e=[{id:"mind",title:Ub("categories.mind.title"),description:Ub("categories.mind.description"),subtitle:"Master your Mind. Elevate your Life",image:"/assets/Mind.png",alt:Ub("categories.mind.alt")},{id:"body",title:Ub("categories.body.title"),description:Ub("categories.body.description"),subtitle:"Train the Body. Extend Life",image:"/assets/Body.png",alt:Ub("categories.body.alt")},{id:"soul",title:Ub("categories.soul.title"),description:Ub("categories.soul.description"),subtitle:"Awaken the Soul. Live Fully",image:"/assets/New soul.png",alt:Ub("categories.soul.alt")}];return k.jsxs("main",{className:"relative min-h-screen w-full",children:[k.jsxs("section",{className:"relative w-full h-[60vh] md:h-[70vh] overflow-hidden",children:[k.jsxs("div",{className:"relative w-full h-full",children:[k.jsx("img",{src:lN,alt:"Blog Banner",className:"w-full h-full object-cover",style:{objectPosition:"center"},onError:e=>{console.error("Blog banner image failed to load:",lN)}}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 via-black/40 to-black/60"})]}),k.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center px-4 sm:px-6 lg:px-8 text-center z-10",children:[k.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-6 drop-shadow-2xl animate-fade-in",children:"Journals for Self-Realisation"}),k.jsx("p",{className:"text-lg md:text-xl lg:text-2xl text-white/95 max-w-4xl mb-8 md:mb-12 drop-shadow-lg animate-fade-in-delay",children:"Reflections and insights to guide you gently inward."})]})]}),k.jsx("div",{className:"relative z-10",children:k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[k.jsxs("div",{className:"py-8 sm:py-12",children:[k.jsxs("div",{className:"text-center mb-12",children:[k.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:Ub("blog.title")}),k.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-white/90 max-w-3xl mx-auto",children:Ub("blog.description")})]}),k.jsx(oN,{})]}),k.jsxs("div",{className:"mb-12",children:[k.jsx("div",{className:"mb-8 text-center",children:k.jsx("p",{className:"text-white/70 text-lg max-w-2xl mx-auto",children:"Explore our transformative wellness programs designed to nurture your mind, body, and soul"})}),k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"md:hidden px-4 sm:px-6 mt-8",children:k.jsx("div",{className:"flex justify-between gap-2 pb-4",children:e.map(e=>k.jsx("div",{className:"flex-1",children:k.jsx(cN,{to:`/${e.id}`,title:e.title,description:e.description,subtitle:e.subtitle,image:e.image,alt:e.alt})},e.id))})}),k.jsx("div",{className:"hidden md:grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 md:gap-8 mt-8 px-4 sm:px-6 lg:px-8",children:e.map(e=>k.jsx("div",{className:"w-full",children:k.jsx(cN,{to:`/${e.id}`,title:e.title,description:e.description,subtitle:e.subtitle,image:e.image,alt:e.alt})},e.id))})]})]})]})})]})}function dN(){const{slug:e}=p(),{data:t,loading:n,error:r}=iN('*[_type == "blogPost" && slug.current == $slug][0] {\n    _id,\n    title,\n    slug,\n    excerpt,\n    publishedAt,\n    author->{\n      name,\n      image\n    },\n    mainImage,\n    thumbnail,\n    body,\n    categories[]->{\n      title\n    }\n  }',{slug:e}),{data:s}=iN('*[_type == "blogPost"] | order(publishedAt desc) {\n  _id,\n  title,\n  slug,\n  excerpt,\n  publishedAt,\n  mainImage,\n  author->{\n    name,\n    image\n  },\n  categories[]->{\n    title\n  }\n}');return l.useEffect(()=>{console.log("BlogPost - slug:",e),console.log("BlogPost - loading:",n),console.log("BlogPost - error:",r),console.log("BlogPost - post data:",t),t&&(console.log("BlogPost - mainImage:",t.mainImage),console.log("BlogPost - thumbnail:",t.thumbnail),console.log("BlogPost - mainImage URL:",t.mainImage?fv(t.mainImage).url():"No mainImage"),console.log("BlogPost - thumbnail URL:",t.thumbnail?fv(t.thumbnail).url():"No thumbnail"))},[e,n,r,t]),n?k.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?k.jsxs("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg max-w-4xl mx-auto mt-8",children:[k.jsx("p",{className:"font-bold",children:"Error loading blog post"}),k.jsx("p",{className:"text-sm mt-1",children:r.message})]}):t?k.jsx("div",{className:"min-h-screen bg-background pt-24 pb-16 px-4 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"max-w-4xl mx-auto",children:[k.jsxs(i,{to:"/blog",className:"inline-flex items-center text-white hover:text-gray-200 mb-8 transition-colors",children:[k.jsx(Eg,{className:"w-4 h-4 mr-2"}),"Back to blog"]}),k.jsxs("article",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[t.mainImage||t.thumbnail?k.jsx("img",{src:t.mainImage?fv(t.mainImage).url():fv(t.thumbnail).url(),alt:t.title,className:"w-full h-64 md:h-96 object-cover",onError:e=>{console.error("Image failed to load:",e.target.src),e.target.style.display="none"},onLoad:()=>{console.log("Image loaded successfully")}}):k.jsx("div",{className:"w-full h-64 md:h-96 bg-gradient-to-br from-purple-100 to-blue-100 flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-6xl mb-4",children:""}),k.jsx("p",{className:"text-gray-600",children:"Blog post image not available"})]})}),k.jsxs("div",{className:"p-8",children:[t.categories&&t.categories.length>0&&k.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.categories.map((e,t)=>k.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 text-sm rounded-full",children:e.title},t))}),k.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:t.title}),t.excerpt&&k.jsx("p",{className:"text-xl text-gray-600 mb-6",children:t.excerpt}),k.jsx("div",{className:"flex items-center justify-between mb-8 pb-6 border-b border-gray-200",children:k.jsxs("div",{className:"flex items-center",children:[t.author?.image&&k.jsx("img",{src:t.author.image.asset?.url,alt:t.author.name,className:"w-12 h-12 rounded-full mr-4 object-cover"}),k.jsxs("div",{children:[k.jsx("p",{className:"font-semibold text-gray-900",children:t.author?.name||"Anonymous"}),k.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[k.jsx(Tg,{className:"w-4 h-4 mr-1"}),new Date(t.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]})}),k.jsx("div",{className:"prose prose-lg max-w-none",children:t.body&&k.jsx(lw,{value:t.body,components:{block:{normal:({children:e})=>k.jsx("p",{className:"mb-4 text-gray-700 leading-relaxed",children:e}),h1:({children:e})=>k.jsx("h1",{className:"text-3xl font-bold mb-4 text-gray-900",children:e}),h2:({children:e})=>k.jsx("h2",{className:"text-2xl font-bold mb-3 text-gray-900",children:e}),h3:({children:e})=>k.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:e})},list:{bullet:({children:e})=>k.jsx("ul",{className:"list-disc pl-6 mb-4 text-gray-700",children:e}),number:({children:e})=>k.jsx("ol",{className:"list-decimal pl-6 mb-4 text-gray-700",children:e})},listItem:{bullet:({children:e})=>k.jsx("li",{className:"mb-2",children:e}),number:({children:e})=>k.jsx("li",{className:"mb-2",children:e})}}})})]})]}),s&&s.length>1&&k.jsxs("div",{className:"mt-16",children:[k.jsxs("div",{className:"text-center mb-12",children:[k.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"You Might Also Like"}),k.jsx("p",{className:"text-lg text-white/90 max-w-3xl mx-auto",children:"Explore more articles and insights to nurture your wellness journey."})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.filter(e=>e._id!==t?._id).slice(0,6).map(e=>k.jsx(i,{to:`/blog/${e.slug.current}`,className:"group block h-full",children:k.jsxs("div",{className:"bg-gradient-to-t from-[#E9D5FF]/70 via-[#F7EEF5] to-white rounded-3xl shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 w-full h-full min-h-[360px] flex flex-col border border-purple-100 overflow-hidden",children:[k.jsxs("div",{className:"relative h-56 sm:h-64",children:[e.mainImage?k.jsx("img",{src:fv(e.mainImage).url(),alt:e.title,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}):k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:k.jsx("svg",{className:"w-16 h-16 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),k.jsx("div",{className:"absolute left-4 bottom-4 text-white",children:k.jsx("div",{className:"text-2xl font-extrabold drop-shadow-sm line-clamp-2",children:e.title})})]}),k.jsxs("div",{className:"flex-1 p-4 flex flex-col",children:[e.categories&&e.categories.length>0&&k.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.categories.slice(0,3).map((e,t)=>k.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-purple-100 text-purple-700 border border-purple-200",children:e.title},`${e.title}-${t}`))}),k.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:e.excerpt||e.shortDescription||"Unlock mindful growth with curated guidance and practical steps you can start today."}),k.jsx("div",{className:"mt-auto pt-4",children:k.jsx("span",{className:"inline-flex items-center justify-center w-full rounded-full border-2 border-purple-400 text-purple-700 font-semibold text-sm py-2 transition-colors group-hover:bg-purple-600 group-hover:text-white",children:"Read more"})})]})]})},e._id))})]})]})}):k.jsxs("div",{className:"text-center py-16",children:[k.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Blog post not found"}),k.jsx(i,{to:"/blog",className:"text-blue-600 hover:text-blue-800 underline",children:"Back to blog"})]})}function hN(){return k.jsx("div",{className:"min-h-screen w-full bg-background",children:k.jsxs("div",{className:"max-w-4xl mx-auto py-16 px-4",children:[k.jsx("h1",{className:"text-4xl font-bold text-indigo-800 text-center mb-12",children:"All Articles"}),k.jsxs("div",{className:"space-y-8",children:[k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-4",children:"Explore Our Articles"}),k.jsx("p",{className:"text-gray-700 text-lg",children:"Discover our collection of wellness articles across Mind, Body, and Soul categories."})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{id:1,title:"The Power of Positive Thinking",category:"Mind",date:"July 1, 2025",instructor:"Dr. Anjali Sharma",image:"/blog-1.jpg",excerpt:"Discover how positive thinking can transform your life and improve your overall well-being.",tags:["Mindfulness","Wellness","Self-Improvement"]},{id:2,title:"Yoga for Better Sleep",category:"Body",date:"June 25, 2025",instructor:"Yogi Raj",image:"/blog-2.jpg",excerpt:"Learn yoga poses and techniques to help you get a better night's sleep.",tags:["Yoga","Sleep","Wellness"]},{id:3,title:"Understanding Chakras",category:"Soul",date:"June 20, 2025",instructor:"Priya Patel",image:"/blog-3.jpg",excerpt:"A comprehensive guide to the seven major chakras and their significance.",tags:["Soul","Energy","Healing"]},{id:4,title:"Stress Management Techniques",category:"Mind",date:"June 15, 2025",instructor:"Dr. Anjali Sharma",image:"/blog-4.jpg",excerpt:"Effective strategies to manage and reduce stress in your daily life.",tags:["Mindfulness","Stress","Wellness"]},{id:5,title:"Nutrition for Wellness",category:"Body",date:"June 10, 2025",instructor:"Neha Verma",image:"/blog-5.jpg",excerpt:"How proper nutrition can support your wellness journey.",tags:["Nutrition","Wellness","Health"]}].map(e=>k.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:[k.jsx("div",{className:"relative h-48 bg-gray-100",children:k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-100 via-pink-100 to-blue-100"})}),k.jsxs("div",{className:"p-6",children:[k.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-indigo-100 text-indigo-700 text-sm font-medium mb-2",children:e.category}),k.jsx("h3",{className:"text-xl font-bold text-indigo-800 mb-2",children:e.title}),k.jsx("p",{className:"text-gray-600 mb-4",children:e.excerpt}),k.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[k.jsx("span",{children:e.date}),k.jsx("span",{children:e.instructor})]}),k.jsx("div",{className:"mt-4 flex gap-2",children:e.tags.map(e=>k.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-indigo-100 text-indigo-700",children:e},e))}),k.jsx(i,{to:`/blog/${e.id}`,className:"mt-4 w-full bg-gradient-to-r from-purple-100 via-purple-200 to-blue-100 text-indigo-700 font-semibold py-2 px-4 rounded-full shadow hover:shadow-lg transition-all duration-200",children:"Read More"})]})]},e.id))}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Filter by Category"}),k.jsxs("div",{className:"flex gap-4 flex-wrap",children:[k.jsx("button",{className:"px-4 py-2 rounded-full bg-purple-100 text-purple-700 font-medium hover:bg-purple-200 transition",children:"All"}),k.jsx("button",{className:"px-4 py-2 rounded-full bg-green-100 text-green-700 font-medium hover:bg-green-200 transition",children:"Mind"}),k.jsx("button",{className:"px-4 py-2 rounded-full bg-purple-200 text-purple-800 font-medium hover:bg-purple-300 transition",children:"Body"}),k.jsx("button",{className:"px-4 py-2 rounded-full bg-indigo-100 text-indigo-700 font-medium hover:bg-indigo-200 transition",children:"Soul"}),k.jsx("button",{className:"px-4 py-2 rounded-full bg-blue-100 text-blue-700 font-medium hover:bg-blue-200 transition",children:"Wellness"}),k.jsx("button",{className:"px-4 py-2 rounded-full bg-yellow-100 text-yellow-700 font-medium hover:bg-yellow-200 transition",children:"Yoga"})]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[k.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Subscribe to Our Newsletter"}),k.jsx("div",{className:"bg-gradient-to-r from-purple-100 via-pink-100 to-blue-100 p-6 rounded-xl",children:k.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[k.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Stay Updated"}),k.jsx("p",{className:"text-gray-700 mb-6",children:"Get our latest wellness articles straight to your inbox."}),k.jsxs("form",{className:"flex gap-2",children:[k.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-2 rounded-lg bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),k.jsx("button",{className:"px-6 py-2 rounded-lg bg-main text-white font-semibold hover:brightness-105 transition",children:"Subscribe"})]})]})})]})]})]})})}function mN(){const{slug:e}=p(),[t,n]=r.useState(null),[s,a]=r.useState(!0),[o,l]=r.useState(null),{addToCart:c}=M(),[u,d]=r.useState(1),h=r.useRef(null);r.useEffect(()=>{if(console.log("ProgramDetail mounted with slug:",e),!e){const e="No program selected. Please select a program from the programs page.";return console.error(e),l(e),void a(!1)}(async()=>{console.log("Starting to fetch program with slug:",e),a(!0),l(null);try{let t=await(async e=>{if(console.log("getProgramBySlug called with slug:",e),!e)return console.error("No slug provided to getProgramBySlug"),null;try{const t='*[_type == "program" && slug.current == $slug][0]{\n      _id,\n      title,\n      description,\n      price,\n      discountPrice,\n      duration,\n      category,\n      strip,\n      "video": {\n        url,\n        originalFilename\n      },\n      "image": image.asset->{\n        url,\n        alt\n      },\n      "slug": slug.current,\n      includes,\n      benefits,\n      requirements,\n      body[]{\n        ...select(\n          _type == \'block\' => @{\n            ...@,\n            children[]{\n              ...@,\n              marks[]\n            },\n            markDefs[]{\n              ...@,\n              _type == \'link\' => @{\n                _key,\n                _type,\n                href,\n                blank\n              }\n            }\n          },\n          @\n        )\n      },\n      "instructor": instructor->{\n        name,\n        title,\n        bio,\n        "image": image.asset->url\n      }\n    }';console.log("Executing Sanity query with slug:",e),console.log("Query being executed:",t);const n=await mv.fetch(t,{slug:e,cache:"no-store"});if(console.log("Raw Sanity query result:",n),n)console.log("Program found. Checking for strip and video fields..."),console.log("Strip field in result:","strip"in n),console.log("Video field in result:","video"in n),console.log("All keys in result:",Object.keys(n));else{console.log("No program found for slug:",e);const t=await mv.fetch('*[_type == "program"]{ "slug": slug.current }');console.log("All available program slugs:",t.map(e=>e.slug))}return n}catch(o){throw console.error("Error in getProgramBySlug for slug:",e,{error:o.message,stack:o.stack}),o}})(e);if(t||36!==e.length||(console.log("No program found with slug, trying to fetch by ID:",e),t=await async function(e){if(console.log("getProgramById called with id:",e),!e)return console.error("No ID provided to getProgramById"),null;try{const t='*[_type == "program" && _id == $id][0]{\n      _id,\n      title,\n      description,\n      price,\n      discountPrice,\n      duration,\n      category,\n      strip,\n      "video": {\n        url,\n        originalFilename\n      },\n      "image": image.asset->{\n        url,\n        alt\n      },\n      "slug": slug.current,\n      includes,\n      benefits,\n      requirements,\n      body[]{\n        ...select(\n          _type == \'block\' => @{\n            ...@,\n            children[]{\n              ...@,\n              marks[]\n            },\n            markDefs[]{\n              ...@,\n              _type == \'link\' => @{\n                _key,\n                _type,\n                href,\n                blank\n              }\n            }\n          },\n          @\n        )\n      },\n      "instructor": instructor->{\n        name,\n        title,\n        bio,\n        "image": image.asset->url\n      }\n    }';console.log("Executing Sanity query with ID:",e);const n=await mv.fetch(t,{id:e});return console.log("Sanity query result for ID:",e,n),n}catch(o){throw console.error("Error in getProgramById for ID:",e,{error:o.message,stack:o.stack}),o}}(e)),!t)throw new Error("Program not found. It may have been moved or deleted.");let r=[];t.body&&(r=Array.isArray(t.body)?t.body.filter(e=>{if("block"===e._type&&e.children){const t=e.children.map(e=>e.text||"").join("");return!(t.includes("1000+")||t.includes("transformed")||t.includes("thousands")||t.includes("people")||t.includes("body"))}return!0}):"string"==typeof t.body?t.body.includes("1000+")||t.body.includes("transformed")||t.body.includes("thousands")||t.body.includes("people")||t.body.includes("body")?[]:[{_type:"block",children:[{_type:"span",text:t.body}]}]:[]);let s=t.description;t.description&&(s=t.description.replace(/1000\+[^.!?]*/g,"").replace(/thousands[^.!?]*/g,"").replace(/transformed[^.!?]*/g,"").replace(/people[^.!?]*/g,"").replace(/body[^.!?]*/g,"").replace(/\s+/g," ").trim());let i=t.strip;t.strip&&(i=t.strip.replace(/1000\+[^.!?]*/g,"").replace(/thousands[^.!?]*/g,"").replace(/transformed[^.!?]*/g,"").replace(/people[^.!?]*/g,"").replace(/body[^.!?]*/g,"").replace(/\s+/g," ").trim());let a=t.title;t.title&&(a=t.title.replace(/1000\+[^.!?]*/g,"").replace(/thousands[^.!?]*/g,"").replace(/transformed[^.!?]*/g,"").replace(/people[^.!?]*/g,"").replace(/body[^.!?]*/g,"").replace(/\s+/g," ").trim());const l={id:t._id,_id:t._id,title:a||"Untitled Program",description:s,body:r,hasImage:!(!t.image&&!t.imageUrl),imageUrl:t.image?.url||t.imageUrl,price:t.price,discountPrice:t.discountPrice,includes:Array.isArray(t.includes)?t.includes:[],benefits:Array.isArray(t.benefits)?t.benefits:[],requirements:Array.isArray(t.requirements)?t.requirements:[],slug:t.slug||t._id,category:t.category||"uncategorized",instructor:t.instructor,strip:i,video:t.video};if(!l.id)throw new Error("Invalid program data: missing _id");!t.slug&&t._id&&window.history.replaceState({},"",`/programs/${t._id}`),console.log("Full program data:",t),n(l)}catch(t){const n=`Failed to load program: ${t.message}`;console.error("Error in fetchProgram:",{error:t,message:t.message,stack:t.stack,slug:e}),l(n)}finally{a(!1)}})().catch(e=>{console.error("Error in fetchProgram:",e),l("Failed to load program. Please try again later."),a(!1)})},[e]);const m=t?{...t,title:t.title?.replace(/1000\+|thousands|transformed|people|body/gi,"").replace(/\s+/g," ").trim()||t.title,description:t.description?.replace(/1000\+|thousands|transformed|people|body/gi,"").replace(/\s+/g," ").trim()||t.description,strip:t.strip?.replace(/1000\+|thousands|transformed|people|body/gi,"").replace(/\s+/g," ").trim()||t.strip,instructor:t.instructor?{...t.instructor,name:t.instructor.name?.replace(/1000\+|thousands|transformed|people|body/gi,"").replace(/\s+/g," ").trim()||t.instructor.name,bio:t.instructor.bio?.replace(/1000\+|thousands|transformed|people|body/gi,"").replace(/\s+/g," ").trim()||t.instructor.bio}:t.instructor}:null,f=e=>e&&"string"==typeof e?e.replace(/1000\+[^\w]*]*/gi,"").replace(/thousands[^\w]*]*/gi,"").replace(/transformed[^\w]*]*/gi,"").replace(/people[^\w]*]*/gi,"").replace(/body[^\w]*]*/gi,"").replace(/\s\s+/g," ").trim():e;return s?k.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):o?k.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:k.jsxs("div",{className:"text-red-500 text-center p-4 max-w-md",children:[k.jsx("h2",{className:"text-xl font-bold mb-2",children:"Error Loading Program"}),k.jsx("p",{children:o}),k.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:"Try Again"})]})}):t?k.jsxs("div",{className:"min-h-screen bg-background",children:[k.jsx("div",{style:{display:"none"},children:(()=>{const e=[m?.title,m?.description,m?.strip,m?.instructor?.name,m?.instructor?.bio].join(" ").toLowerCase();return(e.includes("1000+")||e.includes("thousands")||e.includes("transformed")||e.includes("people")||e.includes("body"))&&console.warn("Still contains unwanted text:",e),null})()}),k.jsx("div",{className:"bg-white/10 backdrop-blur-sm shadow-lg",children:k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[k.jsxs(i,{to:"/programs",className:"inline-flex items-center text-white/80 hover:text-white mb-8 transition-colors group",children:[k.jsx(Qw,{className:"h-5 w-5 mr-2 transform group-hover:-translate-x-1 transition-transform"}),"Back to Programs"]}),k.jsx("div",{className:"text-center mb-12",children:k.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6 leading-tight",children:f(m.title)})})]})}),k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16",children:[k.jsx("div",{className:"mb-16 rounded-2xl overflow-hidden shadow-2xl border border-white/10",children:k.jsx("img",{src:m.imageUrl||"/placeholder-program.jpg",alt:m.title,className:"w-full h-auto max-h-[600px] object-cover",loading:"lazy"})}),k.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl shadow-lg p-8 md:p-16 mb-16 border border-white/20",children:[k.jsx("h2",{className:"text-4xl font-bold text-white mb-8",style:{animation:"fadeIn 0.8s ease-in-out"},children:"About This Program"}),m.body&&m.body.length>0?k.jsx("div",{className:"prose max-w-none",children:k.jsx(lw,{value:m.body,components:{block:{normal:({children:e})=>{const t="string"==typeof e?e:e.join("");return t.includes("1000+")||t.includes("transformed")||t.includes("thousands")||t.includes("people")||t.includes("body")?null:k.jsx("p",{className:"mb-6 text-white/90 text-lg leading-relaxed",children:e})},h1:({children:e})=>{const t="string"==typeof e?e:e.join("");return t.includes("1000+")||t.includes("transformed")||t.includes("thousands")||t.includes("people")||t.includes("body")?null:k.jsx("h1",{className:"text-3xl font-bold my-6 text-white",children:e})},h2:({children:e})=>{const t="string"==typeof e?e:e.join("");return t.includes("1000+")||t.includes("transformed")||t.includes("thousands")||t.includes("people")||t.includes("body")?null:k.jsx("h2",{className:"text-2xl font-bold mt-8 mb-6 text-white",children:e})},h3:({children:e})=>{const t="string"==typeof e?e:e.join("");return t.includes("1000+")||t.includes("transformed")||t.includes("thousands")||t.includes("people")||t.includes("body")?null:k.jsx("h3",{className:"text-xl font-semibold mt-6 mb-4 text-white",children:e})}},list:{bullet:({children:e})=>{const t="string"==typeof e?e:e.join("");return t.includes("1000+")||t.includes("transformed")||t.includes("thousands")||t.includes("people")||t.includes("body")?null:k.jsx("ul",{className:"list-disc list-inside mb-6 text-white/90 text-lg",children:e})}},marks:{link:({value:e,children:t})=>{const n=e?.href||"",r=n.startsWith("http");return k.jsx("a",{href:n,target:r?"_blank":void 0,rel:r?"noopener noreferrer":void 0,className:"text-purple-600 hover:underline",children:t})},strong:({children:e})=>k.jsx("strong",{className:"font-semibold",children:e}),em:({children:e})=>k.jsx("em",{className:"italic",children:e}),underline:({children:e})=>k.jsx("u",{children:e}),code:({children:e})=>k.jsx("code",{className:"bg-gray-100 px-1 rounded",children:e})},types:{image:({value:e})=>k.jsxs("div",{className:"my-4",children:[k.jsx("img",{src:e.asset?.url,alt:e.alt||"Image",className:"max-w-full h-auto rounded-lg"}),e.caption&&k.jsx("p",{className:"text-sm text-white/70 mt-2 text-center",children:e.caption})]})}}})}):m.description?k.jsx("div",{className:"prose max-w-none",children:k.jsx("p",{className:"text-white/90",children:f(m.description)})}):k.jsx("div",{className:"prose max-w-none",children:k.jsx("p",{className:"text-white/70",children:"No description available for this program."})})]}),k.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl shadow-lg p-8 md:p-16 mb-16 border border-white/20 transform transition-all duration-500 hover:shadow-2xl",children:[k.jsx("h2",{className:"text-4xl font-bold text-white mb-8",style:{animation:"fadeIn 0.8s ease-in-out"},children:"Meet Your Instructor"}),k.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-12",children:[k.jsxs("div",{className:"group relative",children:[k.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[k.jsx("div",{className:"absolute top-0 left-1/2 w-32 h-32 bg-gradient-to-b from-yellow-300/30 via-transparent to-transparent transform -translate-x-1/2 -translate-y-4 rotate-12 opacity-60 group-hover:opacity-80 transition-opacity duration-500"}),k.jsx("div",{className:"absolute top-0 right-1/2 w-24 h-24 bg-gradient-to-b from-purple-400/20 via-transparent to-transparent transform translate-x-1/2 -translate-y-2 rotate-6 opacity-40 group-hover:opacity-60 transition-opacity duration-500"}),k.jsx("div",{className:"absolute -inset-4 bg-gradient-radial from-purple-500/10 via-transparent to-transparent opacity-0 group-hover:opacity-30 transition-opacity duration-700"})]}),k.jsxs("div",{className:"w-56 h-56 rounded-2xl overflow-hidden shadow-2xl transform transition-all duration-300 group-hover:scale-105 group-hover:shadow-3xl relative z-10",children:[k.jsx("img",{src:m.instructor?.image||"/placeholder-avatar.jpg",alt:m.instructor?.name||"Instructor",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent via-white/10 to-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),k.jsx("div",{className:"absolute inset-0 rounded-2xl shadow-inner opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),k.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-white/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),k.jsx("div",{className:"absolute top-2 left-2 w-8 h-8 bg-white/20 rounded-full blur-md opacity-0 group-hover:opacity-70 transition-opacity duration-300"})]}),k.jsxs("div",{className:"absolute -top-2 -right-2 w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-lg transform transition-all duration-300 group-hover:scale-110 group-hover:rotate-12 z-20",children:[k.jsx("span",{className:"text-white text-sm font-bold",children:""}),k.jsx("div",{className:"absolute inset-0 rounded-full bg-purple-400/30 animate-pulse"})]})]}),k.jsxs("div",{className:"flex-1 text-center md:text-left",children:[k.jsx("h3",{className:"text-3xl font-bold text-white mb-4 transition-colors duration-300 group-hover:text-purple-200",children:f(m.instructor?.name||"Expert Instructor")}),k.jsx("div",{className:"inline-block px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-full text-sm font-semibold mb-6 shadow-md transform transition-all duration-300 group-hover:scale-105",children:"Expert Instructor"}),m.instructor?.bio&&k.jsx("p",{className:"text-white/90 text-xl leading-relaxed transition-all duration-300 group-hover:text-white",children:f(m.instructor.bio)})]})]})]}),m.video&&k.jsxs("div",{className:"mb-16",children:[k.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Program Preview"}),k.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl overflow-hidden shadow-lg border border-white/20",children:k.jsxs("video",{ref:h,controls:!0,className:"w-full h-auto rounded-xl",preload:"metadata",poster:m.imageUrl||"/placeholder-program.jpg",onError:e=>{console.error("Video error:",e),console.log("Video error details:",{error:e.target.error,networkState:e.target.networkState,currentSrc:e.target.currentSrc,readyState:e.target.readyState})},onLoadStart:()=>console.log("Video started loading"),onCanPlay:()=>console.log("Video can play"),onLoadedData:e=>console.log("Video loaded data:",e),onLoadedMetadata:e=>console.log("Video metadata loaded:",e),onPlay:()=>console.log("Video started playing"),onPause:()=>console.log("Video paused"),onEnded:()=>console.log("Video ended"),children:[m.video?.url&&k.jsx("source",{src:m.video.url,type:"video/mp4"}),m.video?.url&&m.video.url.includes(".mp4")&&k.jsx("source",{src:m.video.url.replace(".mp4",".webm"),type:"video/webm"}),"Your browser does not support the video tag."]})})]}),k.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl shadow-lg p-8 md:p-12 mb-16 border border-white/20",children:k.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-8",children:[k.jsxs("div",{className:"text-white",children:[k.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Get Started?"}),k.jsxs("div",{className:"flex items-baseline gap-4 mb-4",children:[(()=>{const e="number"==typeof m?.price&&!Number.isNaN(m.price),t="number"==typeof m?.discountPrice&&!Number.isNaN(m.discountPrice),n=e&&t&&m.discountPrice<m.price,r=n?m.discountPrice:m.price;return e&&0!==m.price?k.jsxs(k.Fragment,{children:[k.jsxs("span",{className:"text-4xl font-bold",children:["",r.toLocaleString("en-IN")]}),n?k.jsxs("span",{className:"text-xl text-white/70 line-through",children:["",m.price.toLocaleString("en-IN")]}):null]}):k.jsx("span",{className:"text-4xl font-bold",children:"Free"})})(),k.jsxs("span",{className:"text-white/80",children:[" ",m.duration||"Lifetime access"]})]})]}),k.jsx("button",{onClick:()=>{if(!m)return;const e={id:m._id,title:m.title,price:m.price,discountPrice:m.discountPrice,imageUrl:m.imageUrl,slug:m.slug||m._id,category:m.category,quantity:u};c(e)},className:"w-full md:w-auto bg-white text-purple-600 hover:bg-gray-50 font-bold py-4 px-10 rounded-xl transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-white/30 shadow-lg",children:"Enroll Now"})]})}),m.category&&m._id&&k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[k.jsx("h2",{className:"text-3xl font-bold text-white mb-12",children:"You Might Also Like"}),k.jsx(pN,{category:m.category,currentProgramId:m._id})]})]})]}):k.jsx("div",{className:"min-h-screen flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Program not found"}),k.jsx("p",{className:"text-gray-600 mb-4",children:"The program you're looking for doesn't exist or has been removed."}),k.jsx("a",{href:"/programs",className:"inline-block px-6 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"Browse Programs"})]})})}function pN({currentProgramId:e,category:t}){const[n,s]=r.useState([]),[a,o]=r.useState(!0),[l,c]=r.useState(null);return r.useEffect(()=>{(async()=>{if(t&&e){o(!0),c(null);try{const n='*[_type == "program" && category == $category && _id != $currentProgramId][0...3]{\n          _id,\n          title,\n          price,\n          discountPrice,\n          duration,\n          "imageUrl": image.asset->url,\n          "slug": slug.current\n        }',r=await mv.fetch(n,{category:t,currentProgramId:e});s(r||[])}catch(n){console.error("Error fetching related programs:",n),c("Failed to load related programs")}finally{o(!1)}}else o(!1)})()},[t,e]),a?k.jsxs("div",{className:"text-center py-8",children:[k.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-300 mx-auto"}),k.jsx("p",{className:"text-white mt-2",children:"Loading related programs..."})]}):l?k.jsx("div",{className:"text-center py-8",children:k.jsx("p",{className:"text-red-500",children:l})}):0===n.length?k.jsx("div",{className:"text-center py-8",children:k.jsx("p",{className:"text-white/70",children:"No related programs found."})}):k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>k.jsxs(i,{to:`/programs/${e.slug}`,className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[k.jsx("div",{className:"aspect-video bg-gray-200",children:k.jsx("img",{src:e.imageUrl||"/placeholder-program.jpg",alt:e.title,className:"w-full h-full object-cover"})}),k.jsxs("div",{className:"p-4",children:[k.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:e.title}),k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("span",{className:"text-purple-600 font-bold",children:(()=>{const t="number"==typeof e?.price&&!Number.isNaN(e.price),n="number"==typeof e?.discountPrice&&!Number.isNaN(e.discountPrice),r=t&&n&&e.discountPrice<e.price?e.discountPrice:e.price;return t&&0!==e.price?`${r.toLocaleString("en-IN")}`:"Free"})()}),k.jsx("span",{className:"text-sm text-gray-600",children:e.duration})]})]})]},e._id))})}const fN=()=>{const e=a(),t=s(),{orderId:n,paymentId:i}=e.state||{};r.useEffect(()=>{console.log("OrderSuccess Page - Location state:",e.state),console.log("OrderSuccess Page - Order ID:",n),console.log("OrderSuccess Page - Payment ID:",i)},[e.state,n,i]);return k.jsx("div",{className:"min-h-screen bg-background/80 flex items-center justify-center px-4",children:k.jsx("div",{className:"max-w-md w-full",children:k.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[k.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:k.jsx(mg,{className:"w-8 h-8 text-green-600"})}),k.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Order Successful!"}),k.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for your purchase. Your order has been received and is being processed."}),n&&k.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[k.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Order Details:"}),k.jsxs("div",{className:"space-y-1",children:[n&&k.jsxs("p",{className:"text-sm",children:[k.jsx("span",{className:"font-medium",children:"Order ID:"})," ",n]}),i&&k.jsxs("p",{className:"text-sm",children:[k.jsx("span",{className:"font-medium",children:"Payment ID:"})," ",i]})]})]}),k.jsxs("div",{className:"space-y-3",children:[k.jsxs("button",{onClick:()=>{t("/dashboard/orders")},className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[k.jsx(Ng,{className:"w-4 h-4"}),"View My Orders"]}),k.jsx("button",{onClick:()=>{t("/")},className:"w-full px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Continue Shopping"})]}),k.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:k.jsxs("p",{className:"text-sm text-blue-800",children:[k.jsx("strong",{children:"Note:"}),' You can view all your orders in the dashboard under "My Orders". If you don\'t see your order immediately, please refresh the page after a few minutes.']})})]})})})},gN=()=>{const{cart:e,isOpen:t,setIsOpen:n,removeFromCart:r,updateQuantity:a,cartTotal:o,itemCount:l,clearCart:c}=M(),u=s();return 0===e.length?k.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:k.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm max-w-md w-full text-center",children:[k.jsx("div",{className:"mx-auto flex items-center justify-center h-24 w-24 rounded-full bg-purple-50 mb-4",children:k.jsx("svg",{className:"h-12 w-12 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),k.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your cart is empty"}),k.jsx("p",{className:"text-gray-500 mb-6",children:"Looks like you haven't added anything to your cart yet."}),k.jsx(i,{to:"/",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-main hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-main",children:"Continue Shopping"})]})}):k.jsx("div",{className:"min-h-screen bg-gray-50",children:k.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8 sm:px-6 lg:max-w-7xl lg:px-8",children:[k.jsx("h1",{className:"text-2xl font-extrabold tracking-tight text-gray-900 sm:text-3xl mb-8",children:"Shopping Cart"}),k.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-12 lg:items-start xl:gap-x-16",children:[k.jsxs("section",{"aria-labelledby":"cart-heading",className:"lg:col-span-7",children:[k.jsx("h2",{id:"cart-heading",className:"sr-only",children:"Items in your shopping cart"}),k.jsx("ul",{className:"border-t border-b border-gray-200 divide-y divide-gray-200",children:e.map(e=>k.jsxs("li",{className:"flex py-6 sm:py-10",children:[k.jsx("div",{className:"flex-shrink-0",children:k.jsx("img",{src:e.image||"/placeholder-program.jpg",alt:e.name,className:"w-24 h-24 rounded-md object-cover object-center sm:w-32 sm:h-32"})}),k.jsx("div",{className:"ml-4 flex-1 flex flex-col justify-between sm:ml-6",children:k.jsxs("div",{className:"relative pr-9 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:pr-0",children:[k.jsxs("div",{children:[k.jsx("div",{className:"flex justify-between",children:k.jsx("h3",{className:"text-sm",children:k.jsx(i,{to:`/programs/${e.slug}`,className:"font-medium text-gray-700 hover:text-gray-800",children:e.name})})}),k.jsxs("p",{className:"mt-1 text-sm font-medium text-gray-900",children:["",e.price.toLocaleString()]})]}),k.jsxs("div",{className:"mt-4 sm:mt-0 sm:pr-9",children:[k.jsxs("div",{className:"flex items-center border rounded-md",children:[k.jsxs("button",{type:"button",onClick:()=>a(e.id,e.quantity-1),className:"px-3 py-1.5 text-gray-400 hover:text-gray-500",children:[k.jsx("span",{className:"sr-only",children:"Decrease quantity"}),k.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})]}),k.jsx("span",{className:"px-3 py-1.5 text-sm font-medium",children:e.quantity}),k.jsxs("button",{type:"button",onClick:()=>a(e.id,e.quantity+1),className:"px-3 py-1.5 text-gray-400 hover:text-gray-500",children:[k.jsx("span",{className:"sr-only",children:"Increase quantity"}),k.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})]})]}),k.jsx("div",{className:"absolute top-0 right-0",children:k.jsxs("button",{type:"button",onClick:()=>r(e.id),className:"-m-2 p-2 inline-flex text-gray-400 hover:text-gray-500",children:[k.jsx("span",{className:"sr-only",children:"Remove"}),k.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:k.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})]})})]},e.id))})]}),k.jsxs("section",{"aria-labelledby":"summary-heading",className:"mt-16 bg-gray-50 rounded-lg px-4 py-6 sm:p-6 lg:p-8 lg:mt-0 lg:col-span-5",children:[k.jsx("h2",{id:"summary-heading",className:"text-lg font-medium text-gray-900",children:"Order summary"}),k.jsxs("dl",{className:"mt-6 space-y-4",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("dt",{className:"text-sm text-gray-600",children:"Subtotal"}),k.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:["",o.toLocaleString()]})]}),k.jsxs("div",{className:"border-t border-gray-200 pt-4 flex items-center justify-between",children:[k.jsx("dt",{className:"text-base font-medium text-gray-900",children:"Order total"}),k.jsxs("dd",{className:"text-base font-medium text-gray-900",children:["",o.toLocaleString()]})]})]}),k.jsx("div",{className:"mt-6",children:k.jsx("button",{onClick:()=>u("/checkout"),className:"w-full bg-main border border-transparent rounded-md shadow-sm py-3 px-4 text-base font-medium text-white hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-main",children:"Checkout"})}),k.jsx("div",{className:"mt-6 text-center text-sm",children:k.jsxs("p",{children:["or"," ",k.jsxs(i,{to:"/",className:"font-medium text-main hover:text-opacity-80",children:["Continue Shopping",k.jsx("span",{"aria-hidden":"true",children:" "})]})]})})]})]})]})})};function yN(){return k.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[k.jsx("h1",{className:"text-3xl font-bold text-indigo-800 mb-8",children:"Coaching History"}),k.jsx("p",{className:"text-gray-700",children:"View your past coaching sessions and programs here."})]})}const xN=()=>{const{cart:e,isOpen:t,setIsOpen:n,removeFromCart:r,updateQuantity:s,cartTotal:a,itemCount:o,clearCart:l}=M();return t?k.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",children:k.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[k.jsx("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>n(!1),"aria-hidden":"true"}),k.jsx("div",{className:"fixed inset-y-0 right-0 max-w-full flex",children:k.jsx("div",{className:"w-screen max-w-md",children:k.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl overflow-y-scroll",children:[k.jsxs("div",{className:"flex-1 py-6 overflow-y-auto px-4 sm:px-6",children:[k.jsxs("div",{className:"flex items-start justify-between",children:[k.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Shopping cart"}),k.jsx("div",{className:"ml-3 h-7 flex items-center",children:k.jsxs("button",{type:"button",className:"-m-2 p-2 text-gray-400 hover:text-gray-500",onClick:()=>n(!1),children:[k.jsx("span",{className:"sr-only",children:"Close panel"}),k.jsx(Kf,{className:"h-6 w-6","aria-hidden":"true"})]})})]}),k.jsx("div",{className:"mt-8",children:k.jsx("div",{className:"flow-root",children:0===e.length?k.jsxs("div",{className:"text-center py-12",children:[k.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),k.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Your cart is empty"}),k.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start adding some items to your cart"})]}):k.jsx("ul",{className:"-my-6 divide-y divide-gray-200",children:e.map(e=>k.jsxs("li",{className:"py-6 flex",children:[k.jsx("div",{className:"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden",children:k.jsx("img",{src:e.image||"/placeholder-program.jpg",alt:e.name,className:"w-full h-full object-cover object-center"})}),k.jsxs("div",{className:"ml-4 flex-1 flex flex-col",children:[k.jsx("div",{children:k.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[k.jsx("h3",{children:k.jsx(i,{to:`/programs/${e.slug}`,onClick:()=>n(!1),children:e.name})}),k.jsxs("p",{className:"ml-4",children:["",e.price.toLocaleString()]})]})}),k.jsxs("div",{className:"flex-1 flex items-end justify-between text-sm",children:[k.jsxs("div",{className:"flex items-center border rounded-md overflow-hidden",children:[k.jsx("button",{onClick:()=>s(e.id,e.quantity-1),className:"px-2 py-1 bg-gray-100 hover:bg-gray-200",children:k.jsx($f,{className:"h-4 w-4"})}),k.jsx("span",{className:"px-3 py-1",children:e.quantity}),k.jsx("button",{onClick:()=>s(e.id,e.quantity+1),className:"px-2 py-1 bg-gray-100 hover:bg-gray-200",children:k.jsx(Wf,{className:"h-4 w-4"})})]}),k.jsx("div",{className:"flex",children:k.jsx("button",{type:"button",onClick:()=>r(e.id),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Remove"})})]})]})]},e.id))})})})]}),e.length>0&&k.jsxs("div",{className:"border-t border-gray-200 py-6 px-4 sm:px-6",children:[k.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900 mb-4",children:[k.jsx("p",{children:"Subtotal"}),k.jsxs("p",{children:["",a.toLocaleString()]})]}),k.jsx("p",{className:"mt-0.5 text-sm text-gray-500 mb-6",children:"Shipping and taxes calculated at checkout."}),k.jsxs("div",{className:"space-y-3",children:[k.jsx(i,{to:"/checkout",className:"w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-[#8e6192] hover:bg-[#704091]",onClick:()=>n(!1),children:"Checkout"}),k.jsx("button",{type:"button",onClick:l,className:"w-full flex justify-center items-center px-6 py-3 border border-gray-300 rounded-md shadow-sm text-base font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Clear Cart"})]})]})]})})})]})}):null};function vN(){return k.jsx(wf,{children:k.jsx(O,{children:k.jsxs(f,{children:[k.jsx(Xf,{}),k.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[k.jsx(Qf,{}),k.jsx(xN,{}),k.jsx("main",{className:"flex-grow pt-20 md:pt-16",children:k.jsxs(d,{children:[k.jsx(h,{path:"/",element:k.jsx(xw,{})}),k.jsx(h,{path:"/mind",element:k.jsx(vw,{})}),k.jsx(h,{path:"/body",element:k.jsx(bw,{})}),k.jsx(h,{path:"/soul",element:k.jsx(ww,{})}),k.jsx(h,{path:"/store",element:k.jsx(Bb,{})}),k.jsx(h,{path:"/store/:slug",element:k.jsx(hw,{})}),k.jsx(h,{path:"/store/*",element:k.jsx(Bb,{})}),k.jsx(h,{path:"/about",element:k.jsx(Ew,{})}),k.jsx(h,{path:"/contact",element:k.jsx(zw,{})}),k.jsx(h,{path:"/refund-and-cancellation",element:k.jsx(Uw,{})}),k.jsx(h,{path:"/shipping-and-delivery",element:k.jsx(Vw,{})}),k.jsx(h,{path:"/terms-and-conditions",element:k.jsx(Bw,{})}),k.jsx(h,{path:"/privacy-policy",element:k.jsx(qw,{})}),k.jsx(h,{path:"/sessions",element:k.jsx(Gw,{})}),k.jsx(h,{path:"/sessions/:slug",element:k.jsx(sN,{})}),k.jsx(h,{path:"/programs/:slug",element:k.jsx(mN,{})}),k.jsx(h,{path:"/blog",element:k.jsx(uN,{})}),k.jsx(h,{path:"/blog/:slug",element:k.jsx(dN,{})}),k.jsx(h,{path:"/all-articles",element:k.jsx(hN,{})}),k.jsx(h,{path:"/programs",element:k.jsx(Fb,{})}),k.jsx(h,{path:"/login",element:k.jsx(Nw,{})}),k.jsx(h,{path:"/signup",element:k.jsx(Sw,{})}),k.jsx(h,{path:"/reset-password",element:k.jsx(kw,{})}),k.jsx(h,{path:"/about",element:k.jsx(Ew,{})}),k.jsx(h,{path:"/cart",element:k.jsx(Yf,{children:k.jsx(gN,{})})}),k.jsx(h,{path:"/favorites",element:k.jsx(Yf,{children:k.jsx(ov,{})})}),k.jsx(h,{path:"/coaching-history",element:k.jsx(Yf,{children:k.jsx(yN,{})})}),k.jsx(h,{path:"/checkout",element:k.jsx(Yf,{children:k.jsx(Zx,{})})}),k.jsx(h,{path:"/order-success",element:k.jsx(Yf,{children:k.jsx(fN,{})})}),k.jsx(h,{path:"/dashboard/*",element:k.jsx(Yf,{children:k.jsx(lv,{})})}),k.jsx(h,{path:"/dashboard",element:k.jsx(Yf,{children:k.jsx(ev,{})})})]})}),k.jsx(mw,{}),k.jsx(Jf,{})]})]})})})}const bN={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_RAZORPAY_KEY_ID:"rzp_live_RXhpUtbyMYatfE",VITE_RAZORPAY_KEY_SECRET:"P2egh0EAkEN2Kh95dMtJaY56",VITE_SANITY_API_VERSION:"2023-07-21",VITE_SANITY_DATASET:"production1",VITE_SANITY_PROJECT_ID:"n5smwbzi",VITE_SANITY_USE_CDN:"true",VITE_USER_NODE_ENV:"production"};function wN(e){const t=bN[e];if(!t)throw new Error(` Missing required environment variable: ${e}`);return t.trim()}const NN=wN("VITE_SANITY_PROJECT_ID"),jN=wN("VITE_SANITY_DATASET"),SN=NN.replace(/\.api\.sanity\.io.*$/,"").trim();SN!==NN&&console.warn(" Fixed malformed VITE_SANITY_PROJECT_ID:",NN,"",SN);const kN={projectId:SN,dataset:jN,apiVersion:"2023-07-21",useCdn:!0,token:void 0,withCredentials:!1,ignoreBrowserTokenWarning:!0},EN=g({...kN,fetch:async(e,t={})=>{const n=await fetch(e,{...t,headers:{"Content-Type":"application/json",Accept:"application/json",...kN.token,...t.headers||{}}});if(!n.ok){const e=await n.text();throw new Error(` Sanity API Error: ${n.status} ${e}`)}return n},requestTagPrefix:"sanity-js"}),TN=async()=>{try{const e=await EN.fetch('*[_type == "program"][0]');return console.log(" Sanity connection successful"),{success:!0,data:e}}catch(e){return console.error(" Sanity connection failed:",e.message),{success:!1,error:e.message}}};"4173"===window.location.port&&TN(),window.testSanity=TN,A.createRoot(document.getElementById("root")).render(k.jsx(l.StrictMode,{children:k.jsx(vN,{})})),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{}).catch(e=>{console.error("ServiceWorker registration failed:",e)})});
