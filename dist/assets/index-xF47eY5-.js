import{r as e,a as t,g as s,b as n,u as i,L as r,c as a,R as o,d as l,B as c,e as d,f as u}from"./react-CssG_QhI.js";import{c as h}from"./vendor-CcYgj9Uj.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var p,m,f={exports:{}},g={};var y,x=(m||(m=1,f.exports=function(){if(p)return g;p=1;var t=e(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,n){var o,l={},c=null,d=null;for(o in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,o)&&!a.hasOwnProperty(o)&&(l[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===l[o]&&(l[o]=t[o]);return{$$typeof:s,type:e,key:c,ref:d,props:l,_owner:r.current}}return g.Fragment=n,g.jsx=o,g.jsxs=o,g}()),f.exports),v={};const w=s(function(){if(y)return v;y=1;var e=t();return v.createRoot=e.createRoot,v.hydrateRoot=e.hydrateRoot,v}()),b=n.createContext(),N=({children:e})=>{const[t,s]=n.useState([]),[i,r]=n.useState(!1);n.useEffect(()=>{const e=localStorage.getItem("svasamCart");if(e)try{s(JSON.parse(e))}catch(t){console.error("Failed to parse cart from localStorage",t),localStorage.removeItem("svasamCart")}},[]),n.useEffect(()=>{t.length>0?localStorage.setItem("svasamCart",JSON.stringify(t)):localStorage.removeItem("svasamCart")},[t]);const a=e=>{s(t=>t.filter(t=>t.id!==e))},o=t.reduce((e,t)=>e+t.price*t.quantity,0),l=t.reduce((e,t)=>e+t.quantity,0);return x.jsx(b.Provider,{value:{cart:t,isOpen:i,setIsOpen:r,addToCart:e=>{s(t=>{const s=t.findIndex(t=>t.id===e.id);if(s>=0){const n=[...t];return n[s]={...n[s],quantity:n[s].quantity+e.quantity},n}return[...t,e]}),r(!0)},removeFromCart:a,updateQuantity:(e,t)=>{t<=0?a(e):s(s=>s.map(s=>s.id===e?{...s,quantity:t}:s))},clearCart:()=>{s([]),localStorage.removeItem("svasamCart")},cartTotal:o,itemCount:l},children:e})},E=()=>{const e=n.useContext(b);if(!e)throw new Error("useCart must be used within a CartProvider");return e};function S(){const e=localStorage.getItem("svasam_user");if(!e)return null;try{return JSON.parse(e)}catch{return null}}function j({title:e,titleId:t,...s},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const T=n.forwardRef(j);function _({title:e,titleId:t,...s},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const I=n.forwardRef(_);function C({title:e,titleId:t,...s},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const k=n.forwardRef(C);function A({title:e,titleId:t,...s},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const P=n.forwardRef(A),O=()=>{const{itemCount:e,setIsOpen:t}=E();return x.jsx("div",{className:"relative",children:x.jsxs("button",{onClick:()=>t(!0),className:"p-2 text-gray-400 hover:text-gray-500 relative",children:[x.jsx("span",{className:"sr-only",children:"Cart"}),x.jsx(k,{className:"h-6 w-6","aria-hidden":"true"}),e>0&&x.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-main text-xs font-medium text-white",children:e>9?"9+":e})]})})},M=({to:e,children:t,...s})=>{const n=i();return x.jsx(r,{to:e,onClick:t=>{t.preventDefault(),n(e),window.location.reload()},...s,children:t})};function D(){const[e,t]=n.useState(!1),[s,a]=n.useState(null),o=i(),l=()=>{o(window.location.pathname),window.location.reload()};n.useEffect(()=>{const e=()=>{a(S()),l()};return window.addEventListener("storage",e),a(S()),()=>{window.removeEventListener("storage",e)}},[o]),n.useEffect(()=>{a(S());const e=()=>a(S());return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]);return x.jsxs("nav",{className:"bg-background shadow px-6 py-4 flex items-center sticky top-0 z-50",children:[x.jsx("div",{className:"flex items-center gap-2",children:x.jsx(r,{to:"/",className:"flex items-center","aria-label":"Svasam Home",children:x.jsx("img",{src:"/icons/svasam%20logo%20copy.png",alt:"Svasam Logo",className:"h-10 w-auto"})})}),x.jsxs("ul",{className:"flex gap-6 font-medium text-accent flex-1 justify-center",children:[x.jsxs("li",{className:"relative group",children:[x.jsxs("button",{className:"flex items-center gap-1 hover:text-main transition focus:outline-none",children:["Categories",x.jsx("svg",{className:"w-4 h-4 text-main group-hover:rotate-180 transition-transform",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),x.jsx("div",{className:"absolute left-0 mt-3 w-48 bg-gradient-to-br from-background to-white rounded-xl shadow-2xl border border-accent opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 pointer-events-none group-hover:pointer-events-auto group-focus-within:pointer-events-auto transform scale-95 group-hover:scale-100 group-focus-within:scale-100 transition-all duration-200 z-30",children:x.jsxs("ul",{className:"py-3 px-1",children:[x.jsx("li",{children:x.jsx(M,{to:"/mind",className:"block px-5 py-2 rounded-lg text-main hover:bg-accent hover:text-background transition font-semibold",children:"Mind"})}),x.jsx("li",{children:x.jsx(M,{to:"/body",className:"block px-5 py-2 rounded-lg text-main hover:bg-accent hover:text-background transition font-semibold",children:"Body"})}),x.jsx("li",{children:x.jsx(M,{to:"/soul",className:"block px-5 py-2 rounded-lg text-main hover:bg-accent hover:text-background transition font-semibold",children:"Soul"})})]})})]}),x.jsx("li",{children:x.jsx(M,{to:"/store",className:"hover:text-main transition",children:"Svasam Store"})}),x.jsx("li",{children:x.jsx(M,{to:"/sessions",className:"hover:text-main transition",children:"Svasam Sessions"})}),x.jsx("li",{children:x.jsx(M,{to:"/blog",className:"hover:text-main transition",children:"Blog"})})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"relative",children:x.jsx(O,{})}),s?x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"px-6 py-2 rounded-full bg-gradient-to-r from-purple-100 via-purple-200 to-blue-100 text-main font-semibold shadow-lg border border-purple-200",children:[x.jsx("svg",{className:"w-5 h-5 inline-block mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 11a3 3 0 11-6 0 3 3 0 016 0z"})}),s.name||"User"]}),x.jsx("button",{onClick:()=>{localStorage.removeItem("svasam_user"),a(null),l()},className:"ml-2 px-4 py-2 rounded-full bg-red-100 text-red-700 font-semibold shadow border border-red-200 hover:bg-red-200 transition",children:"Logout"})]}):x.jsxs(r,{to:"/login",className:"flex items-center gap-2 px-6 py-2 rounded-full bg-gradient-to-r from-purple-100 via-purple-200 to-blue-100 text-main font-semibold shadow-lg hover:shadow-xl hover:brightness-105 hover:-translate-y-0.5 transition-all duration-200 border border-purple-200",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 11a3 3 0 11-6 0 3 3 0 016 0z"})}),"My Registration / Login"]})]})]})}function L(){const{pathname:e}=a();return n.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[e]),null}var R,V={exports:{}};function U(){return R||(R=1,V.exports=function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}function t(e,t){var s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(s)return(s=s.call(e)).next.bind(s);if(Array.isArray(e)||(s=n(e))||t){s&&(e=s);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},s.apply(null,arguments)}function n(t,s){if(t){if("string"==typeof t)return e(t,s);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,s):void 0}}var i="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function r(e){var t=e.split("-"),s=t[1],n=t[2],r=t[3];if(!s||!n||!r)throw new Error("Malformed asset _ref '"+e+"'. Expected an id like \""+i+'".');var a=n.split("x"),o=+a[0],l=+a[1];if(!isFinite(o)||!isFinite(l))throw new Error("Malformed asset _ref '"+e+"'. Expected an id like \""+i+'".');return{id:s,width:o,height:l,format:r}}var a=function(e){return!!e&&"string"==typeof e._ref},o=function(e){return!!e&&"string"==typeof e._id},l=function(e){var t=e;return!(!t||!t.asset)&&"string"==typeof t.asset.url},c=function(e){if("object"==typeof e&&null!==e){var t=e;return t._upload&&(!t.asset||!t.asset._ref)}return!1};function d(e){if(!e)return null;var t;if("string"==typeof e&&u(e))t={asset:{_ref:h(e)}};else if("string"==typeof e)t={asset:{_ref:e}};else if(a(e))t={asset:e};else if(o(e))t={asset:{_ref:e._id||""}};else if(l(e))t={asset:{_ref:h(e.asset.url)}};else{if("object"!=typeof e.asset)return null;t=s({},e)}var n=e;return n.crop&&(t.crop=n.crop),n.hotspot&&(t.hotspot=n.hotspot),p(t)}function u(e){return/^https?:\/\//.test(""+e)}function h(e){return("image-"+e.split("/").slice(-1)[0]).replace(/\.([a-z]+)$/,"-$1")}function p(e){if(e.crop&&e.hotspot)return e;var t=s({},e);return t.crop||(t.crop={left:0,top:0,bottom:0,right:0}),t.hotspot||(t.hotspot={x:.5,y:.5,height:1,width:1}),t}var m=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function f(e){var t=s({},e||{}),n=t.source;delete t.source;var i=d(n);if(!i){if(n&&c(n))return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8HwQACfsD/QNViZkAAAAASUVORK5CYII=";throw new Error("Unable to resolve image URL from source ("+JSON.stringify(n)+")")}var a=r(i.asset._ref||i.asset._id||""),o=Math.round(i.crop.left*a.width),l=Math.round(i.crop.top*a.height),u={left:o,top:l,width:Math.round(a.width-i.crop.right*a.width-o),height:Math.round(a.height-i.crop.bottom*a.height-l)},h=i.hotspot.height*a.height/2,p=i.hotspot.width*a.width/2,m=i.hotspot.x*a.width,f=i.hotspot.y*a.height,x={left:m-p,top:f-h,right:m+p,bottom:f+h};return t.rect||t.focalPoint||t.ignoreImageParams||t.crop||(t=s({},t,y({crop:u,hotspot:x},t))),g(s({},t,{asset:a}))}function g(e){var t=(e.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),s=e.vanityName?"/"+e.vanityName:"",n=e.asset.id+"-"+e.asset.width+"x"+e.asset.height+"."+e.asset.format+s,i=t+"/images/"+e.projectId+"/"+e.dataset+"/"+n,r=[];if(e.rect){var a=e.rect,o=a.left,l=a.top,c=a.width,d=a.height;(0!==o||0!==l||d!==e.asset.height||c!==e.asset.width)&&r.push("rect="+o+","+l+","+c+","+d)}e.bg&&r.push("bg="+e.bg),e.focalPoint&&(r.push("fp-x="+e.focalPoint.x),r.push("fp-y="+e.focalPoint.y));var u=[e.flipHorizontal&&"h",e.flipVertical&&"v"].filter(Boolean).join("");return u&&r.push("flip="+u),m.forEach(function(t){var s=t[0],n=t[1];void 0!==e[s]?r.push(n+"="+encodeURIComponent(e[s])):void 0!==e[n]&&r.push(n+"="+encodeURIComponent(e[n]))}),0===r.length?i:i+"?"+r.join("&")}function y(e,t){var s,n=t.width,i=t.height;if(!n||!i)return{width:n,height:i,rect:e.crop};var r=e.crop,a=e.hotspot,o=n/i;if(r.width/r.height>o){var l=Math.round(r.height),c=Math.round(l*o),d=Math.max(0,Math.round(r.top)),u=Math.round((a.right-a.left)/2+a.left),h=Math.max(0,Math.round(u-c/2));h<r.left?h=r.left:h+c>r.left+r.width&&(h=r.left+r.width-c),s={left:h,top:d,width:c,height:l}}else{var p=r.width,m=Math.round(p/o),f=Math.max(0,Math.round(r.left)),g=Math.round((a.bottom-a.top)/2+a.top),y=Math.max(0,Math.round(g-m/2));y<r.top?y=r.top:y+m>r.top+r.height&&(y=r.top+r.height-m),s={left:f,top:y,width:p,height:m}}return{width:n,height:i,rect:s}}var x=["clip","crop","fill","fillmax","max","scale","min"],v=["top","bottom","left","right","center","focalpoint","entropy"],w=["format"];function b(e){return!(!e||!("config"in e))&&"function"==typeof e.config}function N(e){return!(!e||!("clientConfig"in e))&&"object"==typeof e.clientConfig}function E(e){for(var s,n=t(m);!(s=n()).done;){var i=s.value,r=i[0],a=i[1];if(e===r||e===a)return r}return e}function S(e){if(b(e)){var t=e.config(),s=t.apiHost,n=t.projectId,i=t.dataset;return new j(null,{baseUrl:(s||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:n,dataset:i})}if(N(e)){var r=e.clientConfig,a=r.apiHost,o=r.projectId,l=r.dataset;return new j(null,{baseUrl:(a||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:o,dataset:l})}return new j(null,e||{})}var j=function(){function e(e,t){this.options=void 0,this.options=e?s({},e.options||{},t||{}):s({},t||{})}var t=e.prototype;return t.withOptions=function(t){var n=t.baseUrl||this.options.baseUrl,i={baseUrl:n};for(var r in t)t.hasOwnProperty(r)&&(i[E(r)]=t[r]);return new e(this,s({baseUrl:n},i))},t.image=function(e){return this.withOptions({source:e})},t.dataset=function(e){return this.withOptions({dataset:e})},t.projectId=function(e){return this.withOptions({projectId:e})},t.bg=function(e){return this.withOptions({bg:e})},t.dpr=function(e){return this.withOptions(e&&1!==e?{dpr:e}:{})},t.width=function(e){return this.withOptions({width:e})},t.height=function(e){return this.withOptions({height:e})},t.focalPoint=function(e,t){return this.withOptions({focalPoint:{x:e,y:t}})},t.maxWidth=function(e){return this.withOptions({maxWidth:e})},t.minWidth=function(e){return this.withOptions({minWidth:e})},t.maxHeight=function(e){return this.withOptions({maxHeight:e})},t.minHeight=function(e){return this.withOptions({minHeight:e})},t.size=function(e,t){return this.withOptions({width:e,height:t})},t.blur=function(e){return this.withOptions({blur:e})},t.sharpen=function(e){return this.withOptions({sharpen:e})},t.rect=function(e,t,s,n){return this.withOptions({rect:{left:e,top:t,width:s,height:n}})},t.format=function(e){return this.withOptions({format:e})},t.invert=function(e){return this.withOptions({invert:e})},t.orientation=function(e){return this.withOptions({orientation:e})},t.quality=function(e){return this.withOptions({quality:e})},t.forceDownload=function(e){return this.withOptions({download:e})},t.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},t.flipVertical=function(){return this.withOptions({flipVertical:!0})},t.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},t.fit=function(e){if(-1===x.indexOf(e))throw new Error('Invalid fit mode "'+e+'"');return this.withOptions({fit:e})},t.crop=function(e){if(-1===v.indexOf(e))throw new Error('Invalid crop mode "'+e+'"');return this.withOptions({crop:e})},t.saturation=function(e){return this.withOptions({saturation:e})},t.auto=function(e){if(-1===w.indexOf(e))throw new Error('Invalid auto mode "'+e+'"');return this.withOptions({auto:e})},t.pad=function(e){return this.withOptions({pad:e})},t.vanityName=function(e){return this.withOptions({vanityName:e})},t.frame=function(e){if(1!==e)throw new Error('Invalid frame value "'+e+'"');return this.withOptions({frame:e})},t.url=function(){return f(this.options)},t.toString=function(){return this.url()},e}();return S}()),V.exports}const F=s(U()),B=h({projectId:"n5smwbzi",dataset:"production1",apiVersion:"2023-05-03",useCdn:!0});F(B);const z=["mind","body","soul"];function $(e){const[t,s]=n.useState([]),[i,r]=n.useState(!0),[a,o]=n.useState(null),l=n.useCallback(async()=>{if(!e)return s([]),void r(!1);if(!z.includes(e)){const t=`Invalid category: ${e}. Must be one of: ${z.join(", ")}`;return console.error(t),o(new Error(t)),void r(!1)}r(!0),o(null);try{const t='*[_type == "program" && category == $category] {\n        _id,\n        title,\n        description,\n        category,\n        "imageUrl": image.asset->url,\n        price,\n        duration,\n        "slug": select(slug.current != null => slug.current, _id) // Fallback to _id if no slug\n      } | order(title asc)';0;const n=await B.fetch(t,{category:e});0,s(Array.isArray(n)?n:[]),o(null)}catch(t){console.error("Error fetching programs:",{error:t.message,category:e,timestamp:(new Date).toISOString()}),o(t),s([])}finally{r(!1)}},[e]);return n.useEffect(()=>{let t=!0;return e?(async()=>{try{await l()}catch(e){t&&(console.error("Error in loadData:",e),o(e),r(!1))}})():(s([]),r(!1)),()=>{t=!1}},[e,l]),{programs:t,loading:i,error:a,refetch:l}}function q(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function H(e,t){void 0===e&&(e={}),void 0===t&&(t={});const s=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>s.indexOf(e)<0).forEach(s=>{void 0===e[s]?e[s]=t[s]:q(t[s])&&q(e[s])&&Object.keys(t[s]).length>0&&H(e[s],t[s])})}const W={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function G(){const e="undefined"!=typeof document?document:{};return H(e,W),e}const K={document:W,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function Y(){const e="undefined"!=typeof window?window:{};return H(e,K),e}function X(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function Q(){return Date.now()}function J(e,t){void 0===t&&(t="x");const s=Y();let n,i,r;const a=function(e){const t=Y();let s;return t.getComputedStyle&&(s=t.getComputedStyle(e,null)),!s&&e.currentStyle&&(s=e.currentStyle),s||(s=e.style),s}(e);return s.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(e=>e.replace(",",".")).join(", ")),r=new s.WebKitCSSMatrix("none"===i?"":i)):(r=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=r.toString().split(",")),"x"===t&&(i=s.WebKitCSSMatrix?r.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(i=s.WebKitCSSMatrix?r.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),i||0}function Z(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function ee(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function te(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let s=1;s<arguments.length;s+=1){const n=s<0||arguments.length<=s?void 0:arguments[s];if(null!=n&&!ee(n)){const s=Object.keys(Object(n)).filter(e=>t.indexOf(e)<0);for(let t=0,i=s.length;t<i;t+=1){const i=s[t],r=Object.getOwnPropertyDescriptor(n,i);void 0!==r&&r.enumerable&&(Z(e[i])&&Z(n[i])?n[i].__swiper__?e[i]=n[i]:te(e[i],n[i]):!Z(e[i])&&Z(n[i])?(e[i]={},n[i].__swiper__?e[i]=n[i]:te(e[i],n[i])):e[i]=n[i])}}}return e}function se(e,t,s){e.style.setProperty(t,s)}function ne(e){let{swiper:t,targetPosition:s,side:n}=e;const i=Y(),r=-t.translate;let a,o=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const c=s>r?"next":"prev",d=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,u=()=>{a=(new Date).getTime(),null===o&&(o=a);const e=Math.max(Math.min((a-o)/l,1),0),c=.5-Math.cos(e*Math.PI)/2;let h=r+c*(s-r);if(d(h,s)&&(h=s),t.wrapperEl.scrollTo({[n]:h}),d(h,s))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:h})}),void i.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=i.requestAnimationFrame(u)};u()}function ie(e,t){void 0===t&&(t="");const s=Y(),n=[...e.children];return s.HTMLSlotElement&&e instanceof HTMLSlotElement&&n.push(...e.assignedElements()),t?n.filter(e=>e.matches(t)):n}function re(e){try{return void console.warn(e)}catch(t){}}function ae(e,t){void 0===t&&(t=[]);const s=document.createElement(e);return s.classList.add(...Array.isArray(t)?t:function(e){return void 0===e&&(e=""),e.trim().split(" ").filter(e=>!!e.trim())}(t)),s}function oe(e,t){return Y().getComputedStyle(e,null).getPropertyValue(t)}function le(e){let t,s=e;if(s){for(t=0;null!==(s=s.previousSibling);)1===s.nodeType&&(t+=1);return t}}function ce(e,t){const s=[];let n=e.parentElement;for(;n;)t?n.matches(t)&&s.push(n):s.push(n),n=n.parentElement;return s}function de(e,t,s){const n=Y();return e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom"))}function ue(e){return(Array.isArray(e)?e:[e]).filter(e=>!!e)}function he(e,t){void 0===t&&(t=""),"undefined"!=typeof trustedTypes?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:e=>e}).createHTML(t):e.innerHTML=t}let pe,me,fe;function ge(){return pe||(pe=function(){const e=Y(),t=G();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),pe}function ye(e){return void 0===e&&(e={}),me||(me=function(e){let{userAgent:t}=void 0===e?{}:e;const s=ge(),n=Y(),i=n.navigator.platform,r=t||n.navigator.userAgent,a={ios:!1,android:!1},o=n.screen.width,l=n.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let d=r.match(/(iPad).*OS\s([\d_]+)/);const u=r.match(/(iPod)(.*OS\s([\d_]+))?/),h=!d&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===i;let m="MacIntel"===i;return!d&&m&&s.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${o}x${l}`)>=0&&(d=r.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),m=!1),c&&!p&&(a.os="android",a.android=!0),(d||h||u)&&(a.os="ios",a.ios=!0),a}(e)),me}function xe(){return fe||(fe=function(){const e=Y(),t=ye();let s=!1;function n(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(n()){const t=String(e.navigator.userAgent);if(t.includes("Version/")){const[e,n]=t.split("Version/")[1].split(" ")[0].split(".").map(e=>Number(e));s=e<16||16===e&&n<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),r=n();return{isSafari:s||r,needPerspectiveFix:s,need3dFix:r||i&&t.ios,isWebView:i}}()),fe}const ve=(e,t,s)=>{t&&!e.classList.contains(s)?e.classList.add(s):!t&&e.classList.contains(s)&&e.classList.remove(s)};const we=(e,t,s)=>{t&&!e.classList.contains(s)?e.classList.add(s):!t&&e.classList.contains(s)&&e.classList.remove(s)};const be=(e,t)=>{if(!e||e.destroyed||!e.params)return;const s=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(s){let t=s.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(s.shadowRoot?t=s.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(t=s.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())})),t&&t.remove()}},Ne=(e,t)=>{if(!e.slides[t])return;const s=e.slides[t].querySelector('[loading="lazy"]');s&&s.removeAttribute("loading")},Ee=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const s=e.slides.length;if(!s||!t||t<0)return;t=Math.min(t,s);const n="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),i=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const s=i,r=[s-t];return r.push(...Array.from({length:t}).map((e,t)=>s+n+t)),void e.slides.forEach((t,s)=>{r.includes(t.column)&&Ne(e,s)})}const r=i+n-1;if(e.params.rewind||e.params.loop)for(let a=i-t;a<=r+t;a+=1){const t=(a%s+s)%s;(t<i||t>r)&&Ne(e,t)}else for(let a=Math.max(i-t,0);a<=Math.min(r+t,s-1);a+=1)a!==i&&(a>r||a<i)&&Ne(e,a)};function Se(e){let{swiper:t,runCallbacks:s,direction:n,step:i}=e;const{activeIndex:r,previousIndex:a}=t;let o=n;o||(o=r>a?"next":r<a?"prev":"reset"),t.emit(`transition${i}`),s&&"reset"===o?t.emit(`slideResetTransition${i}`):s&&r!==a&&(t.emit(`slideChangeTransition${i}`),"next"===o?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`))}function je(e,t,s){const n=Y(),{params:i}=e,r=i.edgeSwipeDetection,a=i.edgeSwipeThreshold;return!r||!(s<=a||s>=n.innerWidth-a)||"prevent"===r&&(t.preventDefault(),!0)}function Te(e){const t=this,s=G();let n=e;n.originalEvent&&(n=n.originalEvent);const i=t.touchEventsData;if("pointerdown"===n.type){if(null!==i.pointerId&&i.pointerId!==n.pointerId)return;i.pointerId=n.pointerId}else"touchstart"===n.type&&1===n.targetTouches.length&&(i.touchId=n.targetTouches[0].identifier);if("touchstart"===n.type)return void je(t,n,n.targetTouches[0].pageX);const{params:r,touches:a,enabled:o}=t;if(!o)return;if(!r.simulateTouch&&"mouse"===n.pointerType)return;if(t.animating&&r.preventInteractionOnTransition)return;!t.animating&&r.cssMode&&r.loop&&t.loopFix();let l=n.target;if("wrapper"===r.touchEventsTarget&&!function(e,t){const s=Y();let n=t.contains(e);!n&&s.HTMLSlotElement&&t instanceof HTMLSlotElement&&(n=[...t.assignedElements()].includes(e),n||(n=function(e,t){const s=[t];for(;s.length>0;){const t=s.shift();if(e===t)return!0;s.push(...t.children,...t.shadowRoot?t.shadowRoot.children:[],...t.assignedElements?t.assignedElements():[])}}(e,t)));return n}(l,t.wrapperEl))return;if("which"in n&&3===n.which)return;if("button"in n&&n.button>0)return;if(i.isTouched&&i.isMoved)return;const c=!!r.noSwipingClass&&""!==r.noSwipingClass,d=n.composedPath?n.composedPath():n.path;c&&n.target&&n.target.shadowRoot&&d&&(l=d[0]);const u=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,h=!(!n.target||!n.target.shadowRoot);if(r.noSwiping&&(h?function(e,t){return void 0===t&&(t=this),function t(s){if(!s||s===G()||s===Y())return null;s.assignedSlot&&(s=s.assignedSlot);const n=s.closest(e);return n||s.getRootNode?n||t(s.getRootNode().host):null}(t)}(u,l):l.closest(u)))return void(t.allowClick=!0);if(r.swipeHandler&&!l.closest(r.swipeHandler))return;a.currentX=n.pageX,a.currentY=n.pageY;const p=a.currentX,m=a.currentY;if(!je(t,n,p))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=p,a.startY=m,i.touchStartTime=Q(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1);let f=!0;l.matches(i.focusableElements)&&(f=!1,"SELECT"===l.nodeName&&(i.isTouched=!1)),s.activeElement&&s.activeElement.matches(i.focusableElements)&&s.activeElement!==l&&("mouse"===n.pointerType||"mouse"!==n.pointerType&&!l.matches(i.focusableElements))&&s.activeElement.blur();const g=f&&t.allowTouchMove&&r.touchStartPreventDefault;!r.touchStartForcePreventDefault&&!g||l.isContentEditable||n.preventDefault(),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.animating&&!r.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",n)}function _e(e){const t=G(),s=this,n=s.touchEventsData,{params:i,touches:r,rtlTranslate:a,enabled:o}=s;if(!o)return;if(!i.simulateTouch&&"mouse"===e.pointerType)return;let l,c=e;if(c.originalEvent&&(c=c.originalEvent),"pointermove"===c.type){if(null!==n.touchId)return;if(c.pointerId!==n.pointerId)return}if("touchmove"===c.type){if(l=[...c.changedTouches].find(e=>e.identifier===n.touchId),!l||l.identifier!==n.touchId)return}else l=c;if(!n.isTouched)return void(n.startMoving&&n.isScrolling&&s.emit("touchMoveOpposite",c));const d=l.pageX,u=l.pageY;if(c.preventedByNestedSwiper)return r.startX=d,void(r.startY=u);if(!s.allowTouchMove)return c.target.matches(n.focusableElements)||(s.allowClick=!1),void(n.isTouched&&(Object.assign(r,{startX:d,startY:u,currentX:d,currentY:u}),n.touchStartTime=Q()));if(i.touchReleaseOnEdges&&!i.loop)if(s.isVertical()){if(u<r.startY&&s.translate<=s.maxTranslate()||u>r.startY&&s.translate>=s.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else{if(a&&(d>r.startX&&-s.translate<=s.maxTranslate()||d<r.startX&&-s.translate>=s.minTranslate()))return;if(!a&&(d<r.startX&&s.translate<=s.maxTranslate()||d>r.startX&&s.translate>=s.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==c.target&&"mouse"!==c.pointerType&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(n.focusableElements))return n.isMoved=!0,void(s.allowClick=!1);n.allowTouchCallbacks&&s.emit("touchMove",c),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=d,r.currentY=u;const h=r.currentX-r.startX,p=r.currentY-r.startY;if(s.params.threshold&&Math.sqrt(h**2+p**2)<s.params.threshold)return;if(void 0===n.isScrolling){let e;s.isHorizontal()&&r.currentY===r.startY||s.isVertical()&&r.currentX===r.startX?n.isScrolling=!1:h*h+p*p>=25&&(e=180*Math.atan2(Math.abs(p),Math.abs(h))/Math.PI,n.isScrolling=s.isHorizontal()?e>i.touchAngle:90-e>i.touchAngle)}if(n.isScrolling&&s.emit("touchMoveOpposite",c),void 0===n.startMoving&&(r.currentX===r.startX&&r.currentY===r.startY||(n.startMoving=!0)),n.isScrolling||"touchmove"===c.type&&n.preventTouchMoveFromPointerMove)return void(n.isTouched=!1);if(!n.startMoving)return;s.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let m=s.isHorizontal()?h:p,f=s.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;i.oneWayMovement&&(m=Math.abs(m)*(a?1:-1),f=Math.abs(f)*(a?1:-1)),r.diff=m,m*=i.touchRatio,a&&(m=-m,f=-f);const g=s.touchesDirection;s.swipeDirection=m>0?"prev":"next",s.touchesDirection=f>0?"prev":"next";const y=s.params.loop&&!i.cssMode,x="next"===s.touchesDirection&&s.allowSlideNext||"prev"===s.touchesDirection&&s.allowSlidePrev;if(!n.isMoved){if(y&&x&&s.loopFix({direction:s.swipeDirection}),n.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});s.wrapperEl.dispatchEvent(e)}n.allowMomentumBounce=!1,!i.grabCursor||!0!==s.allowSlideNext&&!0!==s.allowSlidePrev||s.setGrabCursor(!0),s.emit("sliderFirstMove",c)}if((new Date).getTime(),!1!==i._loopSwapReset&&n.isMoved&&n.allowThresholdMove&&g!==s.touchesDirection&&y&&x&&Math.abs(m)>=1)return Object.assign(r,{startX:d,startY:u,currentX:d,currentY:u,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,void(n.startTranslate=n.currentTranslate);s.emit("sliderMove",c),n.isMoved=!0,n.currentTranslate=m+n.startTranslate;let v=!0,w=i.resistanceRatio;if(i.touchReleaseOnEdges&&(w=0),m>0?(y&&x&&n.allowThresholdMove&&n.currentTranslate>(i.centeredSlides?s.minTranslate()-s.slidesSizesGrid[s.activeIndex+1]-("auto"!==i.slidesPerView&&s.slides.length-i.slidesPerView>=2?s.slidesSizesGrid[s.activeIndex+1]+s.params.spaceBetween:0)-s.params.spaceBetween:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>s.minTranslate()&&(v=!1,i.resistance&&(n.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+n.startTranslate+m)**w))):m<0&&(y&&x&&n.allowThresholdMove&&n.currentTranslate<(i.centeredSlides?s.maxTranslate()+s.slidesSizesGrid[s.slidesSizesGrid.length-1]+s.params.spaceBetween+("auto"!==i.slidesPerView&&s.slides.length-i.slidesPerView>=2?s.slidesSizesGrid[s.slidesSizesGrid.length-1]+s.params.spaceBetween:0):s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-("auto"===i.slidesPerView?s.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),n.currentTranslate<s.maxTranslate()&&(v=!1,i.resistance&&(n.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-n.startTranslate-m)**w))),v&&(c.preventedByNestedSwiper=!0),!s.allowSlideNext&&"next"===s.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!s.allowSlidePrev&&"prev"===s.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),s.allowSlidePrev||s.allowSlideNext||(n.currentTranslate=n.startTranslate),i.threshold>0){if(!(Math.abs(m)>i.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,n.currentTranslate=n.startTranslate,void(r.diff=s.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&s.freeMode||i.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(n.currentTranslate),s.setTranslate(n.currentTranslate))}function Ie(e){const t=this,s=t.touchEventsData;let n,i=e;i.originalEvent&&(i=i.originalEvent);if("touchend"===i.type||"touchcancel"===i.type){if(n=[...i.changedTouches].find(e=>e.identifier===s.touchId),!n||n.identifier!==s.touchId)return}else{if(null!==s.touchId)return;if(i.pointerId!==s.pointerId)return;n=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)){if(!(["pointercancel","contextmenu"].includes(i.type)&&(t.browser.isSafari||t.browser.isWebView)))return}s.pointerId=null,s.touchId=null;const{params:r,touches:a,rtlTranslate:o,slidesGrid:l,enabled:c}=t;if(!c)return;if(!r.simulateTouch&&"mouse"===i.pointerType)return;if(s.allowTouchCallbacks&&t.emit("touchEnd",i),s.allowTouchCallbacks=!1,!s.isTouched)return s.isMoved&&r.grabCursor&&t.setGrabCursor(!1),s.isMoved=!1,void(s.startMoving=!1);r.grabCursor&&s.isMoved&&s.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const d=Q(),u=d-s.touchStartTime;if(t.allowClick){const e=i.path||i.composedPath&&i.composedPath();t.updateClickedSlide(e&&e[0]||i.target,e),t.emit("tap click",i),u<300&&d-s.lastClickTime<300&&t.emit("doubleTap doubleClick",i)}if(s.lastClickTime=Q(),X(()=>{t.destroyed||(t.allowClick=!0)}),!s.isTouched||!s.isMoved||!t.swipeDirection||0===a.diff&&!s.loopSwapReset||s.currentTranslate===s.startTranslate&&!s.loopSwapReset)return s.isTouched=!1,s.isMoved=!1,void(s.startMoving=!1);let h;if(s.isTouched=!1,s.isMoved=!1,s.startMoving=!1,h=r.followFinger?o?t.translate:-t.translate:-s.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:h});const p=h>=-t.maxTranslate()&&!t.params.loop;let m=0,f=t.slidesSizesGrid[0];for(let w=0;w<l.length;w+=w<r.slidesPerGroupSkip?1:r.slidesPerGroup){const e=w<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==l[w+e]?(p||h>=l[w]&&h<l[w+e])&&(m=w,f=l[w+e]-l[w]):(p||h>=l[w])&&(m=w,f=l[l.length-1]-l[l.length-2])}let g=null,y=null;r.rewind&&(t.isBeginning?y=r.virtual&&r.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(g=0));const x=(h-l[m])/f,v=m<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(u>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(x>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?g:m+v):t.slideTo(m)),"prev"===t.swipeDirection&&(x>1-r.longSwipesRatio?t.slideTo(m+v):null!==y&&x<0&&Math.abs(x)>r.longSwipesRatio?t.slideTo(y):t.slideTo(m))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(i.target===t.navigation.nextEl||i.target===t.navigation.prevEl)?i.target===t.navigation.nextEl?t.slideTo(m+v):t.slideTo(m):("next"===t.swipeDirection&&t.slideTo(null!==g?g:m+v),"prev"===t.swipeDirection&&t.slideTo(null!==y?y:m))}}function Ce(){const e=this,{params:t,el:s}=e;if(s&&0===s.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:i,snapGrid:r}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const o=a&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||o?e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=i,e.allowSlideNext=n,e.params.watchOverflow&&r!==e.snapGrid&&e.checkOverflow()}function ke(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function Ae(){const e=this,{wrapperEl:t,rtlTranslate:s,enabled:n}=e;if(!n)return;let i;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const r=e.maxTranslate()-e.minTranslate();i=0===r?0:(e.translate-e.minTranslate())/r,i!==e.progress&&e.updateProgress(s?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function Pe(e){const t=this;be(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function Oe(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const Me=(e,t)=>{const s=G(),{params:n,el:i,wrapperEl:r,device:a}=e,o=!!n.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;i&&"string"!=typeof i&&(s[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:o}),i[l]("touchstart",e.onTouchStart,{passive:!1}),i[l]("pointerdown",e.onTouchStart,{passive:!1}),s[l]("touchmove",e.onTouchMove,{passive:!1,capture:o}),s[l]("pointermove",e.onTouchMove,{passive:!1,capture:o}),s[l]("touchend",e.onTouchEnd,{passive:!0}),s[l]("pointerup",e.onTouchEnd,{passive:!0}),s[l]("pointercancel",e.onTouchEnd,{passive:!0}),s[l]("touchcancel",e.onTouchEnd,{passive:!0}),s[l]("pointerout",e.onTouchEnd,{passive:!0}),s[l]("pointerleave",e.onTouchEnd,{passive:!0}),s[l]("contextmenu",e.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&i[l]("click",e.onClick,!0),n.cssMode&&r[l]("scroll",e.onScroll),n.updateOnWindowResize?e[c](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",Ce,!0):e[c]("observerUpdate",Ce,!0),i[l]("load",e.onLoad,{capture:!0}))};const De=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var Le={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Re(e,t){return function(s){void 0===s&&(s={});const n=Object.keys(s)[0],i=s[n];"object"==typeof i&&null!==i?(!0===e[n]&&(e[n]={enabled:!0}),"navigation"===n&&e[n]&&e[n].enabled&&!e[n].prevEl&&!e[n].nextEl&&(e[n].auto=!0),["pagination","scrollbar"].indexOf(n)>=0&&e[n]&&e[n].enabled&&!e[n].el&&(e[n].auto=!0),n in e&&"enabled"in i?("object"!=typeof e[n]||"enabled"in e[n]||(e[n].enabled=!0),e[n]||(e[n]={enabled:!1}),te(t,s)):te(t,s)):te(t,s)}}const Ve={eventsEmitter:{on(e,t,s){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof t)return n;const i=s?"unshift":"push";return e.split(" ").forEach(e=>{n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][i](t)}),n},once(e,t,s){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof t)return n;function i(){n.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];t.apply(n,r)}return i.__emitterProxy=t,n.on(e,i,s)},onAny(e,t){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof e)return s;const n=t?"unshift":"push";return s.eventsAnyListeners.indexOf(e)<0&&s.eventsAnyListeners[n](e),s},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const s=t.eventsAnyListeners.indexOf(e);return s>=0&&t.eventsAnyListeners.splice(s,1),t},off(e,t){const s=this;return!s.eventsListeners||s.destroyed?s:s.eventsListeners?(e.split(" ").forEach(e=>{void 0===t?s.eventsListeners[e]=[]:s.eventsListeners[e]&&s.eventsListeners[e].forEach((n,i)=>{(n===t||n.__emitterProxy&&n.__emitterProxy===t)&&s.eventsListeners[e].splice(i,1)})}),s):s},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,s,n;for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];"string"==typeof r[0]||Array.isArray(r[0])?(t=r[0],s=r.slice(1,r.length),n=e):(t=r[0].events,s=r[0].data,n=r[0].context||e),s.unshift(n);return(Array.isArray(t)?t:t.split(" ")).forEach(t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(e=>{e.apply(n,[t,...s])}),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach(e=>{e.apply(n,s)})}),e}},update:{updateSize:function(){const e=this;let t,s;const n=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:n.clientWidth,s=void 0!==e.params.height&&null!==e.params.height?e.params.height:n.clientHeight,0===t&&e.isHorizontal()||0===s&&e.isVertical()||(t=t-parseInt(oe(n,"padding-left")||0,10)-parseInt(oe(n,"padding-right")||0,10),s=s-parseInt(oe(n,"padding-top")||0,10)-parseInt(oe(n,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(s)&&(s=0),Object.assign(e,{width:t,height:s,size:e.isHorizontal()?t:s}))},updateSlides:function(){const e=this;function t(t,s){return parseFloat(t.getPropertyValue(e.getDirectionLabel(s))||0)}const s=e.params,{wrapperEl:n,slidesEl:i,size:r,rtlTranslate:a,wrongRTL:o}=e,l=e.virtual&&s.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,d=ie(i,`.${e.params.slideClass}, swiper-slide`),u=l?e.virtual.slides.length:d.length;let h=[];const p=[],m=[];let f=s.slidesOffsetBefore;"function"==typeof f&&(f=s.slidesOffsetBefore.call(e));let g=s.slidesOffsetAfter;"function"==typeof g&&(g=s.slidesOffsetAfter.call(e));const y=e.snapGrid.length,x=e.slidesGrid.length;let v=s.spaceBetween,w=-f,b=0,N=0;if(void 0===r)return;"string"==typeof v&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*r:"string"==typeof v&&(v=parseFloat(v)),e.virtualSize=-v,d.forEach(e=>{a?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""}),s.centeredSlides&&s.cssMode&&(se(n,"--swiper-centered-offset-before",""),se(n,"--swiper-centered-offset-after",""));const E=s.grid&&s.grid.rows>1&&e.grid;let S;E?e.grid.initSlides(d):e.grid&&e.grid.unsetSlides();const j="auto"===s.slidesPerView&&s.breakpoints&&Object.keys(s.breakpoints).filter(e=>void 0!==s.breakpoints[e].slidesPerView).length>0;for(let T=0;T<u;T+=1){let n;if(S=0,d[T]&&(n=d[T]),E&&e.grid.updateSlide(T,n,d),!d[T]||"none"!==oe(n,"display")){if("auto"===s.slidesPerView){j&&(d[T].style[e.getDirectionLabel("width")]="");const i=getComputedStyle(n),r=n.style.transform,a=n.style.webkitTransform;if(r&&(n.style.transform="none"),a&&(n.style.webkitTransform="none"),s.roundLengths)S=e.isHorizontal()?de(n,"width"):de(n,"height");else{const e=t(i,"width"),s=t(i,"padding-left"),r=t(i,"padding-right"),a=t(i,"margin-left"),o=t(i,"margin-right"),l=i.getPropertyValue("box-sizing");if(l&&"border-box"===l)S=e+a+o;else{const{clientWidth:t,offsetWidth:i}=n;S=e+s+r+a+o+(i-t)}}r&&(n.style.transform=r),a&&(n.style.webkitTransform=a),s.roundLengths&&(S=Math.floor(S))}else S=(r-(s.slidesPerView-1)*v)/s.slidesPerView,s.roundLengths&&(S=Math.floor(S)),d[T]&&(d[T].style[e.getDirectionLabel("width")]=`${S}px`);d[T]&&(d[T].swiperSlideSize=S),m.push(S),s.centeredSlides?(w=w+S/2+b/2+v,0===b&&0!==T&&(w=w-r/2-v),0===T&&(w=w-r/2-v),Math.abs(w)<.001&&(w=0),s.roundLengths&&(w=Math.floor(w)),N%s.slidesPerGroup===0&&h.push(w),p.push(w)):(s.roundLengths&&(w=Math.floor(w)),(N-Math.min(e.params.slidesPerGroupSkip,N))%e.params.slidesPerGroup===0&&h.push(w),p.push(w),w=w+S+v),e.virtualSize+=S+v,b=S,N+=1}}if(e.virtualSize=Math.max(e.virtualSize,r)+g,a&&o&&("slide"===s.effect||"coverflow"===s.effect)&&(n.style.width=`${e.virtualSize+v}px`),s.setWrapperSize&&(n.style[e.getDirectionLabel("width")]=`${e.virtualSize+v}px`),E&&e.grid.updateWrapperSize(S,h),!s.centeredSlides){const t=[];for(let n=0;n<h.length;n+=1){let i=h[n];s.roundLengths&&(i=Math.floor(i)),h[n]<=e.virtualSize-r&&t.push(i)}h=t,Math.floor(e.virtualSize-r)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-r)}if(l&&s.loop){const t=m[0]+v;if(s.slidesPerGroup>1){const n=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/s.slidesPerGroup),i=t*s.slidesPerGroup;for(let e=0;e<n;e+=1)h.push(h[h.length-1]+i)}for(let n=0;n<e.virtual.slidesBefore+e.virtual.slidesAfter;n+=1)1===s.slidesPerGroup&&h.push(h[h.length-1]+t),p.push(p[p.length-1]+t),e.virtualSize+=t}if(0===h.length&&(h=[0]),0!==v){const t=e.isHorizontal()&&a?"marginLeft":e.getDirectionLabel("marginRight");d.filter((e,t)=>!(s.cssMode&&!s.loop)||t!==d.length-1).forEach(e=>{e.style[t]=`${v}px`})}if(s.centeredSlides&&s.centeredSlidesBounds){let e=0;m.forEach(t=>{e+=t+(v||0)}),e-=v;const t=e>r?e-r:0;h=h.map(e=>e<=0?-f:e>t?t+g:e)}if(s.centerInsufficientSlides){let e=0;m.forEach(t=>{e+=t+(v||0)}),e-=v;const t=(s.slidesOffsetBefore||0)+(s.slidesOffsetAfter||0);if(e+t<r){const s=(r-e-t)/2;h.forEach((e,t)=>{h[t]=e-s}),p.forEach((e,t)=>{p[t]=e+s})}}if(Object.assign(e,{slides:d,snapGrid:h,slidesGrid:p,slidesSizesGrid:m}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){se(n,"--swiper-centered-offset-before",-h[0]+"px"),se(n,"--swiper-centered-offset-after",e.size/2-m[m.length-1]/2+"px");const t=-e.snapGrid[0],s=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(e=>e+t),e.slidesGrid=e.slidesGrid.map(e=>e+s)}if(u!==c&&e.emit("slidesLengthChange"),h.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==x&&e.emit("slidesGridLengthChange"),s.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!(l||s.cssMode||"slide"!==s.effect&&"fade"!==s.effect)){const t=`${s.containerModifierClass}backface-hidden`,n=e.el.classList.contains(t);u<=s.maxBackfaceHiddenSlides?n||e.el.classList.add(t):n&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,s=[],n=t.virtual&&t.params.virtual.enabled;let i,r=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const a=e=>n?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(e=>{s.push(e)});else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const e=t.activeIndex+i;if(e>t.slides.length&&!n)break;s.push(a(e))}else s.push(a(t.activeIndex));for(i=0;i<s.length;i+=1)if(void 0!==s[i]){const e=s[i].offsetHeight;r=e>r?e:r}(r||0===r)&&(t.wrapperEl.style.height=`${r}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,s=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=(e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop)-s-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,s=t.params,{slides:n,rtlTranslate:i,snapGrid:r}=t;if(0===n.length)return;void 0===n[0].swiperSlideOffset&&t.updateSlidesOffset();let a=-e;i&&(a=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let o=s.spaceBetween;"string"==typeof o&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*t.size:"string"==typeof o&&(o=parseFloat(o));for(let l=0;l<n.length;l+=1){const e=n[l];let c=e.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(c-=n[0].swiperSlideOffset);const d=(a+(s.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+o),u=(a-r[0]+(s.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+o),h=-(a-c),p=h+t.slidesSizesGrid[l],m=h>=0&&h<=t.size-t.slidesSizesGrid[l],f=h>=0&&h<t.size-1||p>1&&p<=t.size||h<=0&&p>=t.size;f&&(t.visibleSlides.push(e),t.visibleSlidesIndexes.push(l)),ve(e,f,s.slideVisibleClass),ve(e,m,s.slideFullyVisibleClass),e.progress=i?-d:d,e.originalProgress=i?-u:u}},updateProgress:function(e){const t=this;if(void 0===e){const s=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*s||0}const s=t.params,n=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:r,isEnd:a,progressLoop:o}=t;const l=r,c=a;if(0===n)i=0,r=!0,a=!0;else{i=(e-t.minTranslate())/n;const s=Math.abs(e-t.minTranslate())<1,o=Math.abs(e-t.maxTranslate())<1;r=s||i<=0,a=o||i>=1,s&&(i=0),o&&(i=1)}if(s.loop){const s=t.getSlideIndexByData(0),n=t.getSlideIndexByData(t.slides.length-1),i=t.slidesGrid[s],r=t.slidesGrid[n],a=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);o=l>=i?(l-i)/a:(l+a-r)/a,o>1&&(o-=1)}Object.assign(t,{progress:i,progressLoop:o,isBeginning:r,isEnd:a}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&t.updateSlidesProgress(e),r&&!l&&t.emit("reachBeginning toEdge"),a&&!c&&t.emit("reachEnd toEdge"),(l&&!r||c&&!a)&&t.emit("fromEdge"),t.emit("progress",i)},updateSlidesClasses:function(){const e=this,{slides:t,params:s,slidesEl:n,activeIndex:i}=e,r=e.virtual&&s.virtual.enabled,a=e.grid&&s.grid&&s.grid.rows>1,o=e=>ie(n,`.${s.slideClass}${e}, swiper-slide${e}`)[0];let l,c,d;if(r)if(s.loop){let t=i-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=o(`[data-swiper-slide-index="${t}"]`)}else l=o(`[data-swiper-slide-index="${i}"]`);else a?(l=t.find(e=>e.column===i),d=t.find(e=>e.column===i+1),c=t.find(e=>e.column===i-1)):l=t[i];l&&(a||(d=function(e,t){const s=[];for(;e.nextElementSibling;){const n=e.nextElementSibling;t?n.matches(t)&&s.push(n):s.push(n),e=n}return s}(l,`.${s.slideClass}, swiper-slide`)[0],s.loop&&!d&&(d=t[0]),c=function(e,t){const s=[];for(;e.previousElementSibling;){const n=e.previousElementSibling;t?n.matches(t)&&s.push(n):s.push(n),e=n}return s}(l,`.${s.slideClass}, swiper-slide`)[0],s.loop&&0===!c&&(c=t[t.length-1]))),t.forEach(e=>{we(e,e===l,s.slideActiveClass),we(e,e===d,s.slideNextClass),we(e,e===c,s.slidePrevClass)}),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,s=t.rtlTranslate?t.translate:-t.translate,{snapGrid:n,params:i,activeIndex:r,realIndex:a,snapIndex:o}=t;let l,c=e;const d=e=>{let s=e-t.virtual.slidesBefore;return s<0&&(s=t.virtual.slides.length+s),s>=t.virtual.slides.length&&(s-=t.virtual.slides.length),s};if(void 0===c&&(c=function(e){const{slidesGrid:t,params:s}=e,n=e.rtlTranslate?e.translate:-e.translate;let i;for(let r=0;r<t.length;r+=1)void 0!==t[r+1]?n>=t[r]&&n<t[r+1]-(t[r+1]-t[r])/2?i=r:n>=t[r]&&n<t[r+1]&&(i=r+1):n>=t[r]&&(i=r);return s.normalizeSlideIndex&&(i<0||void 0===i)&&(i=0),i}(t)),n.indexOf(s)>=0)l=n.indexOf(s);else{const e=Math.min(i.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/i.slidesPerGroup)}if(l>=n.length&&(l=n.length-1),c===r&&!t.params.loop)return void(l!==o&&(t.snapIndex=l,t.emit("snapIndexChange")));if(c===r&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=d(c));const u=t.grid&&i.grid&&i.grid.rows>1;let h;if(t.virtual&&i.virtual.enabled&&i.loop)h=d(c);else if(u){const e=t.slides.find(e=>e.column===c);let s=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(s)&&(s=Math.max(t.slides.indexOf(e),0)),h=Math.floor(s/i.grid.rows)}else if(t.slides[c]){const e=t.slides[c].getAttribute("data-swiper-slide-index");h=e?parseInt(e,10):c}else h=c;Object.assign(t,{previousSnapIndex:o,snapIndex:l,previousRealIndex:a,realIndex:h,previousIndex:r,activeIndex:c}),t.initialized&&Ee(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(a!==h&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const s=this,n=s.params;let i=e.closest(`.${n.slideClass}, swiper-slide`);!i&&s.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(e=>{!i&&e.matches&&e.matches(`.${n.slideClass}, swiper-slide`)&&(i=e)});let r,a=!1;if(i)for(let o=0;o<s.slides.length;o+=1)if(s.slides[o]===i){a=!0,r=o;break}if(!i||!a)return s.clickedSlide=void 0,void(s.clickedIndex=void 0);s.clickedSlide=i,s.virtual&&s.params.virtual.enabled?s.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):s.clickedIndex=r,n.slideToClickedSlide&&void 0!==s.clickedIndex&&s.clickedIndex!==s.activeIndex&&s.slideToClickedSlide()}},translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:s,translate:n,wrapperEl:i}=this;if(t.virtualTranslate)return s?-n:n;if(t.cssMode)return n;let r=J(i,e);return r+=this.cssOverflowAdjustment(),s&&(r=-r),r||0},setTranslate:function(e,t){const s=this,{rtlTranslate:n,params:i,wrapperEl:r,progress:a}=s;let o,l=0,c=0;s.isHorizontal()?l=n?-e:e:c=e,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?l:c,i.cssMode?r[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-l:-c:i.virtualTranslate||(s.isHorizontal()?l-=s.cssOverflowAdjustment():c-=s.cssOverflowAdjustment(),r.style.transform=`translate3d(${l}px, ${c}px, 0px)`);const d=s.maxTranslate()-s.minTranslate();o=0===d?0:(e-s.minTranslate())/d,o!==a&&s.updateProgress(e),s.emit("setTranslate",s.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,s,n,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===s&&(s=!0),void 0===n&&(n=!0);const r=this,{params:a,wrapperEl:o}=r;if(r.animating&&a.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let d;if(d=n&&e>l?l:n&&e<c?c:e,r.updateProgress(d),a.cssMode){const e=r.isHorizontal();if(0===t)o[e?"scrollLeft":"scrollTop"]=-d;else{if(!r.support.smoothScroll)return ne({swiper:r,targetPosition:-d,side:e?"left":"top"}),!0;o.scrollTo({[e?"left":"top"]:-d,behavior:"smooth"})}return!0}return 0===t?(r.setTransition(0),r.setTranslate(d),s&&(r.emit("beforeTransitionStart",t,i),r.emit("transitionEnd"))):(r.setTransition(t),r.setTranslate(d),s&&(r.emit("beforeTransitionStart",t,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,s&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){const s=this;s.params.cssMode||(s.wrapperEl.style.transitionDuration=`${e}ms`,s.wrapperEl.style.transitionDelay=0===e?"0ms":""),s.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const s=this,{params:n}=s;n.cssMode||(n.autoHeight&&s.updateAutoHeight(),Se({swiper:s,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const s=this,{params:n}=s;s.animating=!1,n.cssMode||(s.setTransition(0),Se({swiper:s,runCallbacks:e,direction:t,step:"End"}))}},slide:{slideTo:function(e,t,s,n,i){void 0===e&&(e=0),void 0===s&&(s=!0),"string"==typeof e&&(e=parseInt(e,10));const r=this;let a=e;a<0&&(a=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:u,rtlTranslate:h,wrapperEl:p,enabled:m}=r;if(!m&&!n&&!i||r.destroyed||r.animating&&o.preventInteractionOnTransition)return!1;void 0===t&&(t=r.params.speed);const f=Math.min(r.params.slidesPerGroupSkip,a);let g=f+Math.floor((a-f)/r.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const y=-l[g];if(o.normalizeSlideIndex)for(let b=0;b<c.length;b+=1){const e=-Math.floor(100*y),t=Math.floor(100*c[b]),s=Math.floor(100*c[b+1]);void 0!==c[b+1]?e>=t&&e<s-(s-t)/2?a=b:e>=t&&e<s&&(a=b+1):e>=t&&(a=b)}if(r.initialized&&a!==u){if(!r.allowSlideNext&&(h?y>r.translate&&y>r.minTranslate():y<r.translate&&y<r.minTranslate()))return!1;if(!r.allowSlidePrev&&y>r.translate&&y>r.maxTranslate()&&(u||0)!==a)return!1}let x;a!==(d||0)&&s&&r.emit("beforeSlideChangeStart"),r.updateProgress(y),x=a>u?"next":a<u?"prev":"reset";const v=r.virtual&&r.params.virtual.enabled;if(!(v&&i)&&(h&&-y===r.translate||!h&&y===r.translate))return r.updateActiveIndex(a),o.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==o.effect&&r.setTranslate(y),"reset"!==x&&(r.transitionStart(s,x),r.transitionEnd(s,x)),!1;if(o.cssMode){const e=r.isHorizontal(),s=h?y:-y;if(0===t)v&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),v&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[e?"scrollLeft":"scrollTop"]=s})):p[e?"scrollLeft":"scrollTop"]=s,v&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return ne({swiper:r,targetPosition:s,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:s,behavior:"smooth"})}return!0}const w=xe().isSafari;return v&&!i&&w&&r.isElement&&r.virtual.update(!1,!1,a),r.setTransition(t),r.setTranslate(y),r.updateActiveIndex(a),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,n),r.transitionStart(s,x),0===t?r.transitionEnd(s,x):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(s,x))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,s,n){if(void 0===e&&(e=0),void 0===s&&(s=!0),"string"==typeof e){e=parseInt(e,10)}const i=this;if(i.destroyed)return;void 0===t&&(t=i.params.speed);const r=i.grid&&i.params.grid&&i.params.grid.rows>1;let a=e;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)a+=i.virtual.slidesBefore;else{let e;if(r){const t=a*i.params.grid.rows;e=i.slides.find(e=>1*e.getAttribute("data-swiper-slide-index")===t).column}else e=i.getSlideIndexByData(a);const t=r?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:s}=i.params;let o=i.params.slidesPerView;"auto"===o?o=i.slidesPerViewDynamic():(o=Math.ceil(parseFloat(i.params.slidesPerView,10)),s&&o%2==0&&(o+=1));let l=t-e<o;if(s&&(l=l||e<Math.ceil(o/2)),n&&s&&"auto"!==i.params.slidesPerView&&!r&&(l=!1),l){const n=s?e<i.activeIndex?"prev":"next":e-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:n,slideTo:!0,activeSlideIndex:"next"===n?e+1:e-t+1,slideRealIndex:"next"===n?i.realIndex:void 0})}if(r){const e=a*i.params.grid.rows;a=i.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e).column}else a=i.getSlideIndexByData(a)}return requestAnimationFrame(()=>{i.slideTo(a,t,s,n)}),i},slideNext:function(e,t,s){void 0===t&&(t=!0);const n=this,{enabled:i,params:r,animating:a}=n;if(!i||n.destroyed)return n;void 0===e&&(e=n.params.speed);let o=r.slidesPerGroup;"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(o=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<r.slidesPerGroupSkip?1:o,c=n.virtual&&r.virtual.enabled;if(r.loop){if(a&&!c&&r.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+l,e,t,s)}),!0}return r.rewind&&n.isEnd?n.slideTo(0,e,t,s):n.slideTo(n.activeIndex+l,e,t,s)},slidePrev:function(e,t,s){void 0===t&&(t=!0);const n=this,{params:i,snapGrid:r,slidesGrid:a,rtlTranslate:o,enabled:l,animating:c}=n;if(!l||n.destroyed)return n;void 0===e&&(e=n.params.speed);const d=n.virtual&&i.virtual.enabled;if(i.loop){if(c&&!d&&i.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const h=u(o?n.translate:-n.translate),p=r.map(e=>u(e)),m=i.freeMode&&i.freeMode.enabled;let f=r[p.indexOf(h)-1];if(void 0===f&&(i.cssMode||m)){let e;r.forEach((t,s)=>{h>=t&&(e=s)}),void 0!==e&&(f=m?r[e]:r[e>0?e-1:e])}let g=0;if(void 0!==f&&(g=a.indexOf(f),g<0&&(g=n.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(g=g-n.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),i.rewind&&n.isBeginning){const i=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(i,e,t,s)}return i.loop&&0===n.activeIndex&&i.cssMode?(requestAnimationFrame(()=>{n.slideTo(g,e,t,s)}),!0):n.slideTo(g,e,t,s)},slideReset:function(e,t,s){void 0===t&&(t=!0);const n=this;if(!n.destroyed)return void 0===e&&(e=n.params.speed),n.slideTo(n.activeIndex,e,t,s)},slideToClosest:function(e,t,s,n){void 0===t&&(t=!0),void 0===n&&(n=.5);const i=this;if(i.destroyed)return;void 0===e&&(e=i.params.speed);let r=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,r),o=a+Math.floor((r-a)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[o]){const e=i.snapGrid[o];l-e>(i.snapGrid[o+1]-e)*n&&(r+=i.params.slidesPerGroup)}else{const e=i.snapGrid[o-1];l-e<=(i.snapGrid[o]-e)*n&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,e,t,s)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:s}=e,n="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let i,r=e.getSlideIndexWhenGrid(e.clickedIndex);const a=e.isElement?"swiper-slide":`.${t.slideClass}`,o=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;i=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(i):r>(o?(e.slides.length-n)/2-(e.params.grid.rows-1):e.slides.length-n)?(e.loopFix(),r=e.getSlideIndex(ie(s,`${a}[data-swiper-slide-index="${i}"]`)[0]),X(()=>{e.slideTo(r)})):e.slideTo(r)}else e.slideTo(r)}},loop:{loopCreate:function(e,t){const s=this,{params:n,slidesEl:i}=s;if(!n.loop||s.virtual&&s.params.virtual.enabled)return;const r=()=>{ie(i,`.${n.slideClass}, swiper-slide`).forEach((e,t)=>{e.setAttribute("data-swiper-slide-index",t)})},a=s.grid&&n.grid&&n.grid.rows>1;n.loopAddBlankSlides&&(n.slidesPerGroup>1||a)&&(()=>{const e=ie(i,`.${n.slideBlankClass}`);e.forEach(e=>{e.remove()}),e.length>0&&(s.recalcSlides(),s.updateSlides())})();const o=n.slidesPerGroup*(a?n.grid.rows:1),l=s.slides.length%o!==0,c=a&&s.slides.length%n.grid.rows!==0,d=e=>{for(let t=0;t<e;t+=1){const e=s.isElement?ae("swiper-slide",[n.slideBlankClass]):ae("div",[n.slideClass,n.slideBlankClass]);s.slidesEl.append(e)}};if(l){if(n.loopAddBlankSlides){d(o-s.slides.length%o),s.recalcSlides(),s.updateSlides()}else re("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(c){if(n.loopAddBlankSlides){d(n.grid.rows-s.slides.length%n.grid.rows),s.recalcSlides(),s.updateSlides()}else re("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();s.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next",initial:t})},loopFix:function(e){let{slideRealIndex:t,slideTo:s=!0,direction:n,setTranslate:i,activeSlideIndex:r,initial:a,byController:o,byMousewheel:l}=void 0===e?{}:e;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:u,allowSlideNext:h,slidesEl:p,params:m}=c,{centeredSlides:f,initialSlide:g}=m;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&m.virtual.enabled)return s&&(m.centeredSlides||0!==c.snapIndex?m.centeredSlides&&c.snapIndex<m.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0):c.slideTo(c.virtual.slides.length,0,!1,!0)),c.allowSlidePrev=u,c.allowSlideNext=h,void c.emit("loopFix");let y=m.slidesPerView;"auto"===y?y=c.slidesPerViewDynamic():(y=Math.ceil(parseFloat(m.slidesPerView,10)),f&&y%2==0&&(y+=1));const x=m.slidesPerGroupAuto?y:m.slidesPerGroup;let v=f?Math.max(x,Math.ceil(y/2)):x;v%x!==0&&(v+=x-v%x),v+=m.loopAdditionalSlides,c.loopedSlides=v;const w=c.grid&&m.grid&&m.grid.rows>1;d.length<y+v||"cards"===c.params.effect&&d.length<y+2*v?re("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):w&&"row"===m.grid.fill&&re("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const b=[],N=[],E=w?Math.ceil(d.length/m.grid.rows):d.length,S=a&&E-g<y&&!f;let j=S?g:c.activeIndex;void 0===r?r=c.getSlideIndex(d.find(e=>e.classList.contains(m.slideActiveClass))):j=r;const T="next"===n||!n,_="prev"===n||!n;let I=0,C=0;const k=(w?d[r].column:r)+(f&&void 0===i?-y/2+.5:0);if(k<v){I=Math.max(v-k,x);for(let e=0;e<v-k;e+=1){const t=e-Math.floor(e/E)*E;if(w){const e=E-t-1;for(let t=d.length-1;t>=0;t-=1)d[t].column===e&&b.push(t)}else b.push(E-t-1)}}else if(k+y>E-v){C=Math.max(k-(E-2*v),x),S&&(C=Math.max(C,y-E+g+1));for(let e=0;e<C;e+=1){const t=e-Math.floor(e/E)*E;w?d.forEach((e,s)=>{e.column===t&&N.push(s)}):N.push(t)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),"cards"===c.params.effect&&d.length<y+2*v&&(N.includes(r)&&N.splice(N.indexOf(r),1),b.includes(r)&&b.splice(b.indexOf(r),1)),_&&b.forEach(e=>{d[e].swiperLoopMoveDOM=!0,p.prepend(d[e]),d[e].swiperLoopMoveDOM=!1}),T&&N.forEach(e=>{d[e].swiperLoopMoveDOM=!0,p.append(d[e]),d[e].swiperLoopMoveDOM=!1}),c.recalcSlides(),"auto"===m.slidesPerView?c.updateSlides():w&&(b.length>0&&_||N.length>0&&T)&&c.slides.forEach((e,t)=>{c.grid.updateSlide(t,e,c.slides)}),m.watchSlidesProgress&&c.updateSlidesOffset(),s)if(b.length>0&&_){if(void 0===t){const e=c.slidesGrid[j],t=c.slidesGrid[j+I]-e;l?c.setTranslate(c.translate-t):(c.slideTo(j+Math.ceil(I),0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-t,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-t))}else if(i){const e=w?b.length/m.grid.rows:b.length;c.slideTo(c.activeIndex+e,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(N.length>0&&T)if(void 0===t){const e=c.slidesGrid[j],t=c.slidesGrid[j-C]-e;l?c.setTranslate(c.translate-t):(c.slideTo(j-C,0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-t,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-t))}else{const e=w?N.length/m.grid.rows:N.length;c.slideTo(c.activeIndex-e,0,!1,!0)}if(c.allowSlidePrev=u,c.allowSlideNext=h,c.controller&&c.controller.control&&!o){const e={slideRealIndex:t,direction:n,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===m.slidesPerView&&s})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...e,slideTo:c.controller.control.params.slidesPerView===m.slidesPerView&&s})}c.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:s}=e;if(!t.loop||!s||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const n=[];e.slides.forEach(e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;n[t]=e}),e.slides.forEach(e=>{e.removeAttribute("data-swiper-slide-index")}),n.forEach(e=>{s.append(e)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}},grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const s="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),s.style.cursor="move",s.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}},events:{attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=Te.bind(e),e.onTouchMove=_e.bind(e),e.onTouchEnd=Ie.bind(e),e.onDocumentTouchStart=Oe.bind(e),t.cssMode&&(e.onScroll=Ae.bind(e)),e.onClick=ke.bind(e),e.onLoad=Pe.bind(e),Me(e,"on")},detachEvents:function(){Me(this,"off")}},breakpoints:{setBreakpoint:function(){const e=this,{realIndex:t,initialized:s,params:n,el:i}=e,r=n.breakpoints;if(!r||r&&0===Object.keys(r).length)return;const a=G(),o="window"!==n.breakpointsBase&&n.breakpointsBase?"container":n.breakpointsBase,l=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?e.el:a.querySelector(n.breakpointsBase),c=e.getBreakpoint(r,o,l);if(!c||e.currentBreakpoint===c)return;const d=(c in r?r[c]:void 0)||e.originalParams,u=De(e,n),h=De(e,d),p=e.params.grabCursor,m=d.grabCursor,f=n.enabled;u&&!h?(i.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!u&&h&&(i.classList.add(`${n.containerModifierClass}grid`),(d.grid.fill&&"column"===d.grid.fill||!d.grid.fill&&"column"===n.grid.fill)&&i.classList.add(`${n.containerModifierClass}grid-column`),e.emitContainerClasses()),p&&!m?e.unsetGrabCursor():!p&&m&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(t=>{if(void 0===d[t])return;const s=n[t]&&n[t].enabled,i=d[t]&&d[t].enabled;s&&!i&&e[t].disable(),!s&&i&&e[t].enable()});const g=d.direction&&d.direction!==n.direction,y=n.loop&&(d.slidesPerView!==n.slidesPerView||g),x=n.loop;g&&s&&e.changeDirection(),te(e.params,d);const v=e.params.enabled,w=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),f&&!v?e.disable():!f&&v&&e.enable(),e.currentBreakpoint=c,e.emit("_beforeBreakpoint",d),s&&(y?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!x&&w?(e.loopCreate(t),e.updateSlides()):x&&!w&&e.loopDestroy()),e.emit("breakpoint",d)},getBreakpoint:function(e,t,s){if(void 0===t&&(t="window"),!e||"container"===t&&!s)return;let n=!1;const i=Y(),r="window"===t?i.innerHeight:s.clientHeight,a=Object.keys(e).map(e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:r*t,point:e}}return{value:e,point:e}});a.sort((e,t)=>parseInt(e.value,10)-parseInt(t.value,10));for(let o=0;o<a.length;o+=1){const{point:e,value:r}=a[o];"window"===t?i.matchMedia(`(min-width: ${r}px)`).matches&&(n=e):r<=s.clientWidth&&(n=e)}return n||"max"}},checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:s}=e,{slidesOffsetBefore:n}=s;if(n){const t=e.slides.length-1,s=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*n;e.isLocked=e.size>s}else e.isLocked=1===e.snapGrid.length;!0===s.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===s.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:s,rtl:n,el:i,device:r}=e,a=function(e,t){const s=[];return e.forEach(e=>{"object"==typeof e?Object.keys(e).forEach(n=>{e[n]&&s.push(t+n)}):"string"==typeof e&&s.push(t+e)}),s}(["initialized",s.direction,{"free-mode":e.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:n},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&"column"===s.grid.fill},{android:r.android},{ios:r.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);t.push(...a),i.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&"string"!=typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}}},Ue={};let Fe=class e{constructor(){let t,s;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?s=i[0]:[t,s]=i,s||(s={}),s=te({},s),t&&!s.el&&(s.el=t);const a=G();if(s.el&&"string"==typeof s.el&&a.querySelectorAll(s.el).length>1){const t=[];return a.querySelectorAll(s.el).forEach(n=>{const i=te({},s,{el:n});t.push(new e(i))}),t}const o=this;o.__swiper__=!0,o.support=ge(),o.device=ye({userAgent:s.userAgent}),o.browser=xe(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],s.modules&&Array.isArray(s.modules)&&o.modules.push(...s.modules);const l={};o.modules.forEach(e=>{e({params:s,swiper:o,extendParams:Re(s,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const c=te({},Le,l);return o.params=te({},c,Ue,s),o.originalParams=te({},o.params),o.passedParams=te({},s),o.params&&o.params.on&&Object.keys(o.params.on).forEach(e=>{o.on(e,o.params.on[e])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===o.params.direction,isVertical:()=>"vertical"===o.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:s}=this,n=le(ie(t,`.${s.slideClass}, swiper-slide`)[0]);return le(e)-n}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&("column"===this.params.grid.fill?e=Math.floor(e/this.params.grid.rows):"row"===this.params.grid.fill&&(e%=Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=ie(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const n=s.minTranslate(),i=(s.maxTranslate()-n)*e+n;s.translateTo(i,void 0===t?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(s=>{const n=e.getSlideClasses(s);t.push({slideEl:s,classNames:n}),e.emit("_slideClass",s,n)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:s,slides:n,slidesGrid:i,slidesSizesGrid:r,size:a,activeIndex:o}=this;let l=1;if("number"==typeof s.slidesPerView)return s.slidesPerView;if(s.centeredSlides){let e,t=n[o]?Math.ceil(n[o].swiperSlideSize):0;for(let s=o+1;s<n.length;s+=1)n[s]&&!e&&(t+=Math.ceil(n[s].swiperSlideSize),l+=1,t>a&&(e=!0));for(let s=o-1;s>=0;s-=1)n[s]&&!e&&(t+=n[s].swiperSlideSize,l+=1,t>a&&(e=!0))}else if("current"===e)for(let c=o+1;c<n.length;c+=1){(t?i[c]+r[c]-i[o]<a:i[c]-i[o]<a)&&(l+=1)}else for(let c=o-1;c>=0;c-=1){i[o]-i[c]<a&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;function n(){const t=e.rtlTranslate?-1*e.translate:e.translate,s=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(s),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(t=>{t.complete&&be(e,t)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),s.freeMode&&s.freeMode.enabled&&!s.cssMode)n(),s.autoHeight&&e.updateAutoHeight();else{if(("auto"===s.slidesPerView||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const t=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(t.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||n()}s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const s=this,n=s.params.direction;return e||(e="horizontal"===n?"vertical":"horizontal"),e===n||"horizontal"!==e&&"vertical"!==e||(s.el.classList.remove(`${s.params.containerModifierClass}${n}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(t=>{"vertical"===e?t.style.width="":t.style.height=""}),s.emit("changeDirection"),t&&s.update()),s}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let s=e||t.params.el;if("string"==typeof s&&(s=document.querySelector(s)),!s)return!1;s.swiper=t,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let i=(()=>{if(s&&s.shadowRoot&&s.shadowRoot.querySelector){return s.shadowRoot.querySelector(n())}return ie(s,n())[0]})();return!i&&t.params.createElements&&(i=ae("div",t.params.wrapperClass),s.append(i),ie(s,`.${t.params.slideClass}`).forEach(e=>{i.append(e)})),Object.assign(t,{el:s,wrapperEl:i,slidesEl:t.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:i,hostEl:t.isElement?s.parentNode.host:s,mounted:!0,rtl:"rtl"===s.dir.toLowerCase()||"rtl"===oe(s,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===s.dir.toLowerCase()||"rtl"===oe(s,"direction")),wrongRTL:"-webkit-box"===oe(i,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(e=>{e.complete?be(t,e):e.addEventListener("load",e=>{be(t,e.target)})}),Ee(t),t.initialized=!0,Ee(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const s=this,{params:n,el:i,wrapperEl:r,slides:a}=s;return void 0===s.params||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),n.loop&&s.loopDestroy(),t&&(s.removeClasses(),i&&"string"!=typeof i&&i.removeAttribute("style"),r&&r.removeAttribute("style"),a&&a.length&&a.forEach(e=>{e.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(e=>{s.off(e)}),!1!==e&&(s.el&&"string"!=typeof s.el&&(s.el.swiper=null),function(e){const t=e;Object.keys(t).forEach(e=>{try{t[e]=null}catch(s){}try{delete t[e]}catch(s){}})}(s)),s.destroyed=!0),null}static extendDefaults(e){te(Ue,e)}static get extendedDefaults(){return Ue}static get defaults(){return Le}static installModule(t){e.prototype.__modules__||(e.prototype.__modules__=[]);const s=e.prototype.__modules__;"function"==typeof t&&s.indexOf(t)<0&&s.push(t)}static use(t){return Array.isArray(t)?(t.forEach(t=>e.installModule(t)),e):(e.installModule(t),e)}};Object.keys(Ve).forEach(e=>{Object.keys(Ve[e]).forEach(t=>{Fe.prototype[t]=Ve[e][t]})}),Fe.use([function(e){let{swiper:t,on:s,emit:n}=e;const i=Y();let r=null,a=null;const o=()=>{t&&!t.destroyed&&t.initialized&&(n("beforeResize"),n("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&n("orientationchange")};s("init",()=>{t.params.resizeObserver&&void 0!==i.ResizeObserver?t&&!t.destroyed&&t.initialized&&(r=new ResizeObserver(e=>{a=i.requestAnimationFrame(()=>{const{width:s,height:n}=t;let i=s,r=n;e.forEach(e=>{let{contentBoxSize:s,contentRect:n,target:a}=e;a&&a!==t.el||(i=n?n.width:(s[0]||s).inlineSize,r=n?n.height:(s[0]||s).blockSize)}),i===s&&r===n||o()})}),r.observe(t.el)):(i.addEventListener("resize",o),i.addEventListener("orientationchange",l))}),s("destroy",()=>{a&&i.cancelAnimationFrame(a),r&&r.unobserve&&t.el&&(r.unobserve(t.el),r=null),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",l)})},function(e){let{swiper:t,extendParams:s,on:n,emit:i}=e;const r=[],a=Y(),o=function(e,s){void 0===s&&(s={});const n=new(a.MutationObserver||a.WebkitMutationObserver)(e=>{if(t.__preventObserver__)return;if(1===e.length)return void i("observerUpdate",e[0]);const s=function(){i("observerUpdate",e[0])};a.requestAnimationFrame?a.requestAnimationFrame(s):a.setTimeout(s,0)});n.observe(e,{attributes:void 0===s.attributes||s.attributes,childList:t.isElement||(void 0===s.childList||s).childList,characterData:void 0===s.characterData||s.characterData}),r.push(n)};s({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",()=>{if(t.params.observer){if(t.params.observeParents){const e=ce(t.hostEl);for(let t=0;t<e.length;t+=1)o(e[t])}o(t.hostEl,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}}),n("destroy",()=>{r.forEach(e=>{e.disconnect()}),r.splice(0,r.length)})}]);const Be=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ze(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)&&!e.__swiper__}function $e(e,t){const s=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>s.indexOf(e)<0).forEach(s=>{void 0===e[s]?e[s]=t[s]:ze(t[s])&&ze(e[s])&&Object.keys(t[s]).length>0?t[s].__swiper__?e[s]=t[s]:$e(e[s],t[s]):e[s]=t[s]})}function qe(e){return void 0===e&&(e={}),e.navigation&&void 0===e.navigation.nextEl&&void 0===e.navigation.prevEl}function He(e){return void 0===e&&(e={}),e.pagination&&void 0===e.pagination.el}function We(e){return void 0===e&&(e={}),e.scrollbar&&void 0===e.scrollbar.el}function Ge(e){void 0===e&&(e="");const t=e.split(" ").map(e=>e.trim()).filter(e=>!!e),s=[];return t.forEach(e=>{s.indexOf(e)<0&&s.push(e)}),s.join(" ")}function Ke(e){return void 0===e&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ye.apply(this,arguments)}function Xe(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function Qe(e){const t=[];return o.Children.toArray(e).forEach(e=>{Xe(e)?t.push(e):e.props&&e.props.children&&Qe(e.props.children).forEach(e=>t.push(e))}),t}function Je(e){const t=[],s={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return o.Children.toArray(e).forEach(e=>{if(Xe(e))t.push(e);else if(e.props&&e.props.slot&&s[e.props.slot])s[e.props.slot].push(e);else if(e.props&&e.props.children){const n=Qe(e.props.children);n.length>0?n.forEach(e=>t.push(e)):s["container-end"].push(e)}else s["container-end"].push(e)}),{slides:t,slots:s}}function Ze(e,t){return"undefined"==typeof window?n.useEffect(e,t):n.useLayoutEffect(e,t)}const et=n.createContext(null),tt=n.createContext(null),st=n.forwardRef(function(e,t){let{className:s,tag:i="div",wrapperTag:r="div",children:a,onSwiper:l,...c}=void 0===e?{}:e,d=!1;const[u,h]=n.useState("swiper"),[p,m]=n.useState(null),[f,g]=n.useState(!1),y=n.useRef(!1),x=n.useRef(null),v=n.useRef(null),w=n.useRef(null),b=n.useRef(null),N=n.useRef(null),E=n.useRef(null),S=n.useRef(null),j=n.useRef(null),{params:T,passedParams:_,rest:I,events:C}=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);const s={on:{}},n={},i={};$e(s,Le),s._emitClasses=!0,s.init=!1;const r={},a=Be.map(e=>e.replace(/_/,"")),o=Object.assign({},e);return Object.keys(o).forEach(o=>{void 0!==e[o]&&(a.indexOf(o)>=0?ze(e[o])?(s[o]={},i[o]={},$e(s[o],e[o]),$e(i[o],e[o])):(s[o]=e[o],i[o]=e[o]):0===o.search(/on[A-Z]/)&&"function"==typeof e[o]?t?n[`${o[2].toLowerCase()}${o.substr(3)}`]=e[o]:s.on[`${o[2].toLowerCase()}${o.substr(3)}`]=e[o]:r[o]=e[o])}),["navigation","pagination","scrollbar"].forEach(e=>{!0===s[e]&&(s[e]={}),!1===s[e]&&delete s[e]}),{params:s,passedParams:i,rest:r,events:n}}(c),{slides:k,slots:A}=Je(a),P=()=>{g(!f)};Object.assign(T.on,{_containerClasses(e,t){h(t)}});const O=()=>{Object.assign(T.on,C),d=!0;const e={...T};if(delete e.wrapperClass,v.current=new Fe(e),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=k;const e={cache:!1,slides:k,renderExternal:m,renderExternalUpdate:!1};$e(v.current.params.virtual,e),$e(v.current.originalParams.virtual,e)}};x.current||O(),v.current&&v.current.on("_beforeBreakpoint",P);return n.useEffect(()=>()=>{v.current&&v.current.off("_beforeBreakpoint",P)}),n.useEffect(()=>{!y.current&&v.current&&(v.current.emitSlidesClasses(),y.current=!0)}),Ze(()=>{if(t&&(t.current=x.current),x.current)return v.current.destroyed&&O(),function(e,t){let{el:s,nextEl:n,prevEl:i,paginationEl:r,scrollbarEl:a,swiper:o}=e;qe(t)&&n&&i&&(o.params.navigation.nextEl=n,o.originalParams.navigation.nextEl=n,o.params.navigation.prevEl=i,o.originalParams.navigation.prevEl=i),He(t)&&r&&(o.params.pagination.el=r,o.originalParams.pagination.el=r),We(t)&&a&&(o.params.scrollbar.el=a,o.originalParams.scrollbar.el=a),o.init(s)}({el:x.current,nextEl:N.current,prevEl:E.current,paginationEl:S.current,scrollbarEl:j.current,swiper:v.current},T),l&&!v.current.destroyed&&l(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}},[]),Ze(()=>{!d&&C&&v.current&&Object.keys(C).forEach(e=>{v.current.on(e,C[e])});const e=function(e,t,s,n,i){const r=[];if(!t)return r;const a=e=>{r.indexOf(e)<0&&r.push(e)};if(s&&n){const e=n.map(i),t=s.map(i);e.join("")!==t.join("")&&a("children"),n.length!==s.length&&a("children")}return Be.filter(e=>"_"===e[0]).map(e=>e.replace(/_/,"")).forEach(s=>{if(s in e&&s in t)if(ze(e[s])&&ze(t[s])){const n=Object.keys(e[s]),i=Object.keys(t[s]);n.length!==i.length?a(s):(n.forEach(n=>{e[s][n]!==t[s][n]&&a(s)}),i.forEach(n=>{e[s][n]!==t[s][n]&&a(s)}))}else e[s]!==t[s]&&a(s)}),r}(_,w.current,k,b.current,e=>e.key);return w.current=_,b.current=k,e.length&&v.current&&!v.current.destroyed&&function(e){let{swiper:t,slides:s,passedParams:n,changedParams:i,nextEl:r,prevEl:a,scrollbarEl:o,paginationEl:l}=e;const c=i.filter(e=>"children"!==e&&"direction"!==e&&"wrapperClass"!==e),{params:d,pagination:u,navigation:h,scrollbar:p,virtual:m,thumbs:f}=t;let g,y,x,v,w,b,N,E;i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(g=!0),i.includes("controller")&&n.controller&&n.controller.control&&d.controller&&!d.controller.control&&(y=!0),i.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(d.pagination||!1===d.pagination)&&u&&!u.el&&(x=!0),i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(d.scrollbar||!1===d.scrollbar)&&p&&!p.el&&(v=!0),i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||a)&&(n.navigation.nextEl||r)&&(d.navigation||!1===d.navigation)&&h&&!h.prevEl&&!h.nextEl&&(w=!0);const S=e=>{t[e]&&(t[e].destroy(),"navigation"===e?(t.isElement&&(t[e].prevEl.remove(),t[e].nextEl.remove()),d[e].prevEl=void 0,d[e].nextEl=void 0,t[e].prevEl=void 0,t[e].nextEl=void 0):(t.isElement&&t[e].el.remove(),d[e].el=void 0,t[e].el=void 0))};i.includes("loop")&&t.isElement&&(d.loop&&!n.loop?b=!0:!d.loop&&n.loop?N=!0:E=!0),c.forEach(e=>{if(ze(d[e])&&ze(n[e]))Object.assign(d[e],n[e]),"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e||!("enabled"in n[e])||n[e].enabled||S(e);else{const t=n[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?d[e]=n[e]:!1===t&&S(e)}}),c.includes("controller")&&!y&&t.controller&&t.controller.control&&d.controller&&d.controller.control&&(t.controller.control=d.controller.control),i.includes("children")&&s&&m&&d.virtual.enabled?(m.slides=s,m.update(!0)):i.includes("virtual")&&m&&d.virtual.enabled&&(s&&(m.slides=s),m.update(!0)),i.includes("children")&&s&&d.loop&&(E=!0),g&&f.init()&&f.update(!0);y&&(t.controller.control=d.controller.control),x&&(!t.isElement||l&&"string"!=typeof l||(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(d.pagination.el=l),u.init(),u.render(),u.update()),v&&(!t.isElement||o&&"string"!=typeof o||(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),t.el.appendChild(o)),o&&(d.scrollbar.el=o),p.init(),p.updateSize(),p.setTranslate()),w&&(t.isElement&&(r&&"string"!=typeof r||(r=document.createElement("div"),r.classList.add("swiper-button-next"),he(r,t.hostEl.constructor.nextButtonSvg),r.part.add("button-next"),t.el.appendChild(r)),a&&"string"!=typeof a||(a=document.createElement("div"),a.classList.add("swiper-button-prev"),he(a,t.hostEl.constructor.prevButtonSvg),a.part.add("button-prev"),t.el.appendChild(a))),r&&(d.navigation.nextEl=r),a&&(d.navigation.prevEl=a),h.init(),h.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),i.includes("direction")&&t.changeDirection(n.direction,!1),(b||E)&&t.loopDestroy(),(N||E)&&t.loopCreate(),t.update()}({swiper:v.current,slides:k,passedParams:_,changedParams:e,nextEl:N.current,prevEl:E.current,scrollbarEl:j.current,paginationEl:S.current}),()=>{C&&v.current&&Object.keys(C).forEach(e=>{v.current.off(e,C[e])})}}),Ze(()=>{var e;!(e=v.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},[p]),o.createElement(i,Ye({ref:x,className:Ge(`${u}${s?` ${s}`:""}`)},I),o.createElement(tt.Provider,{value:v.current},A["container-start"],o.createElement(r,{className:Ke(T.wrapperClass)},A["wrapper-start"],T.virtual?function(e,t,s){if(!s)return null;const n=e=>{let s=e;return e<0?s=t.length+e:s>=t.length&&(s-=t.length),s},i=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${s.offset}px`}:{top:`${s.offset}px`},{from:r,to:a}=s,l=e.params.loop?-t.length:0,c=e.params.loop?2*t.length:t.length,d=[];for(let o=l;o<c;o+=1)o>=r&&o<=a&&d.push(t[n(o)]);return d.map((t,s)=>o.cloneElement(t,{swiper:e,style:i,key:t.props.virtualIndex||t.key||`slide-${s}`}))}(v.current,k,p):k.map((e,t)=>o.cloneElement(e,{swiper:v.current,swiperSlideIndex:t})),A["wrapper-end"]),qe(T)&&o.createElement(o.Fragment,null,o.createElement("div",{ref:E,className:"swiper-button-prev"}),o.createElement("div",{ref:N,className:"swiper-button-next"})),We(T)&&o.createElement("div",{ref:j,className:"swiper-scrollbar"}),He(T)&&o.createElement("div",{ref:S,className:"swiper-pagination"}),A["container-end"]))});st.displayName="Swiper";const nt=n.forwardRef(function(e,t){let{tag:s="div",children:i,className:r="",swiper:a,zoom:l,lazy:c,virtualIndex:d,swiperSlideIndex:u,...h}=void 0===e?{}:e;const p=n.useRef(null),[m,f]=n.useState("swiper-slide"),[g,y]=n.useState(!1);function x(e,t,s){t===p.current&&f(s)}Ze(()=>{if(void 0!==u&&(p.current.swiperSlideIndex=u),t&&(t.current=p.current),p.current&&a){if(!a.destroyed)return a.on("_slideClass",x),()=>{a&&a.off("_slideClass",x)};"swiper-slide"!==m&&f("swiper-slide")}}),Ze(()=>{a&&p.current&&!a.destroyed&&f(a.getSlideClasses(p.current))},[a]);const v={isActive:m.indexOf("swiper-slide-active")>=0,isVisible:m.indexOf("swiper-slide-visible")>=0,isPrev:m.indexOf("swiper-slide-prev")>=0,isNext:m.indexOf("swiper-slide-next")>=0},w=()=>"function"==typeof i?i(v):i;return o.createElement(s,Ye({ref:p,className:Ge(`${m}${r?` ${r}`:""}`),"data-swiper-slide-index":d,onLoad:()=>{y(!0)}},h),l&&o.createElement(et.Provider,{value:v},o.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"==typeof l?l:void 0},w(),c&&!g&&o.createElement("div",{className:"swiper-lazy-preloader"}))),!l&&o.createElement(et.Provider,{value:v},w(),c&&!g&&o.createElement("div",{className:"swiper-lazy-preloader"})))});function it(e,t,s,n){return e.params.createElements&&Object.keys(n).forEach(i=>{if(!s[i]&&!0===s.auto){let r=ie(e.el,`.${n[i]}`)[0];r||(r=ae("div",n[i]),r.className=n[i],e.el.append(r)),s[i]=r,t[i]=r}}),s}function rt(e){let{swiper:t,extendParams:s,on:n,emit:i}=e;function r(e){let s;return e&&"string"==typeof e&&t.isElement&&(s=t.el.querySelector(e)||t.hostEl.querySelector(e),s)?s:(e&&("string"==typeof e&&(s=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"==typeof e&&s&&s.length>1&&1===t.el.querySelectorAll(e).length?s=t.el.querySelector(e):s&&1===s.length&&(s=s[0])),e&&!s?e:s)}function a(e,s){const n=t.params.navigation;(e=ue(e)).forEach(e=>{e&&(e.classList[s?"add":"remove"](...n.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=s),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](n.lockClass))})}function o(){const{nextEl:e,prevEl:s}=t.navigation;if(t.params.loop)return a(s,!1),void a(e,!1);a(s,t.isBeginning&&!t.params.rewind),a(e,t.isEnd&&!t.params.rewind)}function l(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function c(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function d(){const e=t.params.navigation;if(t.params.navigation=it(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let s=r(e.nextEl),n=r(e.prevEl);Object.assign(t.navigation,{nextEl:s,prevEl:n}),s=ue(s),n=ue(n);const i=(s,n)=>{s&&s.addEventListener("click","next"===n?c:l),!t.enabled&&s&&s.classList.add(...e.lockClass.split(" "))};s.forEach(e=>i(e,"next")),n.forEach(e=>i(e,"prev"))}function u(){let{nextEl:e,prevEl:s}=t.navigation;e=ue(e),s=ue(s);const n=(e,s)=>{e.removeEventListener("click","next"===s?c:l),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach(e=>n(e,"next")),s.forEach(e=>n(e,"prev"))}s({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null},n("init",()=>{!1===t.params.navigation.enabled?h():(d(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{u()}),n("enable disable",()=>{let{nextEl:e,prevEl:s}=t.navigation;e=ue(e),s=ue(s),t.enabled?o():[...e,...s].filter(e=>!!e).forEach(e=>e.classList.add(t.params.navigation.lockClass))}),n("click",(e,s)=>{let{nextEl:n,prevEl:r}=t.navigation;n=ue(n),r=ue(r);const a=s.target;let o=r.includes(a)||n.includes(a);if(t.isElement&&!o){const e=s.path||s.composedPath&&s.composedPath();e&&(o=e.find(e=>n.includes(e)||r.includes(e)))}if(t.params.navigation.hideOnClick&&!o){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===a||t.pagination.el.contains(a)))return;let e;n.length?e=n[0].classList.contains(t.params.navigation.hiddenClass):r.length&&(e=r[0].classList.contains(t.params.navigation.hiddenClass)),i(!0===e?"navigationShow":"navigationHide"),[...n,...r].filter(e=>!!e).forEach(e=>e.classList.toggle(t.params.navigation.hiddenClass))}});const h=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),u()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),d(),o()},disable:h,update:o,init:d,destroy:u})}function at(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function ot(e){let{swiper:t,extendParams:s,on:n,emit:i}=e;const r="swiper-pagination";let a;s({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),t.pagination={el:null,bullets:[]};let o=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function c(e,s){const{bulletActiveClass:n}=t.params.pagination;e&&(e=e[("prev"===s?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${n}-${s}`),(e=e[("prev"===s?"previous":"next")+"ElementSibling"])&&e.classList.add(`${n}-${s}-${s}`))}function d(e){const s=e.target.closest(at(t.params.pagination.bulletClass));if(!s)return;e.preventDefault();const n=le(s)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===n)return;const e=(i=t.realIndex,r=n,a=t.slides.length,(r%=a)===1+(i%=a)?"next":r===i-1?"previous":void 0);"next"===e?t.slideNext():"previous"===e?t.slidePrev():t.slideToLoop(n)}else t.slideTo(n);var i,r,a}function u(){const e=t.rtl,s=t.params.pagination;if(l())return;let n,r,d=t.pagination.el;d=ue(d);const u=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,h=t.params.loop?Math.ceil(u/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(r=t.previousRealIndex||0,n=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(n=t.snapIndex,r=t.previousSnapIndex):(r=t.previousIndex||0,n=t.activeIndex||0),"bullets"===s.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const i=t.pagination.bullets;let l,u,h;if(s.dynamicBullets&&(a=de(i[0],t.isHorizontal()?"width":"height"),d.forEach(e=>{e.style[t.isHorizontal()?"width":"height"]=a*(s.dynamicMainBullets+4)+"px"}),s.dynamicMainBullets>1&&void 0!==r&&(o+=n-(r||0),o>s.dynamicMainBullets-1?o=s.dynamicMainBullets-1:o<0&&(o=0)),l=Math.max(n-o,0),u=l+(Math.min(i.length,s.dynamicMainBullets)-1),h=(u+l)/2),i.forEach(e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(e=>`${s.bulletActiveClass}${e}`)].map(e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e).flat();e.classList.remove(...t)}),d.length>1)i.forEach(e=>{const i=le(e);i===n?e.classList.add(...s.bulletActiveClass.split(" ")):t.isElement&&e.setAttribute("part","bullet"),s.dynamicBullets&&(i>=l&&i<=u&&e.classList.add(...`${s.bulletActiveClass}-main`.split(" ")),i===l&&c(e,"prev"),i===u&&c(e,"next"))});else{const e=i[n];if(e&&e.classList.add(...s.bulletActiveClass.split(" ")),t.isElement&&i.forEach((e,t)=>{e.setAttribute("part",t===n?"bullet-active":"bullet")}),s.dynamicBullets){const e=i[l],t=i[u];for(let n=l;n<=u;n+=1)i[n]&&i[n].classList.add(...`${s.bulletActiveClass}-main`.split(" "));c(e,"prev"),c(t,"next")}}if(s.dynamicBullets){const n=Math.min(i.length,s.dynamicMainBullets+4),r=(a*n-a)/2-h*a,o=e?"right":"left";i.forEach(e=>{e.style[t.isHorizontal()?o:"top"]=`${r}px`})}}d.forEach((e,r)=>{if("fraction"===s.type&&(e.querySelectorAll(at(s.currentClass)).forEach(e=>{e.textContent=s.formatFractionCurrent(n+1)}),e.querySelectorAll(at(s.totalClass)).forEach(e=>{e.textContent=s.formatFractionTotal(h)})),"progressbar"===s.type){let i;i=s.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const r=(n+1)/h;let a=1,o=1;"horizontal"===i?a=r:o=r,e.querySelectorAll(at(s.progressbarFillClass)).forEach(e=>{e.style.transform=`translate3d(0,0,0) scaleX(${a}) scaleY(${o})`,e.style.transitionDuration=`${t.params.speed}ms`})}"custom"===s.type&&s.renderCustom?(he(e,s.renderCustom(t,n+1,h)),0===r&&i("paginationRender",e)):(0===r&&i("paginationRender",e),i("paginationUpdate",e)),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](s.lockClass)})}function h(){const e=t.params.pagination;if(l())return;const s=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let n=t.pagination.el;n=ue(n);let r="";if("bullets"===e.type){let n=t.params.loop?Math.ceil(s/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&n>s&&(n=s);for(let s=0;s<n;s+=1)e.renderBullet?r+=e.renderBullet.call(t,s,e.bulletClass):r+=`<${e.bulletElement} ${t.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}"fraction"===e.type&&(r=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),"progressbar"===e.type&&(r=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`),t.pagination.bullets=[],n.forEach(s=>{"custom"!==e.type&&he(s,r||""),"bullets"===e.type&&t.pagination.bullets.push(...s.querySelectorAll(at(e.bulletClass)))}),"custom"!==e.type&&i("paginationRender",n[0])}function p(){t.params.pagination=it(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let s;"string"==typeof e.el&&t.isElement&&(s=t.el.querySelector(e.el)),s||"string"!=typeof e.el||(s=[...document.querySelectorAll(e.el)]),s||(s=e.el),s&&0!==s.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(s)&&s.length>1&&(s=[...t.el.querySelectorAll(e.el)],s.length>1&&(s=s.find(e=>ce(e,".swiper")[0]===t.el))),Array.isArray(s)&&1===s.length&&(s=s[0]),Object.assign(t.pagination,{el:s}),s=ue(s),s.forEach(s=>{"bullets"===e.type&&e.clickable&&s.classList.add(...(e.clickableClass||"").split(" ")),s.classList.add(e.modifierClass+e.type),s.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(s.classList.add(`${e.modifierClass}${e.type}-dynamic`),o=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&s.classList.add(e.progressbarOppositeClass),e.clickable&&s.addEventListener("click",d),t.enabled||s.classList.add(e.lockClass)}))}function m(){const e=t.params.pagination;if(l())return;let s=t.pagination.el;s&&(s=ue(s),s.forEach(s=>{s.classList.remove(e.hiddenClass),s.classList.remove(e.modifierClass+e.type),s.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(s.classList.remove(...(e.clickableClass||"").split(" ")),s.removeEventListener("click",d))})),t.pagination.bullets&&t.pagination.bullets.forEach(t=>t.classList.remove(...e.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const e=t.params.pagination;let{el:s}=t.pagination;s=ue(s),s.forEach(s=>{s.classList.remove(e.horizontalClass,e.verticalClass),s.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)})}),n("init",()=>{!1===t.params.pagination.enabled?f():(p(),h(),u())}),n("activeIndexChange",()=>{void 0===t.snapIndex&&u()}),n("snapIndexChange",()=>{u()}),n("snapGridLengthChange",()=>{h(),u()}),n("destroy",()=>{m()}),n("enable disable",()=>{let{el:e}=t.pagination;e&&(e=ue(e),e.forEach(e=>e.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),n("lock unlock",()=>{u()}),n("click",(e,s)=>{const n=s.target,r=ue(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&r&&r.length>0&&!n.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&n===t.navigation.nextEl||t.navigation.prevEl&&n===t.navigation.prevEl))return;const e=r[0].classList.contains(t.params.pagination.hiddenClass);i(!0===e?"paginationShow":"paginationHide"),r.forEach(e=>e.classList.toggle(t.params.pagination.hiddenClass))}});const f=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=ue(e),e.forEach(e=>e.classList.add(t.params.pagination.paginationDisabledClass))),m()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=ue(e),e.forEach(e=>e.classList.remove(t.params.pagination.paginationDisabledClass))),p(),h(),u()},disable:f,render:h,update:u,init:p,destroy:m})}function lt(e){let t,s,{swiper:n,extendParams:i,on:r,emit:a,params:o}=e;n.autoplay={running:!1,paused:!1,timeLeft:0},i({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,c,d,u,h,p,m,f,g=o&&o.autoplay?o.autoplay.delay:3e3,y=o&&o.autoplay?o.autoplay.delay:3e3,x=(new Date).getTime();function v(e){n&&!n.destroyed&&n.wrapperEl&&e.target===n.wrapperEl&&(n.wrapperEl.removeEventListener("transitionend",v),f||e.detail&&e.detail.bySwiperTouchMove||j())}const w=()=>{if(n.destroyed||!n.autoplay.running)return;n.autoplay.paused?c=!0:c&&(y=l,c=!1);const e=n.autoplay.paused?l:x+y-(new Date).getTime();n.autoplay.timeLeft=e,a("autoplayTimeLeft",e,e/g),s=requestAnimationFrame(()=>{w()})},b=e=>{if(n.destroyed||!n.autoplay.running)return;cancelAnimationFrame(s),w();let i=void 0===e?n.params.autoplay.delay:e;g=n.params.autoplay.delay,y=n.params.autoplay.delay;const r=(()=>{let e;if(e=n.virtual&&n.params.virtual.enabled?n.slides.find(e=>e.classList.contains("swiper-slide-active")):n.slides[n.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(r)&&r>0&&void 0===e&&(i=r,g=r,y=r),l=i;const o=n.params.speed,c=()=>{n&&!n.destroyed&&(n.params.autoplay.reverseDirection?!n.isBeginning||n.params.loop||n.params.rewind?(n.slidePrev(o,!0,!0),a("autoplay")):n.params.autoplay.stopOnLastSlide||(n.slideTo(n.slides.length-1,o,!0,!0),a("autoplay")):!n.isEnd||n.params.loop||n.params.rewind?(n.slideNext(o,!0,!0),a("autoplay")):n.params.autoplay.stopOnLastSlide||(n.slideTo(0,o,!0,!0),a("autoplay")),n.params.cssMode&&(x=(new Date).getTime(),requestAnimationFrame(()=>{b()})))};return i>0?(clearTimeout(t),t=setTimeout(()=>{c()},i)):requestAnimationFrame(()=>{c()}),i},N=()=>{x=(new Date).getTime(),n.autoplay.running=!0,b(),a("autoplayStart")},E=()=>{n.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(s),a("autoplayStop")},S=(e,s)=>{if(n.destroyed||!n.autoplay.running)return;clearTimeout(t),e||(m=!0);const i=()=>{a("autoplayPause"),n.params.autoplay.waitForTransition?n.wrapperEl.addEventListener("transitionend",v):j()};if(n.autoplay.paused=!0,s)return p&&(l=n.params.autoplay.delay),p=!1,void i();const r=l||n.params.autoplay.delay;l=r-((new Date).getTime()-x),n.isEnd&&l<0&&!n.params.loop||(l<0&&(l=0),i())},j=()=>{n.isEnd&&l<0&&!n.params.loop||n.destroyed||!n.autoplay.running||(x=(new Date).getTime(),m?(m=!1,b(l)):b(),n.autoplay.paused=!1,a("autoplayResume"))},T=()=>{if(n.destroyed||!n.autoplay.running)return;const e=G();"hidden"===e.visibilityState&&(m=!0,S(!0)),"visible"===e.visibilityState&&j()},_=e=>{"mouse"===e.pointerType&&(m=!0,f=!0,n.animating||n.autoplay.paused||S(!0))},I=e=>{"mouse"===e.pointerType&&(f=!1,n.autoplay.paused&&j())};r("init",()=>{n.params.autoplay.enabled&&(n.params.autoplay.pauseOnMouseEnter&&(n.el.addEventListener("pointerenter",_),n.el.addEventListener("pointerleave",I)),G().addEventListener("visibilitychange",T),N())}),r("destroy",()=>{n.el&&"string"!=typeof n.el&&(n.el.removeEventListener("pointerenter",_),n.el.removeEventListener("pointerleave",I)),G().removeEventListener("visibilitychange",T),n.autoplay.running&&E()}),r("_freeModeStaticRelease",()=>{(u||m)&&j()}),r("_freeModeNoMomentumRelease",()=>{n.params.autoplay.disableOnInteraction?E():S(!0,!0)}),r("beforeTransitionStart",(e,t,s)=>{!n.destroyed&&n.autoplay.running&&(s||!n.params.autoplay.disableOnInteraction?S(!0,!0):E())}),r("sliderFirstMove",()=>{!n.destroyed&&n.autoplay.running&&(n.params.autoplay.disableOnInteraction?E():(d=!0,u=!1,m=!1,h=setTimeout(()=>{m=!0,u=!0,S(!0)},200)))}),r("touchEnd",()=>{if(!n.destroyed&&n.autoplay.running&&d){if(clearTimeout(h),clearTimeout(t),n.params.autoplay.disableOnInteraction)return u=!1,void(d=!1);u&&n.params.cssMode&&j(),u=!1,d=!1}}),r("slideChange",()=>{!n.destroyed&&n.autoplay.running&&(p=!0)}),Object.assign(n.autoplay,{start:N,stop:E,pause:S,resume:j})}function ct(e){let t,s,n,i,{swiper:r,extendParams:a,on:o}=e;a({grid:{rows:1,fill:"column"}});const l=()=>{let e=r.params.spaceBetween;return"string"==typeof e&&e.indexOf("%")>=0?e=parseFloat(e.replace("%",""))/100*r.size:"string"==typeof e&&(e=parseFloat(e)),e};o("init",()=>{i=r.params.grid&&r.params.grid.rows>1}),o("update",()=>{const{params:e,el:t}=r,s=e.grid&&e.grid.rows>1;i&&!s?(t.classList.remove(`${e.containerModifierClass}grid`,`${e.containerModifierClass}grid-column`),n=1,r.emitContainerClasses()):!i&&s&&(t.classList.add(`${e.containerModifierClass}grid`),"column"===e.grid.fill&&t.classList.add(`${e.containerModifierClass}grid-column`),r.emitContainerClasses()),i=s}),r.grid={initSlides:e=>{const{slidesPerView:i}=r.params,{rows:a,fill:o}=r.params.grid,l=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:e.length;n=Math.floor(l/a),t=Math.floor(l/a)===l/a?l:Math.ceil(l/a)*a,"auto"!==i&&"row"===o&&(t=Math.max(t,i*a)),s=t/a},unsetSlides:()=>{r.slides&&r.slides.forEach(e=>{e.swiperSlideGridSet&&(e.style.height="",e.style[r.getDirectionLabel("margin-top")]="")})},updateSlide:(e,i,a)=>{const{slidesPerGroup:o}=r.params,c=l(),{rows:d,fill:u}=r.params.grid,h=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:a.length;let p,m,f;if("row"===u&&o>1){const s=Math.floor(e/(o*d)),n=e-d*o*s,r=0===s?o:Math.min(Math.ceil((h-s*d*o)/d),o);f=Math.floor(n/r),m=n-f*r+s*o,p=m+f*t/d,i.style.order=p}else"column"===u?(m=Math.floor(e/d),f=e-m*d,(m>n||m===n&&f===d-1)&&(f+=1,f>=d&&(f=0,m+=1))):(f=Math.floor(e/s),m=e-f*s);i.row=f,i.column=m,i.style.height=`calc((100% - ${(d-1)*c}px) / ${d})`,i.style[r.getDirectionLabel("margin-top")]=0!==f?c&&`${c}px`:"",i.swiperSlideGridSet=!0},updateWrapperSize:(e,s)=>{const{centeredSlides:n,roundLengths:i}=r.params,a=l(),{rows:o}=r.params.grid;if(r.virtualSize=(e+a)*t,r.virtualSize=Math.ceil(r.virtualSize/o)-a,r.params.cssMode||(r.wrapperEl.style[r.getDirectionLabel("width")]=`${r.virtualSize+a}px`),n){const e=[];for(let t=0;t<s.length;t+=1){let n=s[t];i&&(n=Math.floor(n)),s[t]<r.virtualSize+s[0]&&e.push(n)}s.splice(0,s.length),s.push(...e)}}}}nt.displayName="SwiperSlide";const dt=()=>{const[e,t]=n.useState([]),[s,i]=n.useState(!0),[a,o]=n.useState(null),[l,c]=n.useState(0),d=n.useRef(null),{programs:u,loading:h}=$("mind"),{programs:p,loading:m}=$("body"),{programs:f,loading:g}=$("soul");return n.useEffect(()=>{if(!h&&!m&&!g)try{const e=[...u||[],...p||[],...f||[]];t(e),o(null)}catch(e){console.error("Error combining programs:",e),o(e)}finally{i(!1)}},[h,m,g,u,p,f]),s?x.jsxs("div",{className:"py-12 text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-main mx-auto"}),x.jsx("p",{className:"mt-4 text-text",children:"Loading programs..."})]}):a?x.jsx("div",{className:"py-12 text-center",children:x.jsx("p",{className:"text-red-500",children:"Error loading programs. Please try again later."})}):0===e.length?x.jsx("div",{className:"py-8 text-center",children:x.jsx("p",{children:"No programs available at the moment."})}):x.jsx("div",{className:"py-12 px-4",children:x.jsxs("div",{className:"max-w-7xl mx-auto",children:[x.jsx("h2",{className:"text-3xl font-bold text-center text-main mb-4",children:"Our Programs"}),x.jsx("p",{className:"text-center text-gray-600 mb-12 max-w-3xl mx-auto",children:"Explore our carefully curated programs designed to nurture your mind, body, and soul"}),x.jsxs("div",{className:"relative",children:[x.jsx(st,{ref:d,modules:[rt,ot,lt,ct],spaceBetween:30,slidesPerView:1,grid:{rows:2,fill:"row"},breakpoints:{640:{slidesPerView:1,grid:{rows:2,fill:"row"}},768:{slidesPerView:2,grid:{rows:2,fill:"row"}},1024:{slidesPerView:3,grid:{rows:2,fill:"row"}}},autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{clickable:!0,el:".programs-pagination",bulletClass:"w-2 h-2 bg-gray-300 rounded-full inline-block mx-1 cursor-pointer",bulletActiveClass:"bg-main w-6"},onSlideChange:e=>c(e.realIndex),className:"pb-12",children:e.map(e=>x.jsx(nt,{children:x.jsx(r,{to:`/programs/${e.slug}`,className:"block h-full",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden h-full mx-2 hover:shadow-lg transition-all duration-300 group",children:[x.jsxs("div",{className:"relative h-48",children:[x.jsx("img",{src:e.imageUrl||"/placeholder-program.jpg",alt:e.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),x.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:x.jsx("span",{className:"inline-block px-3 py-1 text-xs font-semibold text-white bg-main rounded-full",children:e.category})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2 h-14 group-hover:text-main transition-colors",children:e.title}),x.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3 h-16",children:e.description}),x.jsx("div",{className:"mt-4",children:x.jsxs("span",{className:"inline-flex items-center text-lg font-bold text-main",children:[e.price?`$${e.price}`:"Free",x.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})]})})},e._id))}),x.jsx("div",{className:"flex justify-center mt-8",children:x.jsx("div",{className:"programs-pagination flex space-x-2",children:Array.from({length:Math.ceil(e.length/6)}).map((e,t)=>x.jsx("span",{className:"w-2 h-2 rounded-full transition-all duration-300 cursor-pointer "+(t===Math.floor(l/6)?"bg-main w-6":"bg-gray-300"),onClick:()=>d.current?.swiper.slideTo(6*t)},t))})})]}),x.jsx("div",{className:"mt-12 text-center",children:x.jsxs(r,{to:"/sessions",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-main hover:bg-accent transition-colors duration-200",children:["View All Sessions",x.jsx("svg",{className:"ml-2 -mr-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})},ut={en:{store:{title:"Svasam Store",description:"Discover our collection of spiritual and wellness products to support your journey",noItems:"No items available in the store at the moment. Please check back later.",viewDetails:"View Details",tryAgain:"Try Again",errorLoading:"Error Loading Store Items"},footer:{brand:"Svasam"},reviews:{title:"Community Reviews"},programs:{title:"Test Programs by Category"},about:{title:"About Svasam",ourStory:"Our Story",services:"Our Services",mindWellness:"Mind Wellness",bodyWellness:"Body Wellness",soulWellness:"Soul Wellness",storeResources:"Store & Resources",ourPhilosophy:"Our Philosophy",holisticApproach:"Holistic Approach",personalizedSolutions:"Personalized Solutions",ancientWisdom:"Ancient Wisdom",communitySupport:"Community Support",joinJourney:"Join Our Wellness Journey",contactUs:"Contact Us",scheduleSession:"Schedule a Session"},events:{bookNow:"Book Now"},terms:{title:"Terms and Conditions",welcome:"Welcome to Svasam Wellness",introText:"These Terms and Conditions outline the rules and regulations for the use of Svasam Wellness's Website and Services.",acceptanceOfTerms:"1. Acceptance of Terms",accessToWebsite:"Access to Website",changesToTerms:"Changes to Terms",userObligations:"2. User Obligations",accountSecurity:"Account Security",prohibitedActivities:"Prohibited Activities",services:"3. Services",wellnessServices:"Wellness Services",storeProducts:"Store Products",intellectualProperty:"4. Intellectual Property",contentOwnership:"Content Ownership",trademarks:"Trademarks",limitationOfLiability:"5. Limitation of Liability",disclaimerOfWarranties:"Disclaimer of Warranties",limitationOfDamages:"Limitation of Damages",contactUs:"Contact Us",supportHours:"Customer Support Hours: Mon-Sat, 10 AM - 7 PM",phone:"Phone: +91 1234567890",email:"Email: support@svasam.com",contactMessage:"For any questions regarding these Terms and Conditions, please contact us:"},cancellation:{title:"Cancellation and Refund Policy",welcome:"Welcome to Svasam Wellness",introText:"At Svasam Wellness, we understand that circumstances can change. This policy outlines our procedures for cancellations and refunds to ensure a fair and transparent experience for all our clients.",appointmentCancellations:"Appointment Cancellations",cancellationPolicy:"Cancellation Policy",emergencyCancellations:"Emergency Cancellations",refundPolicy:"Refund Policy",storeProducts:"Store Products",wellnessSessions:"Wellness Sessions",specialCases:"Special Cases",forceMajeure:"Force Majeure",disputes:"Disputes",contactUs:"Contact Us",contactMessage:"For any questions regarding our cancellation and refund policy, please contact our customer support team:",email:"Email: support@svasam.com",phone:"Phone: +91 1234567890",supportHours:"Customer Support Hours: Mon-Sat, 10 AM - 7 PM"},privacy:{title:"Privacy Policy",welcome:"Welcome to Svasam Wellness",infoCollect:"1. Information We Collect",personalInfo:"Personal Information",usageInfo:"Usage Information",howWeUse:"2. How We Use Your Information",primaryUses:"Primary Uses",marketing:"Marketing",dataProtection:"3. Data Protection",contactUs:"Contact Us"},contact:{title:"Contact Us",getInTouch:"Get in Touch",fullName:"Full Name",emailAddress:"Email Address",phoneNumber:"Phone Number",subject:"Subject",message:"Message",sendMessage:"Send Message",contactInfo:"Contact Information",faq:"Frequently Asked Questions",fullNamePlaceholder:"Enter your full name",emailPlaceholder:"Enter your email",phonePlaceholder:"Enter your phone number",messagePlaceholder:"How can we assist you?",generalInquiry:"General Inquiry",wellnessPrograms:"Wellness Programs",storeProducts:"Store & Products",scheduleAppointment:"Schedule Appointment",other:"Other",officeLocation:"Office Location",contactDetails:"Contact Details",businessHours:"Business Hours",faqQuestion1:"How do I schedule a wellness session?",faqQuestion2:"What payment methods do you accept?",faqQuestion3:"Can I cancel my appointment?"},blog:{title:"Our Blog",description:"Discover insightful articles on mind, body, and soul wellness from our experts.",stayUpdated:"Stay Updated",subscribeText:"Get our latest wellness articles straight to your inbox.",emailPlaceholder:"Your email address",subscribe:"Subscribe",email:"Email: support@svasam.com",phone:"Phone: +91 1234567890",supportHours:"Customer Support Hours: Mon-Sat, 10 AM - 7 PM"},shipping:{title:"Shipping and Delivery Policy",welcome:"Welcome to Svasam Wellness Store",shippingAreas:"Shipping Areas",domesticShipping:"Domestic Shipping",internationalShipping:"International Shipping",shippingTimes:"Shipping Times",contactUs:"Contact Us"},categories:{title:"Discover Your Path",description:"Explore our holistic wellness categories designed to guide you on your journey to inner peace and transformation",heading:"Wellness Categories",explore:"Explore",exploreAriaLabel:"Explore {{title}} programs",mind:{title:"Mind",description:"The seat of consciousness, thoughts, and emotions. In spirituality, the mind is seen as a powerful tool for transformation and enlightenment.",alt:"Illustration representing the mind and consciousness"},body:{title:"Body",description:"The physical vessel that houses our spirit. In spirituality, the body is considered sacred and a temple for our soul's journey.",alt:"Illustration representing physical health and the body",selfSessions:{title:"Self Sessions / Care (Body)",description:"Access self-guided audio and video sessions for physical self-care."}},soul:{title:"Soul",description:"The eternal essence of our being. In spirituality, the soul is our true self, the divine spark that connects us to the universe.",alt:"Illustration representing the soul and spiritual essence",selfSessions:{title:"Self Sessions (Soul)",description:"Access self-guided audio and video sessions for spiritual well-being."}}},common:{loading:"Loading...",error:"Error",sale:"SALE"}}},ht=(e,t={},s="en")=>{const n=e.split(".");let i=ut[s];for(const r of n)i=i?.[r];return i?Object.keys(t).reduce((e,s)=>e.replace(new RegExp(`{{${s}}}`,"g"),t[s]),i):e};function pt(){return x.jsxs("footer",{className:"bg-pink-50 text-gray-700 mt-16",children:[x.jsxs("section",{className:"bg-pink-50 text-gray-700 px-6 py-10 md:px-24 md:py-20 flex flex-col md:flex-row gap-10 md:gap-20 justify-between",children:[x.jsxs("div",{children:[x.jsx(r,{className:"font-medium text-3xl tracking-tight",to:"/",children:ht("footer.brand")}),x.jsxs("p",{className:"mt-6 text-xs md:text-sm md:w-72",children:["Svasam Wellness Pvt. Ltd., Office 2,",x.jsx("br",{}),"22 Paradise Villa Compound,",x.jsx("br",{}),"Bhulabhai Desai Road, Mahalaxmi Mandir,",x.jsx("br",{}),"Cumbala Hill, Mumbai 400026"]})]}),x.jsxs("div",{className:"flex gap-12",children:[x.jsxs("div",{className:"flex flex-col w-36 lg:w-60",children:[x.jsx(r,{className:"text-xs md:text-sm mb-4 font-medium text-sm md:text-base",to:"/blog",children:"Blog"}),x.jsx(r,{className:"text-xs md:text-sm",to:"/all-articles",children:"All Articles"})]}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx(r,{className:"text-xs md:text-sm mb-4 font-medium text-sm md:text-base",to:"/",children:"Company"}),x.jsx(r,{className:"text-xs md:text-sm mb-2",to:"/about",children:"About Us"}),x.jsx(r,{className:"text-xs md:text-sm mb-2",to:"/contact",children:"Contact Us"}),x.jsx(r,{className:"text-xs md:text-sm mb-2",to:"/refund-and-cancellation",children:"Cancellation and Refund Policy"}),x.jsx(r,{className:"text-xs md:text-sm mb-2",to:"/shipping-and-delivery",children:"Shipping and Delivery Policy"}),x.jsx(r,{className:"text-xs md:text-sm mb-2",to:"/terms-and-conditions",children:"Terms and Conditions"}),x.jsx(r,{className:"text-xs md:text-sm",to:"/privacy-policy",children:"Privacy Policy"})]})]})]}),x.jsx("section",{className:"py-4 md:py-8 px-6 md:px-24 flex bg-pink-50 text-gray-700",children:x.jsx("span",{className:"ml-auto text-right text-xs md:text-base",children:" 2025 Svasam Wellness. All rights reserved"})})]})}var mt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ft=o.createContext&&o.createContext(mt),gt=["attr","size","title"];function yt(e,t){if(null==e)return{};var s,n,i=function(e,t){if(null==e)return{};var s={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},xt.apply(this,arguments)}function vt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function wt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(s),!0).forEach(function(t){bt(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vt(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function bt(e,t,s){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Nt(e){return e&&e.map((e,t)=>o.createElement(e.tag,wt({key:t},e.attr),Nt(e.child)))}function Et(e){return t=>o.createElement(St,xt({attr:wt({},e.attr)},t),Nt(e.child))}function St(e){var t=t=>{var s,{attr:n,size:i,title:r}=e,a=yt(e,gt),l=i||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),o.createElement("svg",xt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,a,{className:s,style:wt(wt({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),r&&o.createElement("title",null,r),e.children)};return void 0!==ft?o.createElement(ft.Consumer,null,e=>t(e)):t(mt)}function jt(e){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Tt(e){return Et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}const _t=({question:e,children:t,isOpen:s,onClick:n})=>x.jsxs("div",{className:"mb-6 last:mb-0",children:[x.jsxs("button",{className:"w-full flex justify-between items-center py-3 px-0 text-left transition-colors group border-b border-gray-200 pb-3",onClick:n,"aria-expanded":s,children:[x.jsx("span",{className:"font-semibold text-gray-800 text-lg group-hover:text-main",children:e}),s?x.jsx(Tt,{className:"text-accent text-xl flex-shrink-0 ml-4"}):x.jsx(jt,{className:"text-gray-500 text-xl group-hover:text-accent flex-shrink-0 ml-4"})]}),x.jsx("div",{className:"overflow-hidden transition-all duration-300 ease-in-out "+(s?"max-h-96 opacity-100 mt-3":"max-h-0 opacity-0"),"aria-hidden":!s,children:x.jsx("div",{className:"text-gray-700",children:t})})]});function It(){const[e,t]=n.useState(0);return x.jsx("section",{className:"py-16",children:x.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"}),x.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto",children:"Find answers to common questions about our wellness programs and services"})]}),x.jsx("div",{className:"space-y-2",children:[{question:"What is Svasam?",answer:"Svasam is a holistic wellness platform offering Mind, Body, and Soul sessions for your well-being. We provide guided programs, self-sessions, and community support to help you achieve balance and harmony in all aspects of life."},{question:"How do I access the audio/video sessions?",answer:"You can access our audio/video sessions by navigating to the respective category (Mind, Body, or Soul) and selecting the session you're interested in. Simply click on the session to start your journey."},{question:"Is Svasam free to use?",answer:"Svasam offers both free and premium content. While many of our basic sessions are available at no cost, we also offer premium programs with additional features and personalized guidance. You can explore our pricing plans for more details."},{question:"Can I use Svasam on my mobile device?",answer:"Absolutely! Svasam is fully responsive and works seamlessly on both desktop and mobile devices. You can also install it as a Progressive Web App (PWA) for an app-like experience with offline access to your favorite sessions."},{question:"Are my personal details and activity private?",answer:"Your privacy is our top priority. All personal information and activity data are encrypted and stored securely. We never share your data with third parties without your explicit consent, in compliance with data protection regulations."},{question:"How do I track my progress?",answer:"Your personal dashboard tracks your session history, completed programs, and milestones. You can monitor your progress, set goals, and receive personalized recommendations based on your activity."},{question:"Can I download sessions for offline use?",answer:"Yes, premium members can download selected sessions for offline access. This feature allows you to continue your practice even without an internet connection, perfect for travel or areas with limited connectivity."},{question:"How can I contact Svasam support?",answer:"We're here to help! You can reach our support team by emailing support@svasam.com or by using the contact form on our website. Our team typically responds within 24-48 hours."}].map((s,n)=>x.jsx(_t,{question:s.question,isOpen:e===n,onClick:()=>(s=>{t(e===s?null:s)})(n),children:x.jsx("p",{className:"leading-relaxed",children:s.answer})},n))}),x.jsxs("div",{className:"mt-12 text-center",children:[x.jsx("p",{className:"text-gray-700 mb-4",children:"Still have questions?"}),x.jsx("a",{href:"/contact",className:"inline-block px-6 py-3 bg-accent text-white rounded-lg font-medium hover:bg-purple-700 transition-colors",children:"Contact Us"})]})]})})}const Ct=[{id:1,name:"Priya Sharma",role:"Yoga Enthusiast",content:"The Mind programs have transformed my daily routine. The guided meditations help me stay focused and calm throughout the day.",image:"https://randomuser.me/api/portraits/women/32.jpg"},{id:2,name:"Rahul Verma",role:"Fitness Coach",content:"The Body programs are exceptional! The combination of yoga and nutrition guidance has significantly improved my clients' results.",image:"https://randomuser.me/api/portraits/men/45.jpg"},{id:3,name:"Ananya Patel",role:"Meditation Teacher",content:"The Soul programs have added depth to my spiritual practice. The sound therapy sessions are particularly transformative.",image:"https://randomuser.me/api/portraits/women/68.jpg"},{id:4,name:"Vikram Singh",role:"Corporate Professional",content:"The stress management techniques from the Mind category have been a game-changer for my work-life balance.",image:"https://randomuser.me/api/portraits/men/22.jpg"},{id:5,name:"Meera Kapoor",role:"Wellness Coach",content:"The holistic approach of combining mind, body, and soul has been revolutionary for my personal growth and my coaching practice.",image:"https://randomuser.me/api/portraits/women/44.jpg"}],kt=()=>{const[e,t]=n.useState(0),s=n.useRef(null);return x.jsx("section",{className:"py-16 bg-transparent",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl font-extrabold text-main sm:text-4xl",children:"What Our Community Says"}),x.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-lg text-gray-500 sm:mt-4",children:"Hear from people who have transformed their lives with our programs"})]}),x.jsxs("div",{className:"relative",children:[x.jsx(st,{ref:s,modules:[rt,ot,lt],spaceBetween:30,slidesPerView:1,breakpoints:{640:{slidesPerView:1},768:{slidesPerView:2},1024:{slidesPerView:3}},autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{clickable:!0,el:".testimonial-pagination",bulletClass:"w-2 h-2 bg-gray-300 rounded-full inline-block mx-1 cursor-pointer",bulletActiveClass:"bg-main w-6"},onSlideChange:e=>t(e.realIndex),className:"pb-12",children:Ct.map(e=>x.jsx(nt,{children:x.jsxs("div",{className:"bg-white/90 p-6 rounded-lg shadow-md h-full mx-2 backdrop-blur-sm",children:[x.jsxs("div",{className:"flex items-center mb-4",children:[x.jsx("img",{className:"h-14 w-14 rounded-full object-cover",src:e.image,alt:e.name}),x.jsxs("div",{className:"ml-4",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),x.jsx("p",{className:"text-sm text-gray-500",children:e.role})]})]}),x.jsxs("p",{className:"text-gray-600 italic",children:['"',e.content,'"']}),x.jsx("div",{className:"mt-4 flex",children:[1,2,3,4,5].map(e=>x.jsx("svg",{className:"h-5 w-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},e))})]})},e.id))}),x.jsx("div",{className:"flex justify-center mt-8",children:x.jsx("div",{className:"testimonial-pagination flex space-x-2",children:Ct.map((t,n)=>x.jsx("span",{className:"w-2 h-2 rounded-full transition-all duration-300 cursor-pointer "+(n===e?"bg-main w-6":"bg-gray-300"),onClick:()=>s.current?.swiper.slideTo(n)},n))})})]})]})})},At="/assets/Main page.png",Pt=({to:e,title:t,description:s,image:n,alt:i})=>x.jsx("article",{className:"flex flex-col items-center h-full",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all duration-300 w-full h-full flex flex-col",children:[x.jsx("img",{src:n,alt:i,className:"w-28 h-28 mb-6 mx-auto object-contain",loading:"lazy",width:112,height:112}),x.jsxs("div",{className:"flex-grow",children:[x.jsx("h2",{className:"text-2xl font-bold text-center text-main mb-4",children:t}),x.jsx("p",{className:"text-text text-sm leading-relaxed text-center mb-6",children:s})]}),x.jsx("div",{className:"mt-auto",children:x.jsxs(r,{to:e,className:"flex items-center justify-center group w-full py-2 text-main hover:text-accent transition-colors","aria-label":ht("categories.exploreAriaLabel",{title:t}),children:[x.jsx("span",{className:"mr-2 font-medium",children:ht("categories.explore")}),x.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})});function Ot(){const e=[{id:"mind",title:ht("categories.mind.title"),description:ht("categories.mind.description"),image:At,alt:ht("categories.mind.alt")},{id:"body",title:ht("categories.body.title"),description:ht("categories.body.description"),image:"/assets/body icon.png",alt:ht("categories.body.alt")},{id:"soul",title:ht("categories.soul.title"),description:ht("categories.soul.description"),image:"/assets/Soul icon.png",alt:ht("categories.soul.alt")}];return x.jsxs("main",{className:"relative min-h-screen w-full bg-background/80",children:[x.jsx("img",{src:"/icons/Logo icon.png",alt:"",className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-4xl opacity-40 z-0 pointer-events-none select-none",draggable:!1,"aria-hidden":"true"}),x.jsx("div",{className:"relative z-10",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsx("div",{className:"h-12 md:h-16 w-full bg-background","aria-hidden":"true"}),x.jsxs("header",{className:"relative mb-12 md:mb-16 rounded-xl overflow-hidden h-64 md:h-96",children:[x.jsxs("div",{className:"absolute inset-0",children:[x.jsx("img",{src:At,alt:"Mind category banner",className:"w-full h-full object-cover",loading:"eager"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-main/90 to-accent/80"})]}),x.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center px-4 sm:px-6 lg:px-8 text-center",children:[x.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:ht("categories.title")}),x.jsx("p",{className:"text-lg md:text-xl text-white/90 max-w-3xl",children:ht("categories.description")})]})]}),x.jsxs("section",{"aria-labelledby":"categories-heading",className:"py-8 md:py-12",children:[x.jsx("h2",{id:"categories-heading",className:"sr-only",children:ht("categories.heading")}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:e.map(e=>x.jsx(Pt,{to:`/${e.id}`,title:e.title,description:e.description,image:e.image,alt:e.alt},e.id))})]}),x.jsx("div",{className:"py-8",children:x.jsx(dt,{})}),x.jsx(kt,{}),x.jsx(It,{})]})})]})}function Mt(){const e=i(),{programs:t,loading:s,error:n}=$("mind");return s?x.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):n?x.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:x.jsxs("div",{className:"text-red-500 text-center p-4 max-w-md",children:[x.jsx("h2",{className:"text-xl font-bold mb-2",children:"Error Loading Programs"}),x.jsx("p",{children:n.message}),x.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Try Again"})]})}):x.jsx("div",{className:"min-h-screen w-full bg-background",children:x.jsxs("div",{className:"max-w-6xl mx-auto py-16 px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h1",{className:"text-4xl font-bold text-[#8e6192] mb-4",children:"Mind Wellness Programs"}),x.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Discover our transformative programs designed to enhance your mental well-being and unlock your full potential."})]}),t&&0!==t.length?x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(t=>x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[t.imageUrl&&x.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-48 object-cover rounded-t-lg mb-4",loading:"lazy"}),x.jsxs("div",{className:"p-4",children:[x.jsx("h2",{className:"text-xl font-bold text-[#8e6192] mb-3",children:t.title}),x.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:t.description}),x.jsxs("div",{className:"flex justify-between items-center mt-4",children:[t.price&&x.jsxs("span",{className:"text-lg font-semibold text-purple-700",children:["",t.price.toLocaleString()]}),x.jsx("button",{className:"px-4 py-2 bg-accent text-white rounded-lg font-semibold shadow hover:bg-[#704091] focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 transition",onClick:()=>t.slug?e(`/programs/${t.slug.current||t.slug}`):"#",children:"Read More"})]})]})]},t._id||t.title))}):x.jsx("div",{className:"text-center py-12",children:x.jsx("p",{className:"text-gray-500",children:"No mind programs available at the moment. Please check back later."})})]})})}function Dt(){const e=i(),{programs:t,loading:s,error:n}=$("body");return s?x.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):n?x.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:x.jsxs("div",{className:"text-red-500 text-center p-4 max-w-md",children:[x.jsx("h2",{className:"text-xl font-bold mb-2",children:"Error Loading Programs"}),x.jsx("p",{children:n.message}),x.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Try Again"})]})}):x.jsx("div",{className:"min-h-screen w-full bg-background",children:x.jsxs("div",{className:"max-w-6xl mx-auto py-16 px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h1",{className:"text-4xl font-bold text-heading mb-4",children:"Body Wellness Programs"}),x.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Discover our curated programs designed to enhance your physical well-being and vitality."})]}),t&&0!==t.length?x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(t=>x.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[t.imageUrl&&x.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-48 object-cover",loading:"lazy"}),x.jsxs("div",{className:"p-6",children:[x.jsx("h2",{className:"text-xl font-bold text-[#8e6192] mb-3",children:t.title}),x.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:t.description}),x.jsxs("div",{className:"flex justify-between items-center mt-4",children:[t.price&&x.jsxs("span",{className:"text-lg font-semibold text-purple-700",children:["",t.price.toLocaleString()]}),t.duration&&x.jsx("span",{className:"text-sm text-gray-500",children:t.duration})]}),x.jsx("button",{className:"mt-4 w-full px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold shadow hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition",onClick:()=>t.slug&&e(`/programs/${t.slug}`),children:"Learn More"})]})]},t._id))}):x.jsx("div",{className:"text-center py-12",children:x.jsx("p",{className:"text-gray-500",children:"No body programs available at the moment. Please check back later."})})]})})}function Lt(){const e=i(),{programs:t,loading:s,error:n}=$("soul");return s?x.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):n?x.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:x.jsxs("div",{className:"text-red-500 text-center p-4 max-w-md",children:[x.jsx("h2",{className:"text-xl font-bold mb-2",children:"Error Loading Programs"}),x.jsx("p",{className:"mb-4",children:n.message}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-accent text-white rounded-lg font-semibold hover:bg-[#704091] transition-colors",children:"Try Again"})]})}):x.jsx("div",{className:"min-h-screen w-full bg-background",children:x.jsxs("div",{className:"max-w-6xl mx-auto py-16 px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h1",{className:"text-4xl font-bold text-[#8e6192] mb-4",children:"Soul Wellness Programs"}),x.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Discover our transformative programs designed to nurture your spiritual growth and inner peace."})]}),t&&0!==t.length?x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(t=>x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[t.imageUrl&&x.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-48 object-cover rounded-t-lg mb-4",loading:"lazy"}),x.jsxs("div",{className:"p-2",children:[x.jsx("h2",{className:"text-xl font-bold text-[#8e6192] mb-3",children:t.title}),x.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:t.description}),x.jsxs("div",{className:"flex justify-between items-center mt-4",children:[t.price&&x.jsxs("span",{className:"text-lg font-semibold text-purple-700",children:["",t.price.toLocaleString()]}),x.jsx("button",{className:"px-4 py-2 bg-accent text-white rounded-lg font-semibold shadow hover:bg-[#704091] focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 transition",onClick:()=>t.slug?e(`/programs/${t.slug.current||t.slug}`):"#",children:"Read More"})]})]})]},t._id||t.title))}):x.jsx("div",{className:"text-center py-12",children:x.jsx("p",{className:"text-gray-500",children:"No soul programs available at the moment. Please check back later."})})]})})}function Rt(){const e=i(),{items:t,loading:s,error:r}=function(e=null){const[t,s]=n.useState([]),[i,r]=n.useState(!0),[a,o]=n.useState(null),l=e?'*[_type == "storeItem" && $category in categories[]->title] {\n        _id,\n        title,\n        description,\n        shortDescription,\n        "slug": slug.current,\n        "imageUrl": mainImage.asset->url,\n        price,\n        compareAtPrice,\n        "categories": categories[]->title,\n        stock,\n        "images": images[].asset->url\n      } | order(_createdAt desc)':'*[_type == "storeItem"] {\n        _id,\n        title,\n        description,\n        shortDescription,\n        "slug": slug.current,\n        "imageUrl": mainImage.asset->url,\n        price,\n        compareAtPrice,\n        "categories": categories[]->title,\n        stock,\n        "images": images[].asset->url\n      } | order(_createdAt desc)',c=n.useCallback(async()=>{try{r(!0);const t=await B.fetch(l,e?{category:e}:{});s(t),o(null)}catch(t){console.error("Error fetching store items:",t),o({message:t.message||"Unknown error",isNetworkError:"AbortError"===t.name||!navigator.onLine})}finally{r(!1)}},[l,e]);return n.useEffect(()=>{c()},[c]),{items:t,loading:i,error:a,refetch:c}}(),a=n.useCallback(t=>{t&&e(`/store/${t}`)},[e]),o=n.useCallback(()=>{window.location.reload()},[]);return s?x.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500","aria-label":ht("common.loading")})}):r?x.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:x.jsxs("div",{className:"text-red-500 text-center p-4 max-w-md",children:[x.jsx("h2",{className:"text-xl font-bold mb-2",children:"Error Loading Store Items"}),x.jsx("p",{className:"mb-4",children:r.message}),x.jsx("button",{onClick:o,className:"px-4 py-2 bg-accent text-white rounded-lg font-semibold hover:bg-[#704091] transition-colors",children:"Try Again"})]})}):x.jsx("div",{className:"min-h-screen w-full bg-background",children:x.jsxs("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h1",{className:"text-4xl font-bold text-[#8e6192] mb-4",children:"Svasam Store"}),x.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Discover our collection of spiritual and wellness products to support your journey"})]}),t&&0!==t.length?x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:t.map(e=>x.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden flex flex-col h-full transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[x.jsxs("div",{className:"relative pt-[100%] bg-gray-50",children:[e.imageUrl?x.jsx("img",{src:e.imageUrl,alt:e.title,className:"absolute inset-0 w-full h-full object-cover",loading:"lazy"}):x.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:x.jsx("span",{className:"text-sm",children:"No Image"})}),e.compareAtPrice>e.price&&x.jsx("span",{className:"absolute top-3 right-3 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"SALE"})]}),x.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[x.jsx("h2",{className:"text-xl font-bold text-[#8e6192] mb-2 line-clamp-2",title:e.title,children:e.title}),x.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-grow",children:e.shortDescription||e.description}),x.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsxs("span",{className:"text-lg font-bold text-main",children:["",e.price?.toLocaleString("en-IN")]}),e.compareAtPrice>e.price&&x.jsxs("span",{className:"ml-2 text-sm text-gray-400 line-through",children:["",e.compareAtPrice?.toLocaleString("en-IN")]})]}),x.jsx("button",{className:"px-4 py-2 bg-accent text-white rounded-lg font-semibold text-sm shadow hover:bg-[#704091] focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 transition",onClick:n.useCallback(()=>a(e.slug),[a,e.slug]),children:"View Details"})]})]})]},e._id||e.title))}):x.jsx("div",{className:"text-center py-12",children:x.jsx("p",{className:"text-gray-500",children:"No items available in the store at the moment. Please check back later."})})]})})}var Vt={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut=function(e){const t=[];let s=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[s++]=i:i<2048?(t[s++]=i>>6|192,t[s++]=63&i|128):55296==(64512&i)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[s++]=i>>18|240,t[s++]=i>>12&63|128,t[s++]=i>>6&63|128,t[s++]=63&i|128):(t[s++]=i>>12|224,t[s++]=i>>6&63|128,t[s++]=63&i|128)}return t},Ft={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const t=e[i],r=i+1<e.length,a=r?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,d=(3&t)<<4|a>>4;let u=(15&a)<<2|l>>6,h=63&l;o||(h=64,r||(u=64)),n.push(s[c],s[d],s[u],s[h])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ut(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let s=0,n=0;for(;s<e.length;){const i=e[s++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const r=e[s++];t[n++]=String.fromCharCode((31&i)<<6|63&r)}else if(i>239&&i<365){const r=((7&i)<<18|(63&e[s++])<<12|(63&e[s++])<<6|63&e[s++])-65536;t[n++]=String.fromCharCode(55296+(r>>10)),t[n++]=String.fromCharCode(56320+(1023&r))}else{const r=e[s++],a=e[s++];t[n++]=String.fromCharCode((15&i)<<12|(63&r)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const t=s[e.charAt(i++)],r=i<e.length?s[e.charAt(i)]:0;++i;const a=i<e.length?s[e.charAt(i)]:64;++i;const o=i<e.length?s[e.charAt(i)]:64;if(++i,null==t||null==r||null==a||null==o)throw new Bt;const l=t<<2|r>>4;if(n.push(l),64!==a){const e=r<<4&240|a>>2;if(n.push(e),64!==o){const e=a<<6&192|o;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Bt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zt=function(e){return function(e){const t=Ut(e);return Ft.encodeByteArray(t,!0)}(e).replace(/\./g,"")},$t=function(e){try{return Ft.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const qt=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ht=()=>{try{return qt()||(()=>{if("undefined"==typeof process)return;const e=Vt.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(s){return}const t=e&&$t(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Wt=e=>Ht()?.emulatorHosts?.[e],Gt=()=>Ht()?.config,Kt=e=>Ht()?.[`_${e}`];
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,s))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qt(e){return(await fetch(e,{credentials:"include"})).ok}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt={};let Zt=!1;function es(e,t){if("undefined"==typeof window||"undefined"==typeof document||!Xt(window.location.host)||Jt[e]===t||Jt[e]||Zt)return;function s(e){return`__firebase__banner__${e}`}Jt[e]=t;const n="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Jt))Jt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function r(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Zt=!0,function(){const e=document.getElementById(n);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),s=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),s=!0),{created:s,element:t}}(n),t=s("text"),a=document.getElementById(t)||document.createElement("span"),o=s("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=s("preprendIcon"),d=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const s=r();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(d,c),t.append(d,a,l,s),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",d.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(d.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ss(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function ns(){return!function(){const e=Ht()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function is(){try{return"object"==typeof indexedDB}catch(e){return!1}}function rs(){return new Promise((e,t)=>{try{let s=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),s||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{s=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(s){t(s)}})}class as extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name="FirebaseError",Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,os.prototype.create)}}class os{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},n=`${this.service}/${e}`,i=this.errors[e],r=i?function(e,t){return e.replace(ls,(e,s)=>{const n=t[s];return null!=n?String(n):`<${s}?>`})}(i,s):"Error",a=`${this.serviceName}: ${r} (${n}).`;return new as(n,a,s)}}const ls=/\{\$([^}]+)}/g;function cs(e,t){if(e===t)return!0;const s=Object.keys(e),n=Object.keys(t);for(const i of s){if(!n.includes(i))return!1;const s=e[i],r=t[i];if(ds(s)&&ds(r)){if(!cs(s,r))return!1}else if(s!==r)return!1}for(const i of n)if(!s.includes(i))return!1;return!0}function ds(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(e){const t=[];for(const[s,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(s)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(s)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function hs(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[s,n]=e.split("=");t[decodeURIComponent(s)]=decodeURIComponent(n)}}),t}function ps(e){const t=e.indexOf("?");if(!t)return"";const s=e.indexOf("#",t);return e.substring(t,s>0?s:void 0)}class ms{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let n;if(void 0===e&&void 0===t&&void 0===s)throw new Error("Missing Observer.");n=function(e,t){if("object"!=typeof e||null===e)return!1;for(const s of t)if(s in e&&"function"==typeof e[s])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:s},void 0===n.next&&(n.next=fs),void 0===n.error&&(n.error=fs),void 0===n.complete&&(n.complete=fs);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}}),this.observers.push(n),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(s){"undefined"!=typeof console&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fs(){}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(e,t=1e3,s=2){const n=t*Math.pow(s,e),i=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(e){return e&&e._delegate?e._delegate:e}class xs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Yt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&e.resolve(s)}catch(s){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(s)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(n){if(s)return null;throw n}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch(t){}for(const[e,s]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});s.resolve(e)}catch(t){}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[i,r]of this.instancesDeferred.entries()){s===this.normalizeInstanceIdentifier(i)&&r.resolve(n)}return n}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),n=this.onInitCallbacks.get(s)??new Set;n.add(e),this.onInitCallbacks.set(s,n);const i=this.instances.get(s);return i&&e(i,s),()=>{n.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const n of s)try{n(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===vs?void 0:n),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}var n;return s||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class bs{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ws(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ns,Es;(Es=Ns||(Ns={}))[Es.DEBUG=0]="DEBUG",Es[Es.VERBOSE=1]="VERBOSE",Es[Es.INFO=2]="INFO",Es[Es.WARN=3]="WARN",Es[Es.ERROR=4]="ERROR",Es[Es.SILENT=5]="SILENT";const Ss={debug:Ns.DEBUG,verbose:Ns.VERBOSE,info:Ns.INFO,warn:Ns.WARN,error:Ns.ERROR,silent:Ns.SILENT},js=Ns.INFO,Ts={[Ns.DEBUG]:"log",[Ns.VERBOSE]:"log",[Ns.INFO]:"info",[Ns.WARN]:"warn",[Ns.ERROR]:"error"},_s=(e,t,...s)=>{if(t<e.logLevel)return;const n=(new Date).toISOString(),i=Ts[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${n}]  ${e.name}:`,...s)};class Is{constructor(e){this.name=e,this._logLevel=js,this._logHandler=_s,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ns))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Ss[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ns.DEBUG,...e),this._logHandler(this,Ns.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ns.VERBOSE,...e),this._logHandler(this,Ns.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ns.INFO,...e),this._logHandler(this,Ns.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ns.WARN,...e),this._logHandler(this,Ns.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ns.ERROR,...e),this._logHandler(this,Ns.ERROR,...e)}}let Cs,ks;const As=new WeakMap,Ps=new WeakMap,Os=new WeakMap,Ms=new WeakMap,Ds=new WeakMap;let Ls={get(e,t,s){if(e instanceof IDBTransaction){if("done"===t)return Ps.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Os.get(e);if("store"===t)return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Us(e[t])},set:(e,t,s)=>(e[t]=s,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Rs(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ks||(ks=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Fs(this),t),Us(As.get(this))}:function(...t){return Us(e.apply(Fs(this),t))}:function(t,...s){const n=e.call(Fs(this),t,...s);return Os.set(n,t.sort?t.sort():[t]),Us(n)}}function Vs(e){return"function"==typeof e?Rs(e):(e instanceof IDBTransaction&&function(e){if(Ps.has(e))return;const t=new Promise((t,s)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",r),e.removeEventListener("abort",r)},i=()=>{t(),n()},r=()=>{s(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",r),e.addEventListener("abort",r)});Ps.set(e,t)}(e),t=e,(Cs||(Cs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Ls):e);var t}function Us(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,s)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",r)},i=()=>{t(Us(e.result)),n()},r=()=>{s(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",r)});return t.then(t=>{t instanceof IDBCursor&&As.set(t,e)}).catch(()=>{}),Ds.set(t,e),t}(e);if(Ms.has(e))return Ms.get(e);const t=Vs(e);return t!==e&&(Ms.set(e,t),Ds.set(t,e)),t}const Fs=e=>Ds.get(e);function Bs(e,t,{blocked:s,upgrade:n,blocking:i,terminated:r}={}){const a=indexedDB.open(e,t),o=Us(a);return n&&a.addEventListener("upgradeneeded",e=>{n(Us(a.result),e.oldVersion,e.newVersion,Us(a.transaction),e)}),s&&a.addEventListener("blocked",e=>s(e.oldVersion,e.newVersion,e)),o.then(e=>{r&&e.addEventListener("close",()=>r()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const zs=["get","getKey","getAll","getAllKeys","count"],$s=["put","add","delete","clear"],qs=new Map;function Hs(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(qs.get(t))return qs.get(t);const s=t.replace(/FromIndex$/,""),n=t!==s,i=$s.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!zs.includes(s))return;const r=async function(e,...t){const r=this.transaction(e,i?"readwrite":"readonly");let a=r.store;return n&&(a=a.index(t.shift())),(await Promise.all([a[s](...t),i&&r.done]))[0]};return qs.set(t,r),r}Ls=(e=>({...e,get:(t,s,n)=>Hs(t,s)||e.get(t,s,n),has:(t,s)=>!!Hs(t,s)||e.has(t,s)}))(Ls);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ws{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const Gs="@firebase/app",Ks="0.14.2",Ys=new Is("@firebase/app"),Xs="@firebase/app-compat",Qs="@firebase/analytics-compat",Js="@firebase/analytics",Zs="@firebase/app-check-compat",en="@firebase/app-check",tn="@firebase/auth",sn="@firebase/auth-compat",nn="@firebase/database",rn="@firebase/data-connect",an="@firebase/database-compat",on="@firebase/functions",ln="@firebase/functions-compat",cn="@firebase/installations",dn="@firebase/installations-compat",un="@firebase/messaging",hn="@firebase/messaging-compat",pn="@firebase/performance",mn="@firebase/performance-compat",fn="@firebase/remote-config",gn="@firebase/remote-config-compat",yn="@firebase/storage",xn="@firebase/storage-compat",vn="@firebase/firestore",wn="@firebase/ai",bn="@firebase/firestore-compat",Nn="firebase",En="[DEFAULT]",Sn={[Gs]:"fire-core",[Xs]:"fire-core-compat",[Js]:"fire-analytics",[Qs]:"fire-analytics-compat",[en]:"fire-app-check",[Zs]:"fire-app-check-compat",[tn]:"fire-auth",[sn]:"fire-auth-compat",[nn]:"fire-rtdb",[rn]:"fire-data-connect",[an]:"fire-rtdb-compat",[on]:"fire-fn",[ln]:"fire-fn-compat",[cn]:"fire-iid",[dn]:"fire-iid-compat",[un]:"fire-fcm",[hn]:"fire-fcm-compat",[pn]:"fire-perf",[mn]:"fire-perf-compat",[fn]:"fire-rc",[gn]:"fire-rc-compat",[yn]:"fire-gcs",[xn]:"fire-gcs-compat",[vn]:"fire-fst",[bn]:"fire-fst-compat",[wn]:"fire-vertex","fire-js":"fire-js",[Nn]:"fire-js-all"},jn=new Map,Tn=new Map,_n=new Map;function In(e,t){try{e.container.addComponent(t)}catch(s){Ys.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,s)}}function Cn(e){const t=e.name;if(_n.has(t))return Ys.debug(`There were multiple attempts to register component ${t}.`),!1;_n.set(t,e);for(const s of jn.values())In(s,e);for(const s of Tn.values())In(s,e);return!0}function kn(e,t){const s=e.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),e.container.getProvider(t)}function An(e){return null!=e&&void 0!==e.settings}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=new os("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class On{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="12.2.0";function Dn(e,t={}){let s=e;if("object"!=typeof t){t={name:t}}const n={name:En,automaticDataCollectionEnabled:!0,...t},i=n.name;if("string"!=typeof i||!i)throw Pn.create("bad-app-name",{appName:String(i)});if(s||(s=Gt()),!s)throw Pn.create("no-options");const r=jn.get(i);if(r){if(cs(s,r.options)&&cs(n,r.config))return r;throw Pn.create("duplicate-app",{appName:i})}const a=new bs(i);for(const l of _n.values())a.addComponent(l);const o=new On(s,n,a);return jn.set(i,o),o}function Ln(e=En){const t=jn.get(e);if(!t&&e===En&&Gt())return Dn();if(!t)throw Pn.create("no-app",{appName:e});return t}function Rn(e,t,s){let n=Sn[e]??e;s&&(n+=`-${s}`);const i=n.match(/\s|\//),r=t.match(/\s|\//);if(i||r){const e=[`Unable to register library "${n}" with version "${t}":`];return i&&e.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&r&&e.push("and"),r&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ys.warn(e.join(" "))}Cn(new xs(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="firebase-heartbeat-store";let Un=null;function Fn(){return Un||(Un=Bs("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Vn)}catch(s){console.warn(s)}}}).catch(e=>{throw Pn.create("idb-open",{originalErrorMessage:e.message})})),Un}async function Bn(e,t){try{const s=(await Fn()).transaction(Vn,"readwrite"),n=s.objectStore(Vn);await n.put(t,zn(e)),await s.done}catch(s){if(s instanceof as)Ys.warn(s.message);else{const e=Pn.create("idb-set",{originalErrorMessage:s?.message});Ys.warn(e.message)}}}function zn(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Hn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=qn();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,s=e[0].date;for(let n=1;n<e.length;n++)e[n].date<s&&(s=e[n].date,t=n);return t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ys.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=qn(),{heartbeatsToSend:t,unsentEntries:s}=function(e,t=1024){const s=[];let n=e.slice();for(const i of e){const e=s.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Wn(s)>t){e.dates.pop();break}}else if(s.push({agent:i.agent,dates:[i.date]}),Wn(s)>t){s.pop();break}n=n.slice(1)}return{heartbeatsToSend:s,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=zt(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}catch(e){return Ys.warn(e),""}}}function qn(){return(new Date).toISOString().substring(0,10)}class Hn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!is()&&rs().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Fn()).transaction(Vn),s=await t.objectStore(Vn).get(zn(e));return await t.done,s}catch(t){if(t instanceof as)Ys.warn(t.message);else{const e=Pn.create("idb-get",{originalErrorMessage:t?.message});Ys.warn(e.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return Bn(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return Bn(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function Wn(e){return zt(JSON.stringify({version:2,heartbeats:e})).length}var Gn;Gn="",Cn(new xs("platform-logger",e=>new Ws(e),"PRIVATE")),Cn(new xs("heartbeat",e=>new $n(e),"PRIVATE")),Rn(Gs,Ks,Gn),Rn(Gs,Ks,"esm2020"),Rn("fire-js","");function Kn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Rn("firebase","12.2.1","app");const Yn=Kn,Xn=new os("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qn=new Is("@firebase/auth");function Jn(e,...t){Qn.logLevel<=Ns.ERROR&&Qn.error(`Auth (${Mn}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(e,...t){throw ni(e,...t)}function ei(e,...t){return ni(e,...t)}function ti(e,t,s){const n={...Yn(),[t]:s};return new os("auth","Firebase",n).create(t,{appName:e.name})}function si(e){return ti(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ni(e,...t){if("string"!=typeof e){const s=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(s,...n)}return Xn.create(e,...t)}function ii(e,t,...s){if(!e)throw ni(t,...s)}function ri(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Jn(t),new Error(t)}function ai(e,t){e||ri(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return"undefined"!=typeof self&&self.location?.href||""}function li(){return"undefined"!=typeof self&&self.location?.protocol||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==li()&&"https:"!==li()&&!ss()&&!("connection"in navigator)||navigator.onLine}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class di{constructor(e,t){this.shortDelay=e,this.longDelay=t,ai(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ts())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return ci()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(e,t){ai(e.emulator,"Emulator should always be set here");const{url:s}=e.emulator;return t?`${s}${t.startsWith("/")?t.slice(1):t}`:s}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},mi=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fi=new di(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function yi(e,t,s,n,i={}){return xi(e,i,async()=>{let i={},r={};n&&("GET"===t?r=n:i={body:JSON.stringify(n)});const a=us({key:e.config.apiKey,...r}).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:o,...i};return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Xt(e.emulatorConfig.host)&&(l.credentials="include"),hi.fetch()(await wi(e,e.config.apiHost,s,a),l)})}async function xi(e,t,s){e._canInitEmulator=!1;const n={...pi,...t};try{const t=new Ni(e),i=await Promise.race([s(),t.promise]);t.clearNetworkTimeout();const r=await i.json();if("needConfirmation"in r)throw Ei(e,"account-exists-with-different-credential",r);if(i.ok&&!("errorMessage"in r))return r;{const t=i.ok?r.errorMessage:r.error.message,[s,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===s)throw Ei(e,"credential-already-in-use",r);if("EMAIL_EXISTS"===s)throw Ei(e,"email-already-in-use",r);if("USER_DISABLED"===s)throw Ei(e,"user-disabled",r);const o=n[s]||s.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw ti(e,o,a);Zn(e,o)}}catch(i){if(i instanceof as)throw i;Zn(e,"network-request-failed",{message:String(i)})}}async function vi(e,t,s,n,i={}){const r=await yi(e,t,s,n,i);return"mfaPendingCredential"in r&&Zn(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function wi(e,t,s,n){const i=`${t}${s}?${n}`,r=e,a=r.config.emulator?ui(e.config,i):`${e.config.apiScheme}://${i}`;if(mi.includes(s)&&(await r._persistenceManagerAvailable,"COOKIE"===r._getPersistenceType())){return r._getPersistence()._getFinalTarget(a).toString()}return a}function bi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ni{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(ei(this.auth,"network-request-failed")),fi.get())})}}function Ei(e,t,s){const n={appName:e.name};s.email&&(n.email=s.email),s.phoneNumber&&(n.phoneNumber=s.phoneNumber);const i=ei(e,t,n);return i.customData._tokenResponse=s,i}function Si(e){return void 0!==e&&void 0!==e.enterprise}class ji{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return bi(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ti(e,t){return yi(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Ii(e){return 1e3*Number(e)}function Ci(e){const[t,s,n]=e.split(".");if(void 0===t||void 0===s||void 0===n)return Jn("JWT malformed, contained fewer than 3 sections"),null;try{const e=$t(s);return e?JSON.parse(e):(Jn("Failed to decode base64 JWT payload"),null)}catch(i){return Jn("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ki(e){const t=Ci(e);return ii(t,"internal-error"),ii(void 0!==t.exp,"internal-error"),ii(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ai(e,t,s=!1){if(s)return t;try{return await t}catch(n){throw n instanceof as&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Pi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_i(this.lastLoginAt),this.creationTime=_i(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mi(e){const t=e.auth,s=await e.getIdToken(),n=await Ai(e,Ti(t,{idToken:s}));ii(n?.users.length,t,"internal-error");const i=n.users[0];e._notifyReloadListener(i);const r=i.providerUserInfo?.length?Di(i.providerUserInfo):[],a=(o=e.providerData,l=r,[...o.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var o,l;const c=e.isAnonymous,d=!(e.email&&i.passwordHash||a?.length),u=!!c&&d,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Oi(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,h)}function Di(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Li{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ii(e.idToken,"internal-error"),ii(void 0!==e.idToken,"internal-error"),ii(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):ki(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ii(0!==e.length,"internal-error");const t=ki(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(ii(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:n,expiresIn:i}=await async function(e,t){const s=await xi(e,{},async()=>{const s=us({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:i}=e.config,r=await wi(e,n,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:s};return e.emulatorConfig&&Xt(e.emulatorConfig.host)&&(o.credentials="include"),hi.fetch()(r,o)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}(e,t);this.updateTokensAndExpiration(s,n,Number(i))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*s}static fromJSON(e,t){const{refreshToken:s,accessToken:n,expirationTime:i}=t,r=new Li;return s&&(ii("string"==typeof s,"internal-error",{appName:e}),r.refreshToken=s),n&&(ii("string"==typeof n,"internal-error",{appName:e}),r.accessToken=n),i&&(ii("number"==typeof i,"internal-error",{appName:e}),r.expirationTime=i),r}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Li,this.toJSON())}_performRefresh(){return ri("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(e,t){ii("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Vi{constructor({uid:e,auth:t,stsTokenManager:s,...n}){this.providerId="firebase",this.proactiveRefresh=new Pi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=n.displayName||null,this.email=n.email||null,this.emailVerified=n.emailVerified||!1,this.phoneNumber=n.phoneNumber||null,this.photoURL=n.photoURL||null,this.isAnonymous=n.isAnonymous||!1,this.tenantId=n.tenantId||null,this.providerData=n.providerData?[...n.providerData]:[],this.metadata=new Oi(n.createdAt||void 0,n.lastLoginAt||void 0)}async getIdToken(e){const t=await Ai(this,this.stsTokenManager.getToken(this.auth,e));return ii(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const s=ys(e),n=await s.getIdToken(t),i=Ci(n);ii(i&&i.exp&&i.auth_time&&i.iat,s.auth,"internal-error");const r="object"==typeof i.firebase?i.firebase:void 0,a=r?.sign_in_provider;return{claims:i,token:n,authTime:_i(Ii(i.auth_time)),issuedAtTime:_i(Ii(i.iat)),expirationTime:_i(Ii(i.exp)),signInProvider:a||null,signInSecondFactor:r?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=ys(e);await Mi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ii(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ii(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Mi(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(si(this.auth));const e=await this.getIdToken();return await Ai(this,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){return yi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,n=t.email??void 0,i=t.phoneNumber??void 0,r=t.photoURL??void 0,a=t.tenantId??void 0,o=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:d,emailVerified:u,isAnonymous:h,providerData:p,stsTokenManager:m}=t;ii(d&&m,e,"internal-error");const f=Li.fromJSON(this.name,m);ii("string"==typeof d,e,"internal-error"),Ri(s,e.name),Ri(n,e.name),ii("boolean"==typeof u,e,"internal-error"),ii("boolean"==typeof h,e,"internal-error"),Ri(i,e.name),Ri(r,e.name),Ri(a,e.name),Ri(o,e.name),Ri(l,e.name),Ri(c,e.name);const g=new Vi({uid:d,auth:e,email:n,emailVerified:u,displayName:s,isAnonymous:h,photoURL:r,phoneNumber:i,tenantId:a,stsTokenManager:f,createdAt:l,lastLoginAt:c});return p&&Array.isArray(p)&&(g.providerData=p.map(e=>({...e}))),o&&(g._redirectEventId=o),g}static async _fromIdTokenResponse(e,t,s=!1){const n=new Li;n.updateFromServerResponse(t);const i=new Vi({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:s});return await Mi(i),i}static async _fromGetAccountInfoResponse(e,t,s){const n=t.users[0];ii(void 0!==n.localId,"internal-error");const i=void 0!==n.providerUserInfo?Di(n.providerUserInfo):[],r=!(n.email&&n.passwordHash||i?.length),a=new Li;a.updateFromIdToken(s);const o=new Vi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r}),l={uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:i,metadata:new Oi(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash||i?.length)};return Object.assign(o,l),o}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Map;function Fi(e){ai(e instanceof Function,"Expected a class definition");let t=Ui.get(e);return t?(ai(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ui.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Bi.type="NONE";const zi=Bi;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(e,t,s){return`firebase:${e}:${t}:${s}`}class qi{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:n,name:i}=this.auth;this.fullUserKey=$i(this.userKey,n.apiKey,i),this.fullPersistenceKey=$i("persistence",n.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){const t=await Ti(this.auth,{idToken:e}).catch(()=>{});return t?Vi._fromGetAccountInfoResponse(this.auth,t,e):null}return Vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new qi(Fi(zi),e,s);const n=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=n[0]||Fi(zi);const r=$i(s,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(r);if(t){let s;if("string"==typeof t){const n=await Ti(e,{idToken:t}).catch(()=>{});if(!n)break;s=await Vi._fromGetAccountInfoResponse(e,n,t)}else s=Vi._fromJSON(e,t);l!==i&&(a=s),i=l;break}}catch{}const o=n.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(r,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(r)}catch{}})),new qi(i,e,s)):new qi(i,e,s)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Yi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Wi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Qi(t))return"Blackberry";if(Ji(t))return"Webos";if(Gi(t))return"Safari";if((t.includes("chrome/")||Ki(t))&&!t.includes("edge/"))return"Chrome";if(Xi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(t);if(2===s?.length)return s[1]}return"Other"}function Wi(e=ts()){return/firefox\//i.test(e)}function Gi(e=ts()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ki(e=ts()){return/crios\//i.test(e)}function Yi(e=ts()){return/iemobile/i.test(e)}function Xi(e=ts()){return/android/i.test(e)}function Qi(e=ts()){return/blackberry/i.test(e)}function Ji(e=ts()){return/webos/i.test(e)}function Zi(e=ts()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function er(){return function(){const e=ts();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function tr(e=ts()){return Zi(e)||Xi(e)||Ji(e)||Qi(e)||/windows phone/i.test(e)||Yi(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(e,t=[]){let s;switch(e){case"Browser":s=Hi(ts());break;case"Worker":s=`${Hi(ts())}-${e}`;break;default:s=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${s}/JsCore/${Mn}/${n}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=t=>new Promise((s,n)=>{try{s(e(t))}catch(i){n(i)}});s.onAbort=t,this.queue.push(s);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const e of t)try{e()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),n&&(t.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,t){let s;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let n=0;n<e.length;n++)s=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,n,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,t,s,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new or(this),this.idTokenSubscription=new or(this),this.beforeStateQueue=new nr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qi.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ti(this,{idToken:e}),s=await Vi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(An(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,n=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,i=s?._redirectEventId,r=await this.tryRedirectSignIn(e);t&&t!==i||!r?.user||(s=r.user,n=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(n)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ii(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(s){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mi(e)}catch(t){if("auth/network-request-failed"!==t?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(si(this));const t=e?ys(e):null;return t&&ii(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ii(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return yi(e,"GET","/v2/passwordPolicy",gi(e,t))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this),t=new ir(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new os("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return yi(e,"POST","/v2/accounts:revokeToken",gi(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return null===e?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fi(e)||this._popupRedirectResolver;ii(t,this,"argument-error"),this.redirectPersistenceManager=await qi.create(this,[Fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,n){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let r=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ii(a,this,"internal-error"),a.then(()=>{r||i(this.currentUser)}),"function"==typeof t){const i=e.addObserver(t,s,n);return()=>{r=!0,i()}}{const s=e.addObserver(t);return()=>{r=!0,s()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ii(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e,...t){Qn.logLevel<=Ns.WARN&&Qn.warn(`Auth (${Mn}): ${e}`,...t)}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ar(e){return ys(e)}class or{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const s=new ms(e,t);return s.subscribe.bind(s)}(e=>this.observer=e)}get next(){return ii(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lr={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cr(e){return lr.loadJS(e)}class dr{constructor(){this.enterprise=new ur}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ur{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const hr="NO_RECAPTCHA";class pr{constructor(e){this.type="recaptcha-enterprise",this.auth=ar(e)}async verify(e="verify",t=!1){async function s(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,s)=>{(async function(e,t){return yi(e,"GET","/v2/recaptchaConfig",gi(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(n=>{if(void 0!==n.recaptchaKey){const s=new ji(n);return null==e.tenantId?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,t(s.siteKey)}s(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{s(e)})})}function n(t,s,n){const i=window.grecaptcha;Si(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{s(e)}).catch(()=>{s(hr)})}):n(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new dr).execute("siteKey",{action:"verify"})}return new Promise((e,i)=>{s(this.auth).then(s=>{if(!t&&Si(window.grecaptcha))n(s,e,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=lr.recaptchaEnterpriseScript;0!==t.length&&(t+=s),cr(t).then(()=>{n(s,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function mr(e,t,s,n=!1,i=!1){const r=new pr(e);let a;if(i)a=hr;else try{a=await r.verify(s)}catch(l){a=await r.verify(s,!0)}const o={...t};if("mfaSmsEnrollment"===s||"mfaSmsSignIn"===s){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function fr(e,t,s,n,i){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await mr(e,t,s,"getOobCode"===s);return n(e,i)}return n(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await mr(e,t,s,"getOobCode"===s);return n(e,i)}return Promise.reject(i)})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(e,t,s){const n=ar(e);ii(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=yr(t),{host:r,port:a}=function(e){const t=yr(e),s=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!s)return{host:"",port:null};const n=s[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const e=i[1];return{host:e,port:xr(n.substr(e.length+1))}}{const[e,t]=n.split(":");return{host:e,port:xr(t)}}}(t),o=null===a?"":`:${a}`,l={url:`${i}//${r}${o}/`},c=Object.freeze({host:r,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!n._canInitEmulator)return ii(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),void ii(cs(l,n.config.emulator)&&cs(c,n.emulatorConfig),n,"emulator-config-failed");n.config.emulator=l,n.emulatorConfig=c,n.settings.appVerificationDisabledForTesting=!0,Xt(r)?(Qt(`${i}//${r}${o}`),es("Auth",!0)):function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function yr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class vr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,t){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}async function wr(e,t){return yi(e,"POST","/v1/accounts:signUp",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function br(e,t){return vi(e,"POST","/v1/accounts:signInWithPassword",gi(e,t))}async function Nr(e,t){return async function(e,t){return yi(e,"POST","/v1/accounts:sendOobCode",gi(e,t))}(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Er extends vr{constructor(e,t,s,n=null){super("password",s),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new Er(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Er(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return fr(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",br);case"emailLink":return async function(e,t){return vi(e,"POST","/v1/accounts:signInWithEmailLink",gi(e,t))}(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return fr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wr);case"emailLink":return async function(e,t){return vi(e,"POST","/v1/accounts:signInWithEmailLink",gi(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sr(e,t){return vi(e,"POST","/v1/accounts:signInWithIdp",gi(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends vr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:s,signInMethod:n,...i}=t;if(!s||!n)return null;const r=new jr(s,n);return r.idToken=i.idToken||void 0,r.accessToken=i.accessToken||void 0,r.secret=i.secret,r.nonce=i.nonce,r.pendingToken=i.pendingToken||null,r}_getIdTokenResponse(e){return Sr(e,this.buildRequest())}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Sr(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=us(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){const t=hs(ps(e)),s=t.apiKey??null,n=t.oobCode??null,i=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);ii(s&&n&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=n,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=hs(ps(e)).link,s=t?hs(ps(t)).deep_link_id:null,n=hs(ps(e)).deep_link_id;return(n?hs(ps(n)).link:null)||n||s||t||e}(e);try{return new Tr(t)}catch{return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.providerId=_r.PROVIDER_ID}static credential(e,t){return Er._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Tr.parseLink(t);return ii(s,"argument-error"),Er._fromEmailAndCode(e,s.code,s.tenantId)}}_r.PROVIDER_ID="password",_r.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_r.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ir{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Ir{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Cr{constructor(){super("facebook.com")}static credential(e){return jr._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com",kr.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ar extends Cr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return jr._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ar.credential(t,s)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com",Ar.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Pr extends Cr{constructor(){super("github.com")}static credential(e){return jr._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com",Pr.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Or extends Cr{constructor(){super("twitter.com")}static credential(e,t){return jr._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Or.credential(t,s)}catch{return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Mr(e,t){return vi(e,"POST","/v1/accounts:signUp",gi(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or.TWITTER_SIGN_IN_METHOD="twitter.com",Or.PROVIDER_ID="twitter.com";class Dr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,n=!1){const i=await Vi._fromIdTokenResponse(e,s,n),r=Lr(s);return new Dr({user:i,providerId:r,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const n=Lr(s);return new Dr({user:e,providerId:n,_tokenResponse:s,operationType:t})}}function Lr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends as{constructor(e,t,s,n){super(t.code,t.message),this.operationType=s,this.user=n,Object.setPrototypeOf(this,Rr.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,n){return new Rr(e,t,s,n)}}function Vr(e,t,s,n){return("reauthenticate"===t?s._getReauthenticationResolver(e):s._getIdTokenResponse(e)).catch(s=>{if("auth/multi-factor-auth-required"===s.code)throw Rr._fromErrorAndOperation(e,s,t,n);throw s})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Ur(e,t,s=!1){if(An(e.app))return Promise.reject(si(e));const n="signIn",i=await Vr(e,n,t),r=await Dr._fromIdTokenResponse(e,n,i);return s||await e._updateCurrentUser(r.user),r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Fr(e){const t=ar(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Br(e,t,s){return An(e.app)?Promise.reject(si(e)):async function(e,t){return Ur(ar(e),t)}(ys(e),_r.credential(t,s)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Fr(e),t})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function zr(e,{displayName:t,photoURL:s}){if(void 0===t&&void 0===s)return;const n=ys(e),i={idToken:await n.getIdToken(),displayName:t,photoUrl:s,returnSecureToken:!0},r=await Ai(n,async function(e,t){return yi(e,"POST","/v1/accounts:update",t)}(n.auth,i));n.displayName=r.displayName||null,n.photoURL=r.photoUrl||null;const a=n.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=n.displayName,a.photoURL=n.photoURL),await n._updateTokensIfNecessary(r)}const $r="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($r,"1"),this.storage.removeItem($r),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends qr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),n=this.localCache[t];s!==n&&e(t,n,s)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,s)=>{this.notifyListeners(e,s)});const s=e.key;t?this.detachListener():this.stopPolling();const n=()=>{const e=this.storage.getItem(s);(t||this.localCache[s]!==e)&&this.notifyListeners(s,e)},i=this.storage.getItem(s);er()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,10):n()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const n of Array.from(s))n(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hr.type="LOCAL";const Wr=Hr;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends qr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Gr.type="SESSION";const Kr=Gr;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const s=new Yr(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:n,data:i}=t.data,r=this.handlersMap[n];if(!r?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:n});const a=Array.from(r).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:s,eventType:n,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Xr(e="",t=10){let s="";for(let n=0;n<t;n++)s+=Math.floor(10*Math.random());return e+s}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr.receivers=[];class Qr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const n="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let i,r;return new Promise((a,o)=>{const l=Xr("",20);n.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},s);r={messageChannel:n,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(r),n.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[n.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zr(){return void 0!==Jr().WorkerGlobalScope&&"function"==typeof Jr().importScripts}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ea="firebaseLocalStorageDb",ta="firebaseLocalStorage",sa="fbase_key";class na{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ia(e,t){return e.transaction([ta],t?"readwrite":"readonly").objectStore(ta)}function ra(){const e=indexedDB.open(ea,1);return new Promise((t,s)=>{e.addEventListener("error",()=>{s(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(ta,{keyPath:sa})}catch(n){s(n)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(ta)?t(s):(s.close(),await function(){const e=indexedDB.deleteDatabase(ea);return new na(e).toPromise()}(),t(await ra()))})})}async function aa(e,t,s){const n=ia(e,!0).put({[sa]:t,value:s});return new na(n).toPromise()}function oa(e,t){const s=ia(e,!0).delete(t);return new na(s).toPromise()}class la{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await ra()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(s){if(t++>3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yr._getInstance(Zr()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new Qr(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ra();return await aa(e,$r,"1"),await oa(e,$r),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>aa(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const s=ia(e,!1).get(t),n=await new na(s).toPromise();return void 0===n?null:n.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>oa(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=ia(e,!1).getAll();return new na(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],s=new Set;if(0!==e.length)for(const{fbase_key:n,value:i}of e)s.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(i)&&(this.notifyListeners(n,i),t.push(n));for(const n of Object.keys(this.localCache))this.localCache[n]&&!s.has(n)&&(this.notifyListeners(n,null),t.push(n));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const n of Array.from(s))n(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}la.type="LOCAL";const ca=la;new di(3e4,6e4);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class da extends vr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ua(e){return Ur(e.auth,new da(e),e.bypassAuthState)}function ha(e){const{auth:t,user:s}=e;return ii(s,t,"internal-error"),
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t,s=!1){const{auth:n}=e;if(An(n.app))return Promise.reject(si(n));const i="reauthenticate";try{const r=await Ai(e,Vr(n,i,t,e),s);ii(r.idToken,n,"internal-error");const a=Ci(r.idToken);ii(a,n,"internal-error");const{sub:o}=a;return ii(e.uid===o,n,"user-mismatch"),Dr._forOperation(e,i,r)}catch(r){throw"auth/user-not-found"===r?.code&&Zn(n,"user-mismatch"),r}}(s,new da(e),e.bypassAuthState)}async function pa(e){const{auth:t,user:s}=e;return ii(s,t,"internal-error"),async function(e,t,s=!1){const n=await Ai(e,t._linkToIdToken(e.auth,await e.getIdToken()),s);return Dr._forOperation(e,"link",n)}(s,new da(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t,s,n,i=!1){this.auth=e,this.resolver=s,this.user=n,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:n,tenantId:i,error:r,type:a}=e;if(r)return void this.reject(r);const o={auth:this.auth,requestUri:t,sessionId:s,tenantId:i||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ua;case"linkViaPopup":case"linkViaRedirect":return pa;case"reauthViaPopup":case"reauthViaRedirect":return ha;default:Zn(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new di(2e3,1e4);class ga extends ma{constructor(e,t,s,n,i){super(e,t,n,i),this.provider=s,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ii(e,this.auth,"internal-error"),e}async onExecution(){ai(1===this.filter.length,"Popup operations only handle one event");const e=Xr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,fa.get())};e()}}ga.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ya="pendingRedirect",xa=new Map;class va extends ma{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=xa.get(this.auth._key());if(!e){try{const t=await async function(e,t){const s=function(e){return $i(ya,e.config.apiKey,e.name)}(t),n=function(e){return Fi(e._redirectPersistence)}(e);if(!(await n._isAvailable()))return!1;const i="true"===await n._get(s);return await n._remove(s),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}xa.set(this.auth._key(),e)}return this.bypassAuthState||xa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function wa(e,t){xa.set(e._key(),t)}async function ba(e,t,s=!1){if(An(e.app))return Promise.reject(si(e));const n=ar(e),i=
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){return t?Fi(t):(ii(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(n,t),r=new va(n,i,s),a=await r.execute();return a&&!s&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,t)),a}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sa(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Sa(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ei(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ea(e))}saveEventToCache(e){this.cachedEventUids.add(Ea(e)),this.lastProcessedEventTime=Date.now()}}function Ea(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Sa({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===t?.code}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ja=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ta=/^https?/;async function _a(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return yi(e,"GET","/v1/projects",t)}(e);for(const s of t)try{if(Ia(s))return}catch{}Zn(e,"unauthorized-domain")}function Ia(e){const t=oi(),{protocol:s,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===n?"chrome-extension:"===s&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===s&&i.hostname===n}if(!Ta.test(s))return!1;if(ja.test(e))return n===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new di(3e4,6e4);function ka(){const e=Jr().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let s=0;s<e.CP.length;s++)e.CP[s]=null}function Aa(e){return new Promise((t,s)=>{function n(){ka(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ka(),s(ei(e,"network-request-failed"))},timeout:Ca.get()})}if(Jr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!Jr().gapi?.load){const t=`__${"iframefcb"}${Math.floor(1e6*Math.random())}`;return Jr()[t]=()=>{gapi.load?n():s(ei(e,"network-request-failed"))},cr(`${lr.gapiScript}?onload=${t}`).catch(e=>s(e))}n()}}).catch(e=>{throw Pa=null,e})}let Pa=null;
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Oa=new di(5e3,15e3),Ma={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Da=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function La(e){const t=e.config;ii(t.authDomain,e,"auth-domain-config-required");const s=t.emulator?ui(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,n={apiKey:t.apiKey,appName:e.name,v:Mn},i=Da.get(e.config.apiHost);i&&(n.eid=i);const r=e._getFrameworks();return r.length&&(n.fw=r.join(",")),`${s}?${us(n).slice(1)}`}async function Ra(e){const t=await function(e){return Pa=Pa||Aa(e),Pa}(e),s=Jr().gapi;return ii(s,e,"internal-error"),t.open({where:document.body,url:La(e),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ma,dontclear:!0},t=>new Promise(async(s,n)=>{await t.restyle({setHideOnLeave:!1});const i=ei(e,"network-request-failed"),r=Jr().setTimeout(()=>{n(i)},Oa.get());function a(){Jr().clearTimeout(r),s(t)}t.ping(a).then(a,()=>{n(i)})}))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ua{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Fa(e,t,s,n=500,i=600){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...Va,width:n.toString(),height:i.toString(),top:r,left:a},c=ts().toLowerCase();s&&(o=Ki(c)?"_blank":s),Wi(c)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,[t,s])=>`${e}${t}=${s},`,"");if(function(e=ts()){return Zi(e)&&!!window.navigator?.standalone}(c)&&"_self"!==o)return function(e,t){const s=document.createElement("a");s.href=e,s.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(n)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",o),new Ua(null);const u=window.open(t||"",o,d);ii(u,e,"popup-blocked");try{u.focus()}catch(h){}return new Ua(u)}const Ba="__/auth/handler",za="emulator/auth/handler",$a=encodeURIComponent("fac");async function qa(e,t,s,n,i,r){ii(e.config.authDomain,e,"auth-domain-config-required"),ii(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:s,redirectUrl:n,v:Mn,eventId:i};if(t instanceof Ir){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries({}))a[e]=t}if(t instanceof Cr){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const d of Object.keys(o))void 0===o[d]&&delete o[d];const l=await e._getAppCheckToken(),c=l?`#${$a}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${Ba}`;return ui(e,za)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${us(o).slice(1)}${c}`}const Ha="webStorageSupport";const Wa=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kr,this._completeRedirectFn=ba,this._overrideRedirectResult=wa}async _openPopup(e,t,s,n){ai(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");return Fa(e,await qa(e,t,s,oi(),n),Xr())}async _openRedirect(e,t,s,n){await this._originValidation(e);return function(e){Jr().location.href=e}(await qa(e,t,s,oi(),n)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:s}=this.eventManagers[t];return e?Promise.resolve(e):(ai(s,"If manager is not set, promise should be"),s)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await Ra(e),s=new Na(e);return t.register("authEvent",t=>{ii(t?.authEvent,e,"invalid-auth-event");return{status:s.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ha,{type:Ha},s=>{const n=s?.[0]?.[Ha];void 0!==n&&t(!!n),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_a(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tr()||Gi()||Zi()}};var Ga="@firebase/auth",Ka="1.11.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ya{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ii(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Xa=Kt("authIdTokenMaxAge")||300;let Qa=null;var Ja;lr={loadJS:e=>new Promise((t,s)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=e=>{const t=ei("internal-error");t.customData=e,s(t)},n.type="text/javascript",n.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(n)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ja="Browser",Cn(new xs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:r,authDomain:a}=s.options;ii(r&&!r.includes(":"),"invalid-api-key",{appName:s.name});const o={apiKey:r,authDomain:a,clientPlatform:Ja,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sr(Ja)},l=new rr(s,n,i,o);return function(e,t){const s=t?.persistence||[],n=(Array.isArray(s)?s:[s]).map(Fi);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Cn(new xs("auth-internal",e=>{const t=ar(e.getProvider("auth").getImmediate());return new Ya(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rn(Ga,Ka,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ja)),Rn(Ga,Ka,"esm2020");var Za,eo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function s(e,t,s){s||(s=0);var n=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)n[i]=t.charCodeAt(s++)|t.charCodeAt(s++)<<8|t.charCodeAt(s++)<<16|t.charCodeAt(s++)<<24;else for(i=0;16>i;++i)n[i]=t[s++]|t[s++]<<8|t[s++]<<16|t[s++]<<24;t=e.g[0],s=e.g[1],i=e.g[2];var r=e.g[3],a=t+(r^s&(i^r))+n[0]+3614090360&4294967295;a=(s=(i=(r=(t=(s=(i=(r=(t=(s=(i=(r=(t=(s=(i=(r=(t=(s=(i=(r=(t=(s=(i=(r=(t=(s=(i=(r=(t=(s=(i=(r=(t=(s=(i=(r=(t=(s=(i=(r=(t=(s=(i=(r=(t=(s=(i=(r=(t=(s=(i=(r=(t=(s=(i=(r=(t=(s=(i=(r=(t=s+(a<<7&4294967295|a>>>25))+((a=r+(i^t&(s^i))+n[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(s^r&(t^s))+n[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=s+(t^i&(r^t))+n[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^s&(i^r))+n[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=r+(i^t&(s^i))+n[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(s^r&(t^s))+n[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=s+(t^i&(r^t))+n[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^s&(i^r))+n[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=r+(i^t&(s^i))+n[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(s^r&(t^s))+n[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=s+(t^i&(r^t))+n[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^s&(i^r))+n[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=r+(i^t&(s^i))+n[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(s^r&(t^s))+n[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=s+(t^i&(r^t))+n[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^r&(s^i))+n[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=r+(s^i&(t^s))+n[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^s&(r^t))+n[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=s+(r^t&(i^r))+n[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^r&(s^i))+n[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=r+(s^i&(t^s))+n[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^s&(r^t))+n[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=s+(r^t&(i^r))+n[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^r&(s^i))+n[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=r+(s^i&(t^s))+n[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^s&(r^t))+n[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=s+(r^t&(i^r))+n[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^r&(s^i))+n[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=r+(s^i&(t^s))+n[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^s&(r^t))+n[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=s+(r^t&(i^r))+n[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i^r)+n[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=r+(t^s^i)+n[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(r^t^s)+n[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=s+(i^r^t)+n[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^i^r)+n[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=r+(t^s^i)+n[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(r^t^s)+n[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=s+(i^r^t)+n[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^i^r)+n[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=r+(t^s^i)+n[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(r^t^s)+n[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=s+(i^r^t)+n[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^i^r)+n[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=r+(t^s^i)+n[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(r^t^s)+n[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=s+(i^r^t)+n[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(s|~r))+n[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=r+(s^(t|~i))+n[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(r|~s))+n[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=s+(r^(i|~t))+n[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(s|~r))+n[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=r+(s^(t|~i))+n[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(r|~s))+n[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=s+(r^(i|~t))+n[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(s|~r))+n[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=r+(s^(t|~i))+n[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(r|~s))+n[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=s+(r^(i|~t))+n[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((r=(t=s+((a=t+(i^(s|~r))+n[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=r+(s^(t|~i))+n[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=r+((a=i+(t^(r|~s))+n[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+n[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+r&4294967295}function n(e,t){this.h=t;for(var s=[],n=!0,i=e.length-1;0<=i;i--){var r=0|e[i];n&&r==t||(s[i]=r,n=!1)}this.g=s}!function(e,t){function s(){}s.prototype=t.prototype,e.D=t.prototype,e.prototype=new s,e.prototype.constructor=e,e.C=function(e,s,n){for(var i=Array(arguments.length-2),r=2;r<arguments.length;r++)i[r-2]=arguments[r];return t.prototype[s].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=this.B,r=this.h,a=0;a<t;){if(0==r)for(;a<=n;)s(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(i[r++]=e.charCodeAt(a++),r==this.blockSize){s(this,i),r=0;break}}else for(;a<t;)if(i[r++]=e[a++],r==this.blockSize){s(this,i),r=0;break}}this.h=r,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var s=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&s,s/=256;for(this.u(e),e=Array(16),t=s=0;4>t;++t)for(var n=0;32>n;n+=8)e[s++]=this.g[t]>>>n&255;return e};var i={};function r(e){return-128<=e&&128>e?function(e,t){var s=i;return Object.prototype.hasOwnProperty.call(s,e)?s[e]:s[e]=t(e)}(e,function(e){return new n([0|e],0>e?-1:0)}):new n([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],s=1,i=0;e>=s;i++)t[i]=e/s|0,s*=4294967296;return new n(t,0)}var o=r(0),l=r(1),c=r(16777216);function d(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function u(e){return-1==e.h}function h(e){for(var t=e.g.length,s=[],i=0;i<t;i++)s[i]=~e.g[i];return new n(s,~e.h).add(l)}function p(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function f(e,t){this.g=e,this.h=t}function g(e,t){if(d(t))throw Error("division by zero");if(d(e))return new f(o,o);if(u(e))return t=g(h(e),t),new f(h(t.g),h(t.h));if(u(t))return t=g(e,h(t)),new f(h(t.g),t.h);if(30<e.g.length){if(u(e)||u(t))throw Error("slowDivide_ only works with positive integers.");for(var s=l,n=t;0>=n.l(e);)s=y(s),n=y(n);var i=x(s,1),r=x(n,1);for(n=x(n,2),s=x(s,2);!d(n);){var c=r.add(n);0>=c.l(e)&&(i=i.add(s),r=c),n=x(n,1),s=x(s,1)}return t=p(e,i.j(t)),new f(i,t)}for(i=o;0<=e.l(t);){for(s=Math.max(1,Math.floor(e.m()/t.m())),n=48>=(n=Math.ceil(Math.log(s)/Math.LN2))?1:Math.pow(2,n-48),c=(r=a(s)).j(t);u(c)||0<c.l(e);)c=(r=a(s-=n)).j(t);d(r)&&(r=l),i=i.add(r),e=p(e,c)}return new f(i,e)}function y(e){for(var t=e.g.length+1,s=[],i=0;i<t;i++)s[i]=e.i(i)<<1|e.i(i-1)>>>31;return new n(s,e.h)}function x(e,t){var s=t>>5;t%=32;for(var i=e.g.length-s,r=[],a=0;a<i;a++)r[a]=0<t?e.i(a+s)>>>t|e.i(a+s+1)<<32-t:e.i(a+s);return new n(r,e.h)}(e=n.prototype).m=function(){if(u(this))return-h(this).m();for(var e=0,t=1,s=0;s<this.g.length;s++){var n=this.i(s);e+=(0<=n?n:4294967296+n)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(d(this))return"0";if(u(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),s=this,n="";;){var i=g(s,t).g,r=((0<(s=p(s,i.j(t))).g.length?s.g[0]:s.h)>>>0).toString(e);if(d(s=i))return r+n;for(;6>r.length;)r="0"+r;n=r+n}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return u(e=p(this,e))?-1:d(e)?0:1},e.abs=function(){return u(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),s=[],i=0,r=0;r<=t;r++){var a=i+(65535&this.i(r))+(65535&e.i(r)),o=(a>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=o>>>16,a&=65535,o&=65535,s[r]=o<<16|a}return new n(s,-2147483648&s[s.length-1]?-1:0)},e.j=function(e){if(d(this)||d(e))return o;if(u(this))return u(e)?h(this).j(h(e)):h(h(this).j(e));if(u(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,s=[],i=0;i<2*t;i++)s[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<e.g.length;r++){var l=this.i(i)>>>16,p=65535&this.i(i),f=e.i(r)>>>16,g=65535&e.i(r);s[2*i+2*r]+=p*g,m(s,2*i+2*r),s[2*i+2*r+1]+=l*g,m(s,2*i+2*r+1),s[2*i+2*r+1]+=p*f,m(s,2*i+2*r+1),s[2*i+2*r+2]+=l*f,m(s,2*i+2*r+2)}for(i=0;i<t;i++)s[i]=s[2*i+1]<<16|s[2*i];for(i=t;i<2*t;i++)s[i]=0;return new n(s,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),s=[],i=0;i<t;i++)s[i]=this.i(i)&e.i(i);return new n(s,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),s=[],i=0;i<t;i++)s[i]=this.i(i)|e.i(i);return new n(s,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),s=[],i=0;i<t;i++)s[i]=this.i(i)^e.i(i);return new n(s,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,n.prototype.add=n.prototype.add,n.prototype.multiply=n.prototype.j,n.prototype.modulo=n.prototype.A,n.prototype.compare=n.prototype.l,n.prototype.toNumber=n.prototype.m,n.prototype.toString=n.prototype.toString,n.prototype.getBits=n.prototype.i,n.fromNumber=a,n.fromString=function e(t,s){if(0==t.length)throw Error("number format error: empty string");if(2>(s=s||10)||36<s)throw Error("radix out of range: "+s);if("-"==t.charAt(0))return h(e(t.substring(1),s));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=a(Math.pow(s,8)),i=o,r=0;r<t.length;r+=8){var l=Math.min(8,t.length-r),c=parseInt(t.substring(r,r+l),s);8>l?(l=a(Math.pow(s,l)),i=i.j(l).add(a(c))):i=(i=i.j(n)).add(a(c))}return i},Za=n}).apply(void 0!==eo?eo:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var to,so,no,io,ro,ao,oo,lo,co="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,s){return e==Array.prototype||e==Object.prototype||(e[t]=s.value),e};var s=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof co&&co];for(var t=0;t<e.length;++t){var s=e[t];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")}(this);!function(e,n){if(n)e:{var i=s;e=e.split(".");for(var r=0;r<e.length-1;r++){var a=e[r];if(!(a in i))break e;i=i[a]}(n=n(r=i[e=e[e.length-1]]))!=r&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var s=0,n=!1,i={next:function(){if(!n&&s<e.length){var i=s++;return{value:t(i,e[i]),done:!1}}return n=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var n=n||{},i=this||self;function r(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,s){return e.call.apply(e.bind,arguments)}function l(e,t,s){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,n),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function c(e,t,s){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function d(e,t){var s=Array.prototype.slice.call(arguments,1);return function(){var t=s.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function s(){}s.prototype=t.prototype,e.aa=t.prototype,e.prototype=new s,e.prototype.constructor=e,e.Qb=function(e,s,n){for(var i=Array(arguments.length-2),r=2;r<arguments.length;r++)i[r-2]=arguments[r];return t.prototype[s].apply(e,i)}}function h(e){const t=e.length;if(0<t){const s=Array(t);for(let n=0;n<t;n++)s[n]=e[n];return s}return[]}function p(e,t){for(let s=1;s<arguments.length;s++){const t=arguments[s];if(r(t)){const s=e.length||0,n=t.length||0;e.length=s+n;for(let i=0;i<n;i++)e[s+i]=t[i]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function f(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=!(-1==f().indexOf("Gecko")||-1!=f().toLowerCase().indexOf("webkit")&&-1==f().indexOf("Edge")||-1!=f().indexOf("Trident")||-1!=f().indexOf("MSIE")||-1!=f().indexOf("Edge"));function x(e,t,s){for(const n in e)t.call(s,e[n],n,e)}function v(e){const t={};for(const s in e)t[s]=e[s];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(e,t){let s,n;for(let i=1;i<arguments.length;i++){for(s in n=arguments[i],n)e[s]=n[s];for(let t=0;t<w.length;t++)s=w[t],Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}}function N(e){var t=1;e=e.split(":");const s=[];for(;0<t&&e.length;)s.push(e.shift()),t--;return e.length&&s.push(e.join(":")),s}function E(e){i.setTimeout(()=>{throw e},0)}function S(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var j=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,e=>e.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let _,I=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const s=j.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},k=()=>{const e=i.Promise.resolve(void 0);_=()=>{e.then(A)}};var A=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(s){E(s)}var t=j;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function P(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(s){}return e}();function D(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var s=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(r){}i=!1}i||(t=null)}}else"mouseover"==s?t=e.fromElement:"mouseout"==s&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}u(D,O);var L={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var R="closure_listenable_"+(1e6*Math.random()|0),V=0;function U(e,t,s,n,i){this.listener=e,this.proxy=null,this.src=t,this.type=s,this.capture=!!n,this.ha=i,this.key=++V,this.da=this.fa=!1}function F(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function z(e,t){var s=t.type;if(s in e.g){var n,i=e.g[s],r=Array.prototype.indexOf.call(i,t,void 0);(n=0<=r)&&Array.prototype.splice.call(i,r,1),n&&(F(t),0==e.g[s].length&&(delete e.g[s],e.h--))}}function $(e,t,s,n){for(var i=0;i<e.length;++i){var r=e[i];if(!r.da&&r.listener==t&&r.capture==!!s&&r.ha==n)return i}return-1}B.prototype.add=function(e,t,s,n,i){var r=e.toString();(e=this.g[r])||(e=this.g[r]=[],this.h++);var a=$(e,t,n,i);return-1<a?(t=e[a],s||(t.fa=!1)):((t=new U(t,this.src,r,!!n,i)).fa=s,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,s,n,i){if(Array.isArray(t)){for(var r=0;r<t.length;r++)W(e,t[r],s,n,i);return null}return s=Z(s),e&&e[R]?e.K(t,s,!!a(n)&&!!n.capture,i):function(e,t,s,n,i,r){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Q(e);if(l||(e[q]=l=new B(e)),s=l.add(t,s,n,o,r),s.proxy)return s;if(n=function(){function e(s){return t.call(e.src,e.listener,s)}const t=X;return e}(),s.proxy=n,n.src=e,n.listener=s,e.addEventListener)M||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),n,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),n);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(n)}return s}(e,t,s,!1,n,i)}function G(e,t,s,n,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)G(e,t[r],s,n,i);else n=a(n)?!!n.capture:!!n,s=Z(s),e&&e[R]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(s=$(r=e.g[t],s,n,i))&&(F(r[s]),Array.prototype.splice.call(r,s,1),0==r.length&&(delete e.g[t],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,s,n,i)),(s=-1<e?t[e]:null)&&K(s))}function K(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[R])z(t.i,e);else{var s=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(s,n,e.capture):t.detachEvent?t.detachEvent(Y(s),n):t.addListener&&t.removeListener&&t.removeListener(n),(s=Q(t))?(z(s,e),0==s.h&&(s.src=null,t[q]=null)):F(e)}}}function Y(e){return e in H?H[e]:H[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new D(t,this);var s=e.listener,n=e.ha||e.src;e.fa&&K(e),e=s.call(n,t)}return e}function Q(e){return(e=e[q])instanceof B?e:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(e){return"function"==typeof e?e:(e[J]||(e[J]=function(t){return e.handleEvent(t)}),e[J])}function ee(){P.call(this),this.i=new B(this),this.M=this,this.F=null}function te(e,t){var s,n=e.F;if(n)for(s=[];n;n=n.F)s.push(n);if(e=e.M,n=t.type||t,"string"==typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;b(t=new O(n,e),i)}if(i=!0,s)for(var r=s.length-1;0<=r;r--){var a=t.g=s[r];i=se(a,n,!0,t)&&i}if(i=se(a=t.g=e,n,!0,t)&&i,i=se(a,n,!1,t)&&i,s)for(r=0;r<s.length;r++)i=se(a=t.g=s[r],n,!1,t)&&i}function se(e,t,s,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,r=0;r<t.length;++r){var a=t[r];if(a&&!a.da&&a.capture==s){var o=a.listener,l=a.ha||a.src;a.fa&&z(e.i,a),i=!1!==o.call(l,n)&&i}}return i&&!n.defaultPrevented}function ne(e,t,s){if("function"==typeof e)s&&(e=c(e,s));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ie(e){e.g=ne(()=>{e.g=null,e.i&&(e.i=!1,ie(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(ee,P),ee.prototype[R]=!0,ee.prototype.removeEventListener=function(e,t,s,n){G(this,e,t,s,n)},ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var s=t.g[e],n=0;n<s.length;n++)F(s[n]);delete t.g[e],t.h--}}this.F=null},ee.prototype.K=function(e,t,s,n){return this.i.add(String(e),t,!1,s,n)},ee.prototype.L=function(e,t,s,n){return this.i.add(String(e),t,!0,s,n)};class re extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(e){P.call(this),this.h=e,this.g={}}u(ae,P);var oe=[];function le(e){x(e.g,function(e,t){this.g.hasOwnProperty(t)&&K(e)},e),e.g={}}ae.prototype.N=function(){ae.aa.N.call(this),le(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ce=i.JSON.stringify,de=i.JSON.parse,ue=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function he(){}function pe(e){return e.h||(e.h=e.i())}function me(){}he.prototype.h=null;var fe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ge(){O.call(this,"d")}function ye(){O.call(this,"c")}u(ge,O),u(ye,O);var xe={},ve=null;function we(){return ve=ve||new ee}function be(e){O.call(this,xe.La,e)}function Ne(e){const t=we();te(t,new be(t))}function Ee(e,t){O.call(this,xe.STAT_EVENT,e),this.stat=t}function Se(e){const t=we();te(t,new Ee(t,e))}function je(e,t){O.call(this,xe.Ma,e),this.size=t}function Te(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function _e(){this.g=!0}function Ie(e,t,s,n){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var r=i[0];if("noop"!=r&&"stop"!=r&&"close"!=r)for(var a=1;a<i.length;a++)i[a]=""}}}return ce(s)}catch(o){return t}}(e,s)+(n?" "+n:"")})}xe.La="serverreachability",u(be,O),xe.STAT_EVENT="statevent",u(Ee,O),xe.Ma="timingevent",u(je,O),_e.prototype.xa=function(){this.g=!1},_e.prototype.info=function(){};var Ce,ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function Oe(e,t,s,n){this.j=e,this.i=t,this.l=s,this.R=n||1,this.U=new ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}u(Pe,he),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},Ce=new Pe;var De={},Le={};function Re(e,t,s){e.L=1,e.v=ct(it(t)),e.m=s,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),Be(e),e.A=it(e.v);var s=e.A,n=e.R;Array.isArray(n)||(n=[String(n)]),Nt(s.i,"t",n),e.C=0,s=e.j.J,e.h=new Me,e.g=cs(e.j,s?t:null,!e.m),0<e.O&&(e.M=new re(c(e.Y,e,e.g),e.O)),t=e.U,s=e.g,n=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(oe[0]=i.toString()),i=oe);for(var r=0;r<i.length;r++){var a=W(s,i[r],n||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?v(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ne(),function(e,t,s,n,i,r){e.info(function(){if(e.g)if(r)for(var a="",o=r.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var d=c[0];c=c[1];var u=d.split("_");a=2<=u.length&&"type"==u[1]?a+(d+"=")+c+"&":a+(d+"=redacted&")}}else a=null;else a=r;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+t+"\n"+s+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Fe(e,t){var s=e.C,n=t.indexOf("\n",s);return-1==n?Le:(s=Number(t.substring(s,n)),isNaN(s)?De:(n+=1)+s>t.length?Le:(t=t.slice(n,n+s),e.C=n+s,t))}function Be(e){e.S=Date.now()+e.I,ze(e,e.I)}function ze(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function $e(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||is(e.j,e)}function He(e){$e(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,le(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function We(e,t){try{var s=e.j;if(0!=s.G&&(s.g==e||Qe(s.h,e)))if(!e.K&&Qe(s.h,e)&&3==s.G){try{var n=s.Da.g.parse(t)}catch(d){n=null}if(Array.isArray(n)&&3==n.length){var i=n;if(0==i[0]){e:if(!s.u){if(s.g){if(!(s.g.F+3e3<e.F))break e;ns(s),Gt(s)}es(s),Se(18)}}else s.za=i[1],0<s.za-s.T&&37500>i[2]&&s.F&&0==s.v&&!s.C&&(s.C=Te(c(s.Za,s),6e3));if(1>=Xe(s.h)&&s.ca){try{s.ca()}catch(d){}s.ca=void 0}}else as(s,11)}else if((e.K||s.g==e)&&ns(s),!m(t))for(i=s.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(s.T=c[0],c=c[1],2==s.G)if("c"==c[0]){s.K=c[1],s.ia=c[2];const t=c[3];null!=t&&(s.la=t,s.j.info("VER="+s.la));const i=c[4];null!=i&&(s.Aa=i,s.j.info("SVER="+s.Aa));const d=c[5];null!=d&&"number"==typeof d&&0<d&&(n=1.5*d,s.L=n,s.j.info("backChannelRequestTimeoutMs_="+n)),n=s;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var r=n.h;r.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(r.j=r.l,r.g=new Set,r.h&&(Je(r,r.h),r.h=null))}if(n.D){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.ya=e,lt(n.I,n.D,e))}}s.G=3,s.l&&s.l.ua(),s.ba&&(s.R=Date.now()-e.F,s.j.info("Handshake RTT: "+s.R+"ms"));var a=e;if((n=s).qa=ls(n,n.J?n.ia:null,n.W),a.K){Ze(n.h,a);var o=a,l=n.L;l&&(o.I=l),o.B&&($e(o),Be(o)),n.g=a}else Zt(n);0<s.i.length&&Yt(s)}else"stop"!=c[0]&&"close"!=c[0]||as(s,7);else 3==s.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?as(s,7):Wt(s):"noop"!=c[0]&&s.l&&s.l.ta(c),s.v=0)}Ne()}catch(d){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==zt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=zt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||$t(this.g)))){this.J||4!=h||7==t||Ne(),$e(this);var s=this.g.Z();this.X=s;t:if(Ue(this)){var n=$t(this.g);e="";var r=n.length,a=4==zt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){He(this),qe(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(n[t],{stream:!(a&&t==r-1)});n.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==s,function(e,t,s,n,i,r,a){e.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+t+"\n"+s+"\n"+r+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,s),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var d=l;break t}}d=null}if(!(s=d)){this.o=!1,this.s=3,Se(12),He(this),qe(this);break e}Ie(this.i,this.l,s,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,We(this,s)}if(this.P){let e;for(s=!0;!this.J&&this.C<o.length;){if(e=Fe(this,o),e==Le){4==h&&(this.s=4,Se(14),s=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==De){this.s=4,Se(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),s=!1;break}Ie(this.i,this.l,e,null),We(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Se(16),s=!1),this.o=this.o&&s,s){if(0<o.length&&!this.W){this.W=!0;var u=this.j;u.g==this&&u.ba&&!u.M&&(u.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),ts(u),u.M=!0,Se(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),He(this),qe(this)}else Ie(this.i,this.l,o,null),We(this,o);4==h&&He(this),this.o&&!this.J&&(4==h?is(this.j,this):(this.o=!1,Be(this)))}else(function(e){const t={};e=(e.g&&2<=zt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<e.length;n++){if(m(e[n]))continue;var s=N(e[n]);const i=s[0];if("string"!=typeof(s=s[1]))continue;s=s.trim();const r=t[i]||[];t[i]=r,r.push(s)}!function(e,t){for(const s in e)t.call(void 0,e[s],s,e)}(t,function(e){return e.join(", ")})})(this.g),400==s&&0<o.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),He(this),qe(this)}}}catch(h){}},Oe.prototype.cancel=function(){this.J=!0,He(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ne(),Se(17)),He(this),this.s=2,qe(this)):ze(this,this.S-e)};var Ge=class{constructor(e,t){this.g=e,this.map=t}};function Ke(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Je(e,t){e.g?e.g.add(t):e.h=t}function Ze(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function et(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const s of e.g.values())t=t.concat(s.D);return t}return h(e.i)}function tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(r(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var s=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(r(e)||"string"==typeof e){var t=[];e=e.length;for(var s=0;s<e;s++)t.push(s);return t}t=[],s=0;for(const n in e)t[s++]=n;return t}}}(e),n=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(r(e)){for(var t=[],s=e.length,n=0;n<s;n++)t.push(e[n]);return t}for(n in t=[],s=0,e)t[s++]=e[n];return t}(e),i=n.length,a=0;a<i;a++)t.call(void 0,n[a],s&&s[a],e)}Ke.prototype.cancel=function(){if(this.i=et(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof nt){this.h=e.h,rt(this,e.j),this.o=e.o,this.g=e.g,at(this,e.s),this.l=e.l;var t=e.i,s=new xt;s.i=t.i,t.g&&(s.g=new Map(t.g),s.h=t.h),ot(this,s),this.m=e.m}else e&&(t=String(e).match(st))?(this.h=!1,rt(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),at(this,t[4]),this.l=dt(t[5]||"",!0),ot(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function it(e){return new nt(e)}function rt(e,t,s){e.j=s?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function at(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ot(e,t,s){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(vt(e),e.i=null,e.g.forEach(function(e,t){var s=t.toLowerCase();t!=s&&(wt(this,t),Nt(this,s,e))},e)),e.j=t}(e.i,e.h)):(s||(t=ut(t,gt)),e.i=new xt(t,e.h))}function lt(e,t,s){e.i.set(t,s)}function ct(e){return lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ut(e,t,s){return"string"==typeof e?(e=encodeURI(e).replace(t,ht),s&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}nt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ut(t,pt,!0),":");var s=this.g;return(s||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ut(t,pt,!0),"@"),e.push(encodeURIComponent(String(s)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(s=this.s)&&e.push(":",String(s))),(s=this.l)&&(this.g&&"/"!=s.charAt(0)&&e.push("/"),e.push(ut(s,"/"==s.charAt(0)?ft:mt,!0))),(s=this.i.toString())&&e.push("?",s),(s=this.m)&&e.push("#",ut(s,yt)),e.join("")};var pt=/[#\/\?@]/g,mt=/[#\?:]/g,ft=/[#\?]/g,gt=/[#\?@]/g,yt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function vt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var s=0;s<e.length;s++){var n=e[s].indexOf("="),i=null;if(0<=n){var r=e[s].substring(0,n);i=e[s].substring(n+1)}else r=e[s];t(r,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,s){e.add(decodeURIComponent(t.replace(/\+/g," ")),s)}))}function wt(e,t){vt(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function bt(e,t){return vt(e),t=Et(e,t),e.g.has(t)}function Nt(e,t,s){wt(e,t),0<s.length&&(e.i=null,e.g.set(Et(e,t),h(s)),e.h+=s.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,s,n,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),n(s)}catch(r){}}function jt(){this.g=new ue}function Tt(e,t,s){const n=s||"";try{tt(e,function(e,s){let i=e;a(e)&&(i=ce(e)),t.push(n+s+"="+encodeURIComponent(i))})}catch(i){throw t.push(n+"type="+encodeURIComponent("_badmap")),i}}function _t(e){this.l=e.Ub||null,this.j=e.eb||!1}function It(e,t){ee.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ct(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function kt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,At(e)}function At(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Pt(e){let t="";return x(e,function(e,s){t+=s,t+=":",t+=e,t+="\r\n"}),t}function Ot(e,t,s){e:{for(n in s){var n=!1;break e}n=!0}n||(s=Pt(s),"string"==typeof e?null!=s&&encodeURIComponent(String(s)):lt(e,t,s))}function Mt(e){ee.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){vt(this),this.i=null,e=Et(this,e);var s=this.g.get(e);return s||this.g.set(e,s=[]),s.push(t),this.h+=1,this},e.forEach=function(e,t){vt(this),this.g.forEach(function(s,n){s.forEach(function(s){e.call(t,s,n,this)},this)},this)},e.na=function(){vt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),s=[];for(let n=0;n<t.length;n++){const i=e[n];for(let e=0;e<i.length;e++)s.push(t[n])}return s},e.V=function(e){vt(this);let t=[];if("string"==typeof e)bt(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let s=0;s<e.length;s++)t=t.concat(e[s])}return t},e.set=function(e,t){return vt(this),this.i=null,bt(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var s=0;s<t.length;s++){var n=t[s];const r=encodeURIComponent(String(n)),a=this.V(n);for(n=0;n<a.length;n++){var i=r;""!==a[n]&&(i+="="+encodeURIComponent(String(a[n]))),e.push(i)}}return this.i=e.join("&")},u(_t,he),_t.prototype.g=function(){return new It(this.l,this.j)},_t.prototype.i=function(e){return function(){return e}}({}),u(It,ee),(e=It.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,At(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,At(this)),this.g&&(this.readyState=3,At(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ct(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?kt(this):At(this),3==this.readyState&&Ct(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,kt(this))},e.Qa=function(e){this.g&&(this.response=e,kt(this))},e.ga=function(){this.g&&kt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var s=t.next();!s.done;)s=s.value,e.push(s[0]+": "+s[1]),s=t.next();return e.join("\r\n")},Object.defineProperty(It.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Mt,ee);var Dt=/^https?$/i,Lt=["POST","PUT"];function Rt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),Ft(e)}function Vt(e){e.A||(e.A=!0,te(e,"complete"),te(e,"error"))}function Ut(e){if(e.h&&void 0!==n&&(!e.v[1]||4!=zt(e)||2!=e.Z()))if(e.u&&4==zt(e))ne(e.Ea,0,e);else if(te(e,"readystatechange"),4==zt(e)){e.h=!1;try{const n=e.Z();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var s;if(!(s=t)){var r;if(r=0===n){var a=String(e.D).match(st)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),r=!Dt.test(a?a.toLowerCase():"")}s=r}if(s)te(e,"complete"),te(e,"success");else{e.m=6;try{var o=2<zt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Vt(e)}}finally{Ft(e)}}}function Ft(e,t){if(e.g){Bt(e);const n=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||te(e,"ready");try{n.onreadystatechange=i}catch(s){}}}function Bt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function zt(e){return e.g?e.g.readyState:0}function $t(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function qt(e,t,s){return s&&s.internalChannelParams&&s.internalChannelParams[e]||t}function Ht(e){this.Aa=0,this.i=[],this.j=new _e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qt("baseRetryDelayMs",5e3,e),this.cb=qt("retryDelaySeedMs",1e4,e),this.Wa=qt("forwardChannelMaxRetries",2,e),this.wa=qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ke(e&&e.concurrentRequestLimit),this.Da=new jt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Wt(e){if(Kt(e),3==e.G){var t=e.U++,s=it(e.I);if(lt(s,"SID",e.K),lt(s,"RID",t),lt(s,"TYPE","terminate"),Qt(e,s),(t=new Oe(e,e.j,t)).L=2,t.v=ct(it(s)),s=!1,i.navigator&&i.navigator.sendBeacon)try{s=i.navigator.sendBeacon(t.v.toString(),"")}catch(n){}!s&&i.Image&&((new Image).src=t.v,s=!0),s||(t.g=cs(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Be(t)}os(e)}function Gt(e){e.g&&(ts(e),e.g.cancel(),e.g=null)}function Kt(e){Gt(e),e.u&&(i.clearTimeout(e.u),e.u=null),ns(e),e.h.cancel(),e.s&&("number"==typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Yt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;_||k(),I||(_(),I=!0),C.add(t,e),e.B=0}}function Xt(e,t){var s;s=t?t.l:e.U++;const n=it(e.I);lt(n,"SID",e.K),lt(n,"RID",s),lt(n,"AID",e.T),Qt(e,n),e.m&&e.o&&Ot(n,e.m,e.o),s=new Oe(e,e.j,s,e.B+1),null===e.m&&(s.H=e.o),t&&(e.i=t.D.concat(e.i)),t=Jt(e,s,1e3),s.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Je(e.h,s),Re(s,n,t)}function Qt(e,t){e.H&&x(e.H,function(e,s){lt(t,s,e)}),e.l&&tt({},function(e,s){lt(t,s,e)})}function Jt(e,t,s){s=Math.min(e.i.length,s);var n=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+s];-1==t?0<s?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<s;o++){let s=i[o].g;const l=i[o].map;if(s-=t,0>s)t=Math.max(0,i[o].g-100),a=!1;else try{Tt(l,e,"req"+s+"_")}catch(r){n&&n(l)}}if(a){n=e.join("&");break e}}}return e=e.i.splice(0,s),t.D=e,n}function Zt(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;_||k(),I||(_(),I=!0),C.add(t,e),e.v=0}}function es(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),rs(e,e.v)),e.v++,!0)}function ts(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function ss(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=it(e.qa);lt(t,"RID","rpc"),lt(t,"SID",e.K),lt(t,"AID",e.T),lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&lt(t,"TO",e.ja),lt(t,"TYPE","xmlhttp"),Qt(e,t),e.m&&e.o&&Ot(t,e.m,e.o),e.L&&(e.g.I=e.L);var s=e.g;e=e.ia,s.L=1,s.v=ct(it(t)),s.m=null,s.P=!0,Ve(s,e)}function ns(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function is(e,t){var s=null;if(e.g==t){ns(e),ts(e),e.g=null;var n=2}else{if(!Qe(e.h,t))return;s=t.D,Ze(e.h,t),n=1}if(0!=e.G)if(t.o)if(1==n){s=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;te(n=we(),new je(n,s)),Yt(e)}else Zt(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==n&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Te(c(e.Ga,e,t),rs(e,e.B)),e.B++,0)))}(e,t)||2==n&&es(e)))switch(s&&0<s.length&&(t=e.h,t.i=t.i.concat(s)),i){case 1:as(e,5);break;case 4:as(e,10);break;case 3:as(e,6);break;default:as(e,2)}}function rs(e,t){let s=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(s*=2),s*t}function as(e,t){if(e.j.info("Error code "+t),2==t){var s=c(e.fb,e),n=e.Xa;const t=!n;n=new nt(n||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||rt(n,"https"),ct(n),t?function(e,t){const s=new _e;if(i.Image){const n=new Image;n.onload=d(St,s,"TestLoadImage: loaded",!0,t,n),n.onerror=d(St,s,"TestLoadImage: error",!1,t,n),n.onabort=d(St,s,"TestLoadImage: abort",!1,t,n),n.ontimeout=d(St,s,"TestLoadImage: timeout",!1,t,n),i.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=e}else t(!1)}(n.toString(),s):function(e,t){new _e;const s=new AbortController,n=setTimeout(()=>{s.abort(),St(0,0,!1,t)},1e4);fetch(e,{signal:s.signal}).then(e=>{clearTimeout(n),e.ok?St(0,0,!0,t):St(0,0,!1,t)}).catch(()=>{clearTimeout(n),St(0,0,!1,t)})}(n.toString(),s)}else Se(2);e.G=0,e.l&&e.l.sa(t),os(e),Kt(e)}function os(e){if(e.G=0,e.ka=[],e.l){const t=et(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function ls(e,t,s){var n=s instanceof nt?it(s):new nt(s);if(""!=n.g)t&&(n.g=t+"."+n.g),at(n,n.s);else{var r=i.location;n=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var a=new nt(null);n&&rt(a,n),t&&(a.g=t),r&&at(a,r),s&&(a.l=s),n=a}return s=e.D,t=e.ya,s&&t&&lt(n,s,t),lt(n,"VER",e.la),Qt(e,n),n}function cs(e,t,s){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new _t({eb:s})):new Mt(e.pa)).Ha(e.J),t}function ds(){}function us(){}function hs(e,t){ee.call(this),this.g=new Ht(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new fs(this)}function ps(e){ge.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const s in t){e=s;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ms(){ye.call(this),this.status=1}function fs(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,s,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ce.g(),this.v=this.o?pe(this.o):pe(Ce),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Rt(this,a)}if(e=s||"",s=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var r in n)s.set(r,n[r]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const e of n.keys())s.set(e,n.get(e))}n=Array.from(s.keys()).find(e=>"content-type"==e.toLowerCase()),r=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Lt,t,void 0))||n||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of s)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Rt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,te(this,"complete"),te(this,"abort"),Ft(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ft(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},e.bb=function(){Ut(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<zt(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Ht.prototype).la=8,e.G=1,e.connect=function(e,t,s,n){Se(0),this.W=e,this.H=t||{},s&&void 0!==n&&(this.H.OSID=s,this.H.OAID=n),this.F=this.X,this.I=ls(this,null,this.W),Yt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let r=this.o;if(this.S&&(r?(r=v(r),b(r,this.S)):r=this.S),null!==this.m||this.O||(i.H=r,r=null),this.P)e:{for(var t=0,s=0;s<this.i.length;s++){var n=this.i[s];if(void 0===(n="__data__"in n.map&&"string"==typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(t+=n)){t=s;break e}if(4096===t||s===this.i.length-1){t=s+1;break e}}t=1e3}else t=1e3;t=Jt(this,i,t),lt(s=it(this.I),"RID",e),lt(s,"CVER",22),this.D&&lt(s,"X-HTTP-Session-Id",this.D),Qt(this,s),r&&(this.O?t="headers="+encodeURIComponent(String(Pt(r)))+"&"+t:this.m&&Ot(s,this.m,r)),Je(this.h,i),this.Ua&&lt(s,"TYPE","init"),this.P?(lt(s,"$req",t),lt(s,"SID","null"),i.T=!0,Re(i,s,null)):Re(i,s,t),this.G=2}}else 3==this.G&&(e?Xt(this,e):0==this.i.length||Ye(this.h)||Xt(this))},e.Fa=function(){if(this.u=null,ss(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),Gt(this),ss(this))},e.Za=function(){null!=this.C&&(this.C=null,Gt(this),es(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=ds.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},us.prototype.g=function(e,t){return new hs(e,t)},u(hs,ee),hs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hs.prototype.close=function(){Wt(this.g)},hs.prototype.o=function(e){var t=this.g;if("string"==typeof e){var s={};s.__data__=e,e=s}else this.u&&((s={}).__data__=ce(e),e=s);t.i.push(new Ge(t.Ya++,e)),3==t.G&&Yt(t)},hs.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,hs.aa.N.call(this)},u(ps,ge),u(ms,ye),u(fs,ds),fs.prototype.ua=function(){te(this.g,"a")},fs.prototype.ta=function(e){te(this.g,new ps(e))},fs.prototype.sa=function(e){te(this.g,new ms)},fs.prototype.ra=function(){te(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,hs.prototype.send=hs.prototype.o,hs.prototype.open=hs.prototype.m,hs.prototype.close=hs.prototype.close,lo=function(){return new us},oo=function(){return we()},ao=xe,ro={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,io=ke,Ae.COMPLETE="complete",no=Ae,me.EventType=fe,fe.OPEN="a",fe.CLOSE="b",fe.ERROR="c",fe.MESSAGE="d",ee.prototype.listen=ee.prototype.K,so=me,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,to=Mt}).apply(void 0!==co?co:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const uo="@firebase/firestore",ho="4.9.1";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}po.UNAUTHENTICATED=new po(null),po.GOOGLE_CREDENTIALS=new po("google-credentials-uid"),po.FIRST_PARTY=new po("first-party-uid"),po.MOCK_USER=new po("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let mo="12.2.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new Is("@firebase/firestore");function go(){return fo.logLevel}function yo(e,...t){if(fo.logLevel<=Ns.DEBUG){const s=t.map(wo);fo.debug(`Firestore (${mo}): ${e}`,...s)}}function xo(e,...t){if(fo.logLevel<=Ns.ERROR){const s=t.map(wo);fo.error(`Firestore (${mo}): ${e}`,...s)}}function vo(e,...t){if(fo.logLevel<=Ns.WARN){const s=t.map(wo);fo.warn(`Firestore (${mo}): ${e}`,...s)}}function wo(e){if("string"==typeof e)return e;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return t=e,JSON.stringify(t)}catch(s){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(e,t,s){let n="Unexpected state";"string"==typeof t?n=t:s=t,No(e,n,s)}function No(e,t,s){let n=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==s)try{n+=" CONTEXT: "+JSON.stringify(s)}catch(i){n+=" CONTEXT: "+s}throw xo(n),new Error(n)}function Eo(e,t,s,n){let i="Unexpected state";"string"==typeof s?i=s:n=s,e||No(t,i,n)}function So(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class To extends as{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Co{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(po.UNAUTHENTICATED))}shutdown(){}}class ko{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ao{constructor(e){this.t=e,this.currentUser=po.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Eo(void 0===this.o,42304);let s=this.i;const n=e=>this.i!==s?(s=this.i,t(e)):Promise.resolve();let i=new _o;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new _o,e.enqueueRetryable(()=>n(this.currentUser))};const r=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await n(this.currentUser)})},a=e=>{yo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),r())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(yo("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new _o)}},0),r()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(yo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Eo("string"==typeof t.accessToken,31837,{l:t}),new Io(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Eo(null===e||"string"==typeof e,2055,{h:e}),new po(e)}}class Po{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=po.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Oo{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new Po(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(po.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Do{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Eo(void 0===this.o,3512);const s=e=>{null!=e.error&&yo("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const s=e.token!==this.m;return this.m=e.token,yo("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>s(t))};const n=e=>{yo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?n(e):yo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Mo(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Eo("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Mo(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),s=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(s);else for(let n=0;n<e;n++)s[n]=Math.floor(256*Math.random());return s}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const s=Lo(40);for(let n=0;n<s.length;++n)t.length<20&&s[n]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[n]%62))}return t}}function Vo(e,t){return e<t?-1:e>t?1:0}function Uo(e,t){const s=Math.min(e.length,t.length);for(let n=0;n<s;n++){const s=e.charAt(n),i=t.charAt(n);if(s!==i)return zo(s)===zo(i)?Vo(s,i):zo(s)?1:-1}return Vo(e.length,t.length)}const Fo=55296,Bo=57343;function zo(e){const t=e.charCodeAt(0);return t>=Fo&&t<=Bo}function $o(e,t,s){return e.length===t.length&&e.every((e,n)=>s(e,t[n]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="__name__";class Ho{constructor(e,t,s){void 0===t?t=0:t>e.length&&bo(637,{offset:t,range:e.length}),void 0===s?s=e.length-t:s>e.length-t&&bo(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Ho.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ho?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let n=0;n<s;n++){const s=Ho.compareSegments(e.get(n),t.get(n));if(0!==s)return s}return Vo(e.length,t.length)}static compareSegments(e,t){const s=Ho.isNumericId(e),n=Ho.isNumericId(t);return s&&!n?-1:!s&&n?1:s&&n?Ho.extractNumericId(e).compare(Ho.extractNumericId(t)):Uo(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Za.fromString(e.substring(4,e.length-2))}}class Wo extends Ho{construct(e,t,s){return new Wo(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new To(jo.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(e=>e.length>0))}return new Wo(t)}static emptyPath(){return new Wo([])}}const Go=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ko extends Ho{construct(e,t,s){return new Ko(e,t,s)}static isValidIdentifier(e){return Go.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ko.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===qo}static keyField(){return new Ko([qo])}static fromServerFormat(e){const t=[];let s="",n=0;const i=()=>{if(0===s.length)throw new To(jo.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let r=!1;for(;n<e.length;){const t=e[n];if("\\"===t){if(n+1===e.length)throw new To(jo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new To(jo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=t,n+=2}else"`"===t?(r=!r,n++):"."!==t||r?(s+=t,n++):(i(),n++)}if(i(),r)throw new To(jo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ko(t)}static emptyPath(){return new Ko([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.path=e}static fromPath(e){return new Yo(Wo.fromString(e))}static fromName(e){return new Yo(Wo.fromString(e).popFirst(5))}static empty(){return new Yo(Wo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yo(new Wo(e.slice()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(e){if(!Yo.isDocumentKey(e))throw new To(jo.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Qo(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Jo(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const s=(t=e).constructor?t.constructor.name:null;return s?`a custom ${s} object`:"an object"}}var t;return"function"==typeof e?"a function":bo(12329,{type:typeof e})}function Zo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new To(jo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Jo(e);throw new To(jo.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${s}`)}}return e}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(e,t){const s={typeString:e};return t&&(s.value=t),s}function tl(e,t){if(!Qo(e))throw new To(jo.INVALID_ARGUMENT,"JSON must be an object");let s;for(const n in t)if(t[n]){const i=t[n].typeString,r="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){s=`JSON missing required field: '${n}'`;break}const a=e[n];if(i&&typeof a!==i){s=`JSON field '${n}' must be a ${i}.`;break}if(void 0!==r&&a!==r.value){s=`Expected '${n}' field to equal '${r.value}'`;break}}if(s)throw new To(jo.INVALID_ARGUMENT,s);return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=-62135596800,nl=1e6;class il{static now(){return il.fromMillis(Date.now())}static fromDate(e){return il.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*nl);return new il(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new To(jo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new To(jo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sl)throw new To(jo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new To(jo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nl}_compareTo(e){return this.seconds===e.seconds?Vo(this.nanoseconds,e.nanoseconds):Vo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:il._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tl(e,il._jsonSchema))return new il(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sl;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}il._jsonSchemaVersion="firestore/timestamp/1.0",il._jsonSchema={type:el("string",il._jsonSchemaVersion),seconds:el("number"),nanoseconds:el("number")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rl{static fromTimestamp(e){return new rl(e)}static min(){return new rl(new il(0,0))}static max(){return new rl(new il(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(e){return new ol(e.readTime,e.key,-1)}class ol{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ol(rl.min(),Yo.empty(),-1)}static max(){return new ol(rl.max(),Yo.empty(),-1)}}function ll(e,t){let s=e.readTime.compareTo(t.readTime);return 0!==s?s:(s=Yo.comparator(e.documentKey,t.documentKey),0!==s?s:Vo(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class cl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(e){if(e.code!==jo.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;yo("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&bo(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ul((s,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(s,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(s,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ul?t:ul.resolve(t)}catch(t){return ul.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ul.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ul.reject(t)}static resolve(e){return new ul((t,s)=>{t(e)})}static reject(e){return new ul((t,s)=>{s(e)})}static waitFor(e){return new ul((t,s)=>{let n=0,i=0,r=!1;e.forEach(e=>{++n,e.next(()=>{++i,r&&i===n&&t()},e=>s(e))}),r=!0,i===n&&t()})}static or(e){let t=ul.resolve(!1);for(const s of e)t=t.next(e=>e?ul.resolve(e):s());return t}static forEach(e,t){const s=[];return e.forEach((e,n)=>{s.push(t.call(this,e,n))}),this.waitFor(s)}static mapArray(e,t){return new ul((s,n)=>{const i=e.length,r=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{r[l]=e,++a,a===i&&s(r)},e=>n(e))}})}static doWhile(e,t){return new ul((s,n)=>{const i=()=>{!0===e()?t().next(()=>{i()},n):s()};i()})}}function hl(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pl.ce=-1;function ml(e){return null==e}function fl(e){return 0===e&&1/e==-1/0}function gl(e,t){let s=t;const n=e.length;for(let i=0;i<n;i++){const t=e.charAt(i);switch(t){case"\0":s+="";break;case"":s+="";break;default:s+=t}}return s}function yl(e){return e+""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(e){let t=0;for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&t++;return t}function vl(e,t){for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&t(s,e[s])}function wl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t){this.comparator=e,this.root=t||El.EMPTY}insert(e,t){return new bl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,El.BLACK,null,null))}remove(e){return new bl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,El.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const n=this.comparator(e,s.key);if(0===n)return t+s.left.size;n<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nl(this.root,e,this.comparator,!0)}}class Nl{constructor(e,t,s,n){this.isReverse=n,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?s(e.key,t):1,t&&n&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class El{constructor(e,t,s,n,i){this.key=e,this.value=t,this.color=null!=s?s:El.RED,this.left=null!=n?n:El.EMPTY,this.right=null!=i?i:El.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,n,i){return new El(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=n?n:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let n=this;const i=s(e,n.key);return n=i<0?n.copy(null,null,null,n.left.insert(e,t,s),null):0===i?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,s)),n.fixUp()}removeMin(){if(this.left.isEmpty())return El.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,n=this;if(t(e,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return El.EMPTY;s=n.right.min(),n=n.copy(s.key,s.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,El.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,El.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bo(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bo(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw bo(27949);return e+(this.isRed()?0:1)}}El.EMPTY=null,El.RED=!0,El.BLACK=!1,El.EMPTY=new class{constructor(){this.size=0}get key(){throw bo(57766)}get value(){throw bo(16141)}get color(){throw bo(16727)}get left(){throw bo(29726)}get right(){throw bo(36894)}copy(e,t,s,n,i){return this}insert(e,t,s){return new El(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Sl{constructor(e){this.comparator=e,this.data=new bl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const n=s.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jl(this.data.getIterator())}getIteratorFrom(e){return new jl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Sl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=s.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Sl(this.comparator);return t.data=e,t}}class jl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.fields=e,e.sort(Ko.comparator)}static empty(){return new Tl([])}unionWith(e){let t=new Sl(Ko.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Tl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new _l("Invalid base64 string: "+t):t}}(e);return new Il(t)}static fromUint8Array(e){const t=function(e){let t="";for(let s=0;s<e.length;++s)t+=String.fromCharCode(e[s]);return t}(e);return new Il(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Il.EMPTY_BYTE_STRING=new Il("");const Cl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kl(e){if(Eo(!!e,39018),"string"==typeof e){let t=0;const s=Cl.exec(e);if(Eo(!!s,46558,{timestamp:e}),s[1]){let e=s[1];e=(e+"000000000").substr(0,9),t=Number(e)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Al(e.seconds),nanos:Al(e.nanos)}}function Al(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pl(e){return"string"==typeof e?Il.fromBase64String(e):Il.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="server_timestamp",Ml="__type__",Dl="__previous_value__",Ll="__local_write_time__";function Rl(e){const t=(e?.mapValue?.fields||{})[Ml]?.stringValue;return t===Ol}function Vl(e){const t=e.mapValue.fields[Dl];return Rl(t)?Vl(t):t}function Ul(e){const t=kl(e.mapValue.fields[Ll].timestampValue);return new il(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t,s,n,i,r,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=n,this.ssl=i,this.forceLongPolling=r,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Bl="(default)";class zl{constructor(e,t){this.projectId=e,this.database=t||Bl}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===Bl}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="__type__",ql="__max__",Hl={},Wl="__vector__",Gl="value";function Kl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rl(e)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ql}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:function(e){const t=(e?.mapValue?.fields||{})[$l]?.stringValue;return t===Wl}(e)?10:11:bo(28295,{value:e})}function Yl(e,t){if(e===t)return!0;const s=Kl(e);if(s!==Kl(t))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ul(e).isEqual(Ul(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const s=kl(e.timestampValue),n=kl(t.timestampValue);return s.seconds===n.seconds&&s.nanos===n.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return n=t,Pl(e.bytesValue).isEqual(Pl(n.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Al(e.geoPointValue.latitude)===Al(t.geoPointValue.latitude)&&Al(e.geoPointValue.longitude)===Al(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Al(e.integerValue)===Al(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const s=Al(e.doubleValue),n=Al(t.doubleValue);return s===n?fl(s)===fl(n):isNaN(s)&&isNaN(n)}return!1}(e,t);case 9:return $o(e.arrayValue.values||[],t.arrayValue.values||[],Yl);case 10:case 11:return function(e,t){const s=e.mapValue.fields||{},n=t.mapValue.fields||{};if(xl(s)!==xl(n))return!1;for(const i in s)if(s.hasOwnProperty(i)&&(void 0===n[i]||!Yl(s[i],n[i])))return!1;return!0}(e,t);default:return bo(52216,{left:e})}var n}function Xl(e,t){return void 0!==(e.values||[]).find(e=>Yl(e,t))}function Ql(e,t){if(e===t)return 0;const s=Kl(e),n=Kl(t);if(s!==n)return Vo(s,n);switch(s){case 0:case 9007199254740991:return 0;case 1:return Vo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const s=Al(e.integerValue||e.doubleValue),n=Al(t.integerValue||t.doubleValue);return s<n?-1:s>n?1:s===n?0:isNaN(s)?isNaN(n)?0:-1:1}(e,t);case 3:return Jl(e.timestampValue,t.timestampValue);case 4:return Jl(Ul(e),Ul(t));case 5:return Uo(e.stringValue,t.stringValue);case 6:return function(e,t){const s=Pl(e),n=Pl(t);return s.compareTo(n)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const s=e.split("/"),n=t.split("/");for(let i=0;i<s.length&&i<n.length;i++){const e=Vo(s[i],n[i]);if(0!==e)return e}return Vo(s.length,n.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const s=Vo(Al(e.latitude),Al(t.latitude));return 0!==s?s:Vo(Al(e.longitude),Al(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Zl(e.arrayValue,t.arrayValue);case 10:return function(e,t){const s=e.fields||{},n=t.fields||{},i=s[Gl]?.arrayValue,r=n[Gl]?.arrayValue,a=Vo(i?.values?.length||0,r?.values?.length||0);return 0!==a?a:Zl(i,r)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Hl&&t===Hl)return 0;if(e===Hl)return 1;if(t===Hl)return-1;const s=e.fields||{},n=Object.keys(s),i=t.fields||{},r=Object.keys(i);n.sort(),r.sort();for(let a=0;a<n.length&&a<r.length;++a){const e=Uo(n[a],r[a]);if(0!==e)return e;const t=Ql(s[n[a]],i[r[a]]);if(0!==t)return t}return Vo(n.length,r.length)}(e.mapValue,t.mapValue);default:throw bo(23264,{he:s})}}function Jl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Vo(e,t);const s=kl(e),n=kl(t),i=Vo(s.seconds,n.seconds);return 0!==i?i:Vo(s.nanos,n.nanos)}function Zl(e,t){const s=e.values||[],n=t.values||[];for(let i=0;i<s.length&&i<n.length;++i){const e=Ql(s[i],n[i]);if(e)return e}return Vo(s.length,n.length)}function ec(e){return tc(e)}function tc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=kl(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Pl(e.bytesValue).toBase64():"referenceValue"in e?function(e){return Yo.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",s=!0;for(const n of e.values||[])s?s=!1:t+=",",t+=tc(n);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let s="{",n=!0;for(const i of t)n?n=!1:s+=",",s+=`${i}:${tc(e.fields[i])}`;return s+"}"}(e.mapValue):bo(61005,{value:e})}function sc(e){switch(Kl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Vl(e);return t?16+sc(t):16;case 5:return 2*e.stringValue.length;case 6:return Pl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(e.arrayValue.values||[]).reduce((e,t)=>e+sc(t),0);case 10:case 11:return function(e){let t=0;return vl(e.fields,(e,s)=>{t+=e.length+sc(s)}),t}(e.mapValue);default:throw bo(13486,{value:e})}}function nc(e){return!!e&&"integerValue"in e}function ic(e){return!!e&&"arrayValue"in e}function rc(e){return!!e&&"mapValue"in e}function ac(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return vl(e.mapValue.fields,(e,s)=>t.mapValue.fields[e]=ac(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let s=0;s<(e.arrayValue.values||[]).length;++s)t.arrayValue.values[s]=ac(e.arrayValue.values[s]);return t}return{...e}}class oc{constructor(e){this.value=e}static empty(){return new oc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!rc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(t)}setAll(e){let t=Ko.emptyPath(),s={},n=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,s,n),s={},n=[],t=i.popLast()}e?s[i.lastSegment()]=ac(e):n.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,s,n)}delete(e){const t=this.field(e.popLast());rc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let n=t.mapValue.fields[e.get(s)];rc(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,s){vl(t,(t,s)=>e[t]=s);for(const n of s)delete e[n]}clone(){return new oc(ac(this.value))}}function lc(e){const t=[];return vl(e.fields,(e,s)=>{const n=new Ko([e]);if(rc(s)){const e=lc(s.mapValue).fields;if(0===e.length)t.push(n);else for(const s of e)t.push(n.child(s))}else t.push(n)}),new Tl(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class cc{constructor(e,t,s,n,i,r,a){this.key=e,this.documentType=t,this.version=s,this.readTime=n,this.createTime=i,this.data=r,this.documentState=a}static newInvalidDocument(e){return new cc(e,0,rl.min(),rl.min(),rl.min(),oc.empty(),0)}static newFoundDocument(e,t,s,n){return new cc(e,1,t,rl.min(),s,n,0)}static newNoDocument(e,t){return new cc(e,2,t,rl.min(),rl.min(),oc.empty(),0)}static newUnknownDocument(e,t){return new cc(e,3,t,rl.min(),rl.min(),oc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.position=e,this.inclusive=t}}function uc(e,t,s){let n=0;for(let i=0;i<e.position.length;i++){const r=t[i],a=e.position[i];if(n=r.field.isKeyField()?Yo.comparator(Yo.fromName(a.referenceValue),s.key):Ql(a,s.data.field(r.field)),"desc"===r.dir&&(n*=-1),0!==n)break}return n}function hc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let s=0;s<e.position.length;s++)if(!Yl(e.position[s],t.position[s]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t="asc"){this.field=e,this.dir=t}}function mc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{}class gc extends fc{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Ec(e,t,s):"array-contains"===t?new _c(e,s):"in"===t?new Ic(e,s):"not-in"===t?new Cc(e,s):"array-contains-any"===t?new kc(e,s):new gc(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Sc(e,s):new jc(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ql(t,this.value)):null!==t&&Kl(this.value)===Kl(t)&&this.matchesComparison(Ql(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bo(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yc extends fc{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new yc(e,t)}matches(e){return xc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xc(e){return"and"===e.op}function vc(e){return function(e){for(const t of e.filters)if(t instanceof yc)return!1;return!0}(e)&&xc(e)}function wc(e){if(e instanceof gc)return e.field.canonicalString()+e.op.toString()+ec(e.value);if(vc(e))return e.filters.map(e=>wc(e)).join(",");{const t=e.filters.map(e=>wc(e)).join(",");return`${e.op}(${t})`}}function bc(e,t){return e instanceof gc?(s=e,(n=t)instanceof gc&&s.op===n.op&&s.field.isEqual(n.field)&&Yl(s.value,n.value)):e instanceof yc?function(e,t){return t instanceof yc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,s,n)=>e&&bc(s,t.filters[n]),!0)}(e,t):void bo(19439);var s,n}function Nc(e){return e instanceof gc?`${(t=e).field.canonicalString()} ${t.op} ${ec(t.value)}`:e instanceof yc?function(e){return e.op.toString()+" {"+e.getFilters().map(Nc).join(" ,")+"}"}(e):"Filter";var t}class Ec extends gc{constructor(e,t,s){super(e,t,s),this.key=Yo.fromName(s.referenceValue)}matches(e){const t=Yo.comparator(e.key,this.key);return this.matchesComparison(t)}}class Sc extends gc{constructor(e,t){super(e,"in",t),this.keys=Tc("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jc extends gc{constructor(e,t){super(e,"not-in",t),this.keys=Tc("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Tc(e,t){return(t.arrayValue?.values||[]).map(e=>Yo.fromName(e.referenceValue))}class _c extends gc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ic(t)&&Xl(t.arrayValue,this.value)}}class Ic extends gc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xl(this.value.arrayValue,t)}}class Cc extends gc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Xl(this.value.arrayValue,t)}}class kc extends gc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ic(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Xl(this.value.arrayValue,e))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t=null,s=[],n=[],i=null,r=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=n,this.limit=i,this.startAt=r,this.endAt=a,this.Te=null}}function Pc(e,t=null,s=[],n=[],i=null,r=null,a=null){return new Ac(e,t,s,n,i,r,a)}function Oc(e){const t=So(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>wc(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),ml(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>ec(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>ec(e)).join(",")),t.Te=e}return t.Te}function Mc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<e.orderBy.length;s++)if(!mc(e.orderBy[s],t.orderBy[s]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let s=0;s<e.filters.length;s++)if(!bc(e.filters[s],t.filters[s]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hc(e.startAt,t.startAt)&&hc(e.endAt,t.endAt)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t=null,s=[],n=[],i=null,r="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=n,this.limit=i,this.limitType=r,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Lc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Rc(e){const t=So(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new Sl(Ko.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t})(t).forEach(n=>{e.has(n.canonicalString())||n.isKeyField()||t.Ie.push(new pc(n,s))}),e.has(Ko.keyField().canonicalString())||t.Ie.push(new pc(Ko.keyField(),s))}return t.Ie}function Vc(e){const t=So(e);return t.Ee||(t.Ee=function(e,t){if("F"===e.limitType)return Pc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new pc(e.field,t)});const s=e.endAt?new dc(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new dc(e.startAt.position,e.startAt.inclusive):null;return Pc(e.path,e.collectionGroup,t,e.filters,e.limit,s,n)}}(t,Rc(e))),t.Ee}function Uc(e,t,s){return new Dc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,s,e.startAt,e.endAt)}function Fc(e,t){return Mc(Vc(e),Vc(t))&&e.limitType===t.limitType}function Bc(e){return`${Oc(Vc(e))}|lt:${e.limitType}`}function zc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Nc(e)).join(", ")}]`),ml(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>ec(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>ec(e)).join(",")),`Target(${t})`}(Vc(e))}; limitType=${e.limitType})`}function $c(e,t){return t.isFoundDocument()&&function(e,t){const s=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(s):Yo.isDocumentKey(e.path)?e.path.isEqual(s):e.path.isImmediateParentOf(s)}(e,t)&&function(e,t){for(const s of Rc(e))if(!s.field.isKeyField()&&null===t.data.field(s.field))return!1;return!0}(e,t)&&function(e,t){for(const s of e.filters)if(!s.matches(t))return!1;return!0}(e,t)&&(n=t,!((s=e).startAt&&!function(e,t,s){const n=uc(e,t,s);return e.inclusive?n<=0:n<0}(s.startAt,Rc(s),n)||s.endAt&&!function(e,t,s){const n=uc(e,t,s);return e.inclusive?n>=0:n>0}(s.endAt,Rc(s),n)));var s,n}function qc(e,t,s){const n=e.field.isKeyField()?Yo.comparator(t.key,s.key):function(e,t,s){const n=t.data.field(e),i=s.data.field(e);return null!==n&&null!==i?Ql(n,i):bo(42886)}(e.field,t,s);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return bo(19790,{direction:e.dir})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[n,i]of s)if(this.equalsFn(n,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),n=this.inner[s];if(void 0===n)return this.inner[s]=[[e,t]],void this.innerSize++;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return void(n[i]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let n=0;n<s.length;n++)if(this.equalsFn(s[n][0],e))return 1===s.length?delete this.inner[t]:s.splice(n,1),this.innerSize--,!0;return!1}forEach(e){vl(this.inner,(t,s)=>{for(const[n,i]of s)e(n,i)})}isEmpty(){return wl(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new bl(Yo.comparator);function Gc(){return Wc}const Kc=new bl(Yo.comparator);function Yc(...e){let t=Kc;for(const s of e)t=t.insert(s.key,s);return t}function Xc(e){let t=Kc;return e.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function Qc(){return Zc()}function Jc(){return Zc()}function Zc(){return new Hc(e=>e.toString(),(e,t)=>e.isEqual(t))}const ed=new bl(Yo.comparator),td=new Sl(Yo.comparator);function sd(...e){let t=td;for(const s of e)t=t.add(s);return t}const nd=new Sl(Vo);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function id(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fl(t)?"-0":t}}function rd(e){return{integerValue:""+e}}function ad(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!fl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)?rd(t):id(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this._=void 0}}function ld(e,t,s){return e instanceof ud?function(e,t){const s={fields:{[Ml]:{stringValue:Ol},[Ll]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Rl(t)&&(t=Vl(t)),t&&(s.fields[Dl]=t),{mapValue:s}}(s,t):e instanceof hd?pd(e,t):e instanceof md?fd(e,t):function(e,t){const s=dd(e,t),n=yd(s)+yd(e.Ae);return nc(s)&&nc(e.Ae)?rd(n):id(e.serializer,n)}(e,t)}function cd(e,t,s){return e instanceof hd?pd(e,t):e instanceof md?fd(e,t):s}function dd(e,t){return e instanceof gd?nc(s=t)||(n=s)&&"doubleValue"in n?t:{integerValue:0}:null;var s,n}class ud extends od{}class hd extends od{constructor(e){super(),this.elements=e}}function pd(e,t){const s=xd(t);for(const n of e.elements)s.some(e=>Yl(e,n))||s.push(n);return{arrayValue:{values:s}}}class md extends od{constructor(e){super(),this.elements=e}}function fd(e,t){let s=xd(t);for(const n of e.elements)s=s.filter(e=>!Yl(e,n));return{arrayValue:{values:s}}}class gd extends od{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function yd(e){return Al(e.integerValue||e.doubleValue)}function xd(e){return ic(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class vd{constructor(e,t){this.version=e,this.transformResults=t}}class wd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wd}static exists(e){return new wd(void 0,e)}static updateTime(e){return new wd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Nd{}function Ed(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Od(e.key,wd.none()):new Id(e.key,e.data,wd.none());{const s=e.data,n=oc.empty();let i=new Sl(Ko.comparator);for(let e of t.fields)if(!i.has(e)){let t=s.field(e);null===t&&e.length>1&&(e=e.popLast(),t=s.field(e)),null===t?n.delete(e):n.set(e,t),i=i.add(e)}return new Cd(e.key,n,new Tl(i.toArray()),wd.none())}}function Sd(e,t,s){var n;e instanceof Id?function(e,t,s){const n=e.value.clone(),i=Ad(e.fieldTransforms,t,s.transformResults);n.setAll(i),t.convertToFoundDocument(s.version,n).setHasCommittedMutations()}(e,t,s):e instanceof Cd?function(e,t,s){if(!bd(e.precondition,t))return void t.convertToUnknownDocument(s.version);const n=Ad(e.fieldTransforms,t,s.transformResults),i=t.data;i.setAll(kd(e)),i.setAll(n),t.convertToFoundDocument(s.version,i).setHasCommittedMutations()}(e,t,s):(n=s,t.convertToNoDocument(n.version).setHasCommittedMutations())}function jd(e,t,s,n){return e instanceof Id?function(e,t,s,n){if(!bd(e.precondition,t))return s;const i=e.value.clone(),r=Pd(e.fieldTransforms,n,t);return i.setAll(r),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,s,n):e instanceof Cd?function(e,t,s,n){if(!bd(e.precondition,t))return s;const i=Pd(e.fieldTransforms,n,t),r=t.data;return r.setAll(kd(e)),r.setAll(i),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null===s?null:s.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,s,n):(i=t,r=s,bd(e.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):r);var i,r}function Td(e,t){let s=null;for(const n of e.fieldTransforms){const e=t.data.field(n.field),i=dd(n.transform,e||null);null!=i&&(null===s&&(s=oc.empty()),s.set(n.field,i))}return s||null}function _d(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(s=e.fieldTransforms,n=t.fieldTransforms,!!(void 0===s&&void 0===n||s&&n&&$o(s,n,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(s=e.transform,n=t.transform,s instanceof hd&&n instanceof hd||s instanceof md&&n instanceof md?$o(s.elements,n.elements,Yl):s instanceof gd&&n instanceof gd?Yl(s.Ae,n.Ae):s instanceof ud&&n instanceof ud);var s,n}(e,t)))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var s,n}class Id extends Nd{constructor(e,t,s,n=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class Cd extends Nd{constructor(e,t,s,n,i=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=n,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kd(e){const t=new Map;return e.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const n=e.data.field(s);t.set(s,n)}}),t}function Ad(e,t,s){const n=new Map;Eo(e.length===s.length,32656,{Re:s.length,Ve:e.length});for(let i=0;i<s.length;i++){const r=e[i],a=r.transform,o=t.data.field(r.field);n.set(r.field,cd(a,o,s[i]))}return n}function Pd(e,t,s){const n=new Map;for(const i of e){const e=i.transform,r=s.data.field(i.field);n.set(i.field,ld(e,r,t))}return n}class Od extends Nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Md extends Nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t,s,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=n}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let n=0;n<this.mutations.length;n++){const t=this.mutations[n];t.key.isEqual(e.key)&&Sd(t,e,s[n])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=jd(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=jd(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Jc();return this.mutations.forEach(n=>{const i=e.get(n.key),r=i.overlayedDocument;let a=this.applyToLocalView(r,i.mutatedFields);a=t.has(n.key)?null:a;const o=Ed(r,a);null!==o&&s.set(n.key,o),r.isValidDocument()||r.convertToNoDocument(rl.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sd())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,(e,t)=>_d(e,t))&&$o(this.baseMutations,e.baseMutations,(e,t)=>_d(e,t))}}class Ld{constructor(e,t,s,n){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=n}static from(e,t,s){Eo(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let n=function(){return ed}();const i=e.mutations;for(let r=0;r<i.length;r++)n=n.insert(i[r].key,s[r].version);return new Ld(e,t,s,n)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vd,Ud;(Ud=Vd||(Vd={}))[Ud.OK=0]="OK",Ud[Ud.CANCELLED=1]="CANCELLED",Ud[Ud.UNKNOWN=2]="UNKNOWN",Ud[Ud.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ud[Ud.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ud[Ud.NOT_FOUND=5]="NOT_FOUND",Ud[Ud.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ud[Ud.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ud[Ud.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ud[Ud.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ud[Ud.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ud[Ud.ABORTED=10]="ABORTED",Ud[Ud.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ud[Ud.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ud[Ud.INTERNAL=13]="INTERNAL",Ud[Ud.UNAVAILABLE=14]="UNAVAILABLE",Ud[Ud.DATA_LOSS=15]="DATA_LOSS",
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
new Za([4294967295,4294967295],0);class Fd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function zd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function $d(e,t){return Bd(e,t.toTimestamp())}function qd(e){return Eo(!!e,49232),rl.fromTimestamp(function(e){const t=kl(e);return new il(t.seconds,t.nanos)}(e))}function Hd(e,t){return Wd(e,t).canonicalString()}function Wd(e,t){const s=(n=e,new Wo(["projects",n.projectId,"databases",n.database])).child("documents");var n;return void 0===t?s:s.child(t)}function Gd(e,t){return Hd(e.databaseId,t.path)}function Kd(e){const t=function(e){const t=Wo.fromString(e);return Eo(function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t),10190,{key:t.toString()}),t}(e);return 4===t.length?Wo.emptyPath():function(e){return Eo(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}(t)}function Yd(e,t,s){return{name:Gd(e,t),fields:s.value.mapValue.fields}}function Xd(e){let t=Kd(e.parent);const s=e.structuredQuery,n=s.from?s.from.length:0;let i=null;if(n>0){Eo(1===n,65062);const e=s.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let r=[];s.where&&(r=function(e){const t=Qd(e);return t instanceof yc&&vc(t)?t.getFilters():[t]}(s.where));let a=[];s.orderBy&&(a=s.orderBy.map(e=>{return new pc(Jd((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let o=null;s.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,ml(t)?null:t}(s.limit));let l=null;s.startAt&&(l=function(e){const t=!!e.before,s=e.values||[];return new dc(s,t)}(s.startAt));let c=null;return s.endAt&&(c=function(e){const t=!e.before,s=e.values||[];return new dc(s,t)}(s.endAt)),function(e,t,s,n,i,r,a,o){return new Dc(e,t,s,n,i,r,a,o)}(t,i,a,r,o,"F",l,c)}function Qd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Jd(e.unaryFilter.field);return gc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Jd(e.unaryFilter.field);return gc.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=Jd(e.unaryFilter.field);return gc.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Jd(e.unaryFilter.field);return gc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bo(61313);default:return bo(60726)}}(e):void 0!==e.fieldFilter?(t=e,gc.create(Jd(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bo(58110);default:return bo(50506)}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return yc.create(e.compositeFilter.filters.map(e=>Qd(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return bo(1026)}}(e.compositeFilter.op))}(e):bo(30097,{filter:e});var t}function Jd(e){return Ko.fromServerFormat(e.fieldPath)}function Zd(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}class eu{constructor(e){this.yt=e}}function tu(e){const t=Xd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Uc(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this.Cn=new nu}addToCollectionParentIndex(e,t){return this.Cn.add(t),ul.resolve()}getCollectionParents(e,t){return ul.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ul.resolve()}deleteFieldIndex(e,t){return ul.resolve()}deleteAllFieldIndexes(e){return ul.resolve()}createTargetIndexes(e,t){return ul.resolve()}getDocumentsMatchingTarget(e,t){return ul.resolve(null)}getIndexType(e,t){return ul.resolve(0)}getFieldIndexes(e,t){return ul.resolve([])}getNextCollectionGroupToUpdate(e){return ul.resolve(null)}getMinOffset(e,t){return ul.resolve(ol.min())}getMinOffsetFromCollectionGroup(e,t){return ul.resolve(ol.min())}updateCollectionGroup(e,t,s){return ul.resolve()}updateIndexEntries(e,t){return ul.resolve()}}class nu{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),n=this.index[t]||new Sl(Wo.comparator),i=!n.has(s);return this.index[t]=n.add(s),i}has(e){const t=e.lastSegment(),s=e.popLast(),n=this.index[t];return n&&n.has(s)}getEntries(e){return(this.index[e]||new Sl(Wo.comparator)).toArray()}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ru=41943040;class au{static withCacheSize(e){return new au(e,au.DEFAULT_COLLECTION_PERCENTILE,au.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */au.DEFAULT_COLLECTION_PERCENTILE=10,au.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,au.DEFAULT=new au(ru,au.DEFAULT_COLLECTION_PERCENTILE,au.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),au.DISABLED=new au(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ou{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ou(0)}static cr(){return new ou(-1)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu="LruGarbageCollector";function cu([e,t],[s,n]){const i=Vo(e,s);return 0===i?Vo(t,n):i}class du{constructor(e){this.Ir=e,this.buffer=new Sl(cu),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();cu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uu{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){yo(lu,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){hl(e)?yo(lu,"Ignoring IndexedDB error during garbage collection: ",e):await dl(e)}await this.Vr(3e5)})}}class hu{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return ul.resolve(pl.ce);const s=new du(t);return this.mr.forEachTarget(e,e=>s.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>s.Ar(e))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(yo("LruGarbageCollector","Garbage collection skipped; disabled"),ul.resolve(iu)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(yo("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iu):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,n,i,r,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(yo("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),n=this.params.maximumSequenceNumbersToCollect):n=t,r=Date.now(),this.nthSequenceNumber(e,n))).next(n=>(s=n,a=Date.now(),this.removeTargets(e,s,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,s))).next(e=>(l=Date.now(),go()<=Ns.DEBUG&&yo("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${r-c}ms\n\tDetermined least recently used ${n} in `+(a-r)+`ms\n\tRemoved ${i} targets in `+(o-a)+`ms\n\tRemoved ${e} documents in `+(l-o)+`ms\nTotal Duration: ${l-c}ms`),ul.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:i,documentsRemoved:e})))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pu{constructor(){this.changes=new Hc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?ul.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t,s,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=n}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(n=>(s=n,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==s&&jd(s.mutation,e,Tl.empty(),il.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,sd()).next(()=>t))}getLocalViewOfDocuments(e,t,s=sd()){const n=Qc();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,s).next(e=>{let t=Yc();return e.forEach((e,s)=>{t=t.insert(e,s.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const s=Qc();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,sd()))}populateOverlays(e,t,s){const n=[];return s.forEach(e=>{t.has(e)||n.push(e)}),this.documentOverlayCache.getOverlays(e,n).next(e=>{e.forEach((e,s)=>{t.set(e,s)})})}computeViews(e,t,s,n){let i=Gc();const r=Zc(),a=Zc();return t.forEach((e,t)=>{const a=s.get(t.key);n.has(t.key)&&(void 0===a||a.mutation instanceof Cd)?i=i.insert(t.key,t):void 0!==a?(r.set(t.key,a.mutation.getFieldMask()),jd(a.mutation,t,a.mutation.getFieldMask(),il.now())):r.set(t.key,Tl.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>r.set(e,t)),t.forEach((e,t)=>a.set(e,new mu(t,r.get(e)??null))),a))}recalculateAndSaveOverlays(e,t){const s=Zc();let n=new bl((e,t)=>e-t),i=sd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const r=t.get(e);if(null===r)return;let a=s.get(e)||Tl.empty();a=i.applyToLocalView(r,a),s.set(e,a);const o=(n.get(i.batchId)||sd()).add(e);n=n.insert(i.batchId,o)})}).next(()=>{const r=[],a=n.getReverseIterator();for(;a.hasNext();){const n=a.getNext(),o=n.key,l=n.value,c=Jc();l.forEach(e=>{if(!i.has(e)){const n=Ed(t.get(e),s.get(e));null!==n&&c.set(e,n),i=i.add(e)}}),r.push(this.documentOverlayCache.saveOverlays(e,o,c))}return ul.waitFor(r)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,s,n){return i=t,Yo.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,n):this.getDocumentsMatchingCollectionQuery(e,t,s,n);var i}getNextDocuments(e,t,s,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,n).next(i=>{const r=n-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,n-i.size):ul.resolve(Qc());let a=-1,o=i;return r.next(t=>ul.forEach(t,(t,s)=>(a<s.largestBatchId&&(a=s.largestBatchId),i.get(t)?ul.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,sd())).next(e=>({batchId:a,changes:Xc(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Yo(t)).next(e=>{let t=Yc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,s,n){const i=t.collectionGroup;let r=Yc();return this.indexManager.getCollectionParents(e,i).next(a=>ul.forEach(a,a=>{const o=(l=t,c=a.child(i),new Dc(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,o,s,n).next(e=>{e.forEach((e,t)=>{r=r.insert(e,t)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(e,t,s,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(r=>(i=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,i,n))).next(e=>{i.forEach((t,s)=>{const n=s.getKey();null===e.get(n)&&(e=e.insert(n,cc.newInvalidDocument(n)))});let s=Yc();return e.forEach((e,n)=>{const r=i.get(e);void 0!==r&&jd(r.mutation,n,Tl.empty(),il.now()),$c(t,n)&&(s=s.insert(e,n))}),s})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ul.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,{id:(s=t).id,version:s.version,createTime:qd(s.createTime)}),ul.resolve();var s}getNamedQuery(e,t){return ul.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,{name:(s=t).name,query:tu(s.bundledQuery),readTime:qd(s.readTime)}),ul.resolve();var s}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this.overlays=new bl(Yo.comparator),this.qr=new Map}getOverlay(e,t){return ul.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Qc();return ul.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&s.set(t,e)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((s,n)=>{this.St(e,t,n)}),ul.resolve()}removeOverlaysForBatchId(e,t,s){const n=this.qr.get(s);return void 0!==n&&(n.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(s)),ul.resolve()}getOverlaysForCollection(e,t,s){const n=Qc(),i=t.length+1,r=new Yo(t.child("")),a=this.overlays.getIteratorFrom(r);for(;a.hasNext();){const e=a.getNext().value,r=e.getKey();if(!t.isPrefixOf(r.path))break;r.path.length===i&&e.largestBatchId>s&&n.set(e.getKey(),e)}return ul.resolve(n)}getOverlaysForCollectionGroup(e,t,s,n){let i=new bl((e,t)=>e-t);const r=this.overlays.getIterator();for(;r.hasNext();){const e=r.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>s){let t=i.get(e.largestBatchId);null===t&&(t=Qc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Qc(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=n)););return ul.resolve(a)}St(e,t,s){const n=this.overlays.get(s.key);if(null!==n){const e=this.qr.get(n.largestBatchId).delete(s.key);this.qr.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(s.key,new Rd(t,s));let i=this.qr.get(t);void 0===i&&(i=sd(),this.qr.set(t,i)),this.qr.set(t,i.add(s.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.sessionToken=Il.EMPTY_BYTE_STRING}getSessionToken(e){return ul.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ul.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(){this.Qr=new Sl(wu.$r),this.Ur=new Sl(wu.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new wu(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new wu(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Yo(new Wo([])),s=new wu(t,e),n=new wu(t,e+1),i=[];return this.Ur.forEachInRange([s,n],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Yo(new Wo([])),s=new wu(t,e),n=new wu(t,e+1);let i=sd();return this.Ur.forEachInRange([s,n],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new wu(e,0),s=this.Qr.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class wu{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Yo.comparator(e.key,t.key)||Vo(e.Yr,t.Yr)}static Kr(e,t){return Vo(e.Yr,t.Yr)||Yo.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Sl(wu.$r)}checkEmpty(e){return ul.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,n){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const r=new Dd(i,t,s,n);this.mutationQueue.push(r);for(const a of n)this.Zr=this.Zr.add(new wu(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ul.resolve(r)}lookupMutationBatch(e,t){return ul.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,n=this.ei(s),i=n<0?0:n;return ul.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ul.resolve(0===this.mutationQueue.length?-1:this.tr-1)}getAllMutationBatches(e){return ul.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new wu(t,0),n=new wu(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,n],e=>{const t=this.Xr(e.Yr);i.push(t)}),ul.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Sl(Vo);return t.forEach(e=>{const t=new wu(e,0),n=new wu(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,n],e=>{s=s.add(e.Yr)})}),ul.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,n=s.length+1;let i=s;Yo.isDocumentKey(i)||(i=i.child(""));const r=new wu(new Yo(i),0);let a=new Sl(Vo);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!s.isPrefixOf(t)&&(t.length===n&&(a=a.add(e.Yr)),!0)},r),ul.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const s=this.Xr(e);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Eo(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let s=this.Zr;return ul.forEach(t.mutations,n=>{const i=new wu(n.key,t.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new wu(t,0),n=this.Zr.firstAfterOrEqual(s);return ul.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,ul.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.ri=e,this.docs=new bl(Yo.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,n=this.docs.get(s),i=n?n.size:0,r=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:r}),this.size+=r-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ul.resolve(s?s.document.mutableCopy():cc.newInvalidDocument(t))}getEntries(e,t){let s=Gc();return t.forEach(e=>{const t=this.docs.get(e);s=s.insert(e,t?t.document.mutableCopy():cc.newInvalidDocument(e))}),ul.resolve(s)}getDocumentsMatchingQuery(e,t,s,n){let i=Gc();const r=t.path,a=new Yo(r.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!r.isPrefixOf(e.path))break;e.path.length>r.length+1||ll(al(a),s)<=0||(n.has(a.key)||$c(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return ul.resolve(i)}getAllFromCollectionGroup(e,t,s,n){bo(9500)}ii(e,t){return ul.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Eu(this)}getSize(e){return ul.resolve(this.size)}}class Eu extends pu{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,n)=>{n.isValidDocument()?t.push(this.Nr.addEntry(e,n)):this.Nr.removeEntry(s)}),ul.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e){this.persistence=e,this.si=new Hc(e=>Oc(e),Mc),this.lastRemoteSnapshotVersion=rl.min(),this.highestTargetId=0,this.oi=0,this._i=new vu,this.targetCount=0,this.ai=ou.ur()}forEachTarget(e,t){return this.si.forEach((e,s)=>t(s)),ul.resolve()}getLastRemoteSnapshotVersion(e){return ul.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ul.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ul.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ul.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ou(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ul.resolve()}updateTargetData(e,t){return this.Pr(t),ul.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ul.resolve()}removeTargets(e,t,s){let n=0;const i=[];return this.si.forEach((r,a)=>{a.sequenceNumber<=t&&null===s.get(a.targetId)&&(this.si.delete(r),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),n++)}),ul.waitFor(i).next(()=>n)}getTargetCount(e){return ul.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ul.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ul.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const n=this.persistence.referenceDelegate,i=[];return n&&t.forEach(t=>{i.push(n.markPotentiallyOrphaned(e,t))}),ul.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ul.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ul.resolve(s)}containsKey(e,t){return ul.resolve(this._i.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,t){this.ui={},this.overlays={},this.ci=new pl(0),this.li=!1,this.li=!0,this.hi=new xu,this.referenceDelegate=e(this),this.Pi=new Su(this),this.indexManager=new su,this.remoteDocumentCache=new Nu(e=>this.referenceDelegate.Ti(e)),this.serializer=new eu(t),this.Ii=new gu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new bu(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){yo("MemoryPersistence","Starting transaction:",e);const n=new Tu(this.ci.next());return this.referenceDelegate.Ei(),s(n).next(e=>this.referenceDelegate.di(n).next(()=>e)).toPromise().then(e=>(n.raiseOnCommittedEvent(),e))}Ai(e,t){return ul.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class Tu extends cl{constructor(e){super(),this.currentSequenceNumber=e}}class _u{constructor(e){this.persistence=e,this.Ri=new vu,this.Vi=null}static mi(e){return new _u(e)}get fi(){if(this.Vi)return this.Vi;throw bo(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ul.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ul.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ul.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ul.forEach(this.fi,s=>{const n=Yo.fromPath(s);return this.gi(e,n).next(e=>{e||t.removeEntry(n,rl.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ul.or([()=>ul.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Iu{constructor(e,t){this.persistence=e,this.pi=new Hc(e=>function(e){let t="";for(let s=0;s<e.length;s++)t.length>0&&(t=yl(t)),t=gl(e.get(s),t);return yl(t)}(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=function(e,t){return new hu(e,t)}(this,t)}static mi(e,t){return new Iu(e,t)}Ei(){}di(e){return ul.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return ul.forEach(this.pi,(s,n)=>this.br(e,s,n).next(e=>e?ul.resolve():t(n)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const n=this.persistence.getRemoteDocumentCache(),i=n.newChangeBuffer();return n.ii(e,n=>this.br(e,n,t).next(e=>{e||(s++,i.removeEntry(n,rl.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ul.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ul.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ul.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ul.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sc(e.data.value)),t}br(e,t,s){return ul.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return ul.resolve(void 0!==e&&e>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t,s,n){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=n}static As(e,t){let s=sd(),n=sd();for(const i of t.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:n=n.add(i.doc.key)}return new Cu(e,t.fromCache,s,n)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=ns()?8:function(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}(ts())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,n){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,n,s).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const s=new ku;return this.Ss(e,t,s).next(n=>{if(i.result=n,this.Vs)return this.bs(e,t,s,n.size)})}).next(()=>i.result)}bs(e,t,s,n){return s.documentReadCount<this.fs?(go()<=Ns.DEBUG&&yo("QueryEngine","SDK will not create cache indexes for query:",zc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ul.resolve()):(go()<=Ns.DEBUG&&yo("QueryEngine","Query:",zc(t),"scans",s.documentReadCount,"local documents and returns",n,"documents as results."),s.documentReadCount>this.gs*n?(go()<=Ns.DEBUG&&yo("QueryEngine","The SDK decides to create cache indexes for query:",zc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vc(t))):ul.resolve())}ys(e,t){if(Lc(t))return ul.resolve(null);let s=Vc(t);return this.indexManager.getIndexType(e,s).next(n=>0===n?null:(null!==t.limit&&1===n&&(t=Uc(t,null,"F"),s=Vc(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(n=>{const i=sd(...n);return this.ps.getDocuments(e,i).next(n=>this.indexManager.getMinOffset(e,s).next(s=>{const r=this.Ds(t,n);return this.Cs(t,r,i,s.readTime)?this.ys(e,Uc(t,null,"F")):this.vs(e,r,t,s)}))})))}ws(e,t,s,n){return Lc(t)||n.isEqual(rl.min())?ul.resolve(null):this.ps.getDocuments(e,s).next(i=>{const r=this.Ds(t,i);return this.Cs(t,r,s,n)?ul.resolve(null):(go()<=Ns.DEBUG&&yo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),zc(t)),this.vs(e,r,t,function(e,t){const s=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=rl.fromTimestamp(1e9===n?new il(s+1,0):new il(s,n));return new ol(i,Yo.empty(),t)}(n,-1)).next(e=>e))})}Ds(e,t){let s=new Sl(function(e){return(t,s)=>{let n=!1;for(const i of Rc(e)){const e=qc(i,t,s);if(0!==e)return e;n=n||i.field.isKeyField()}return 0}}(e));return t.forEach((t,n)=>{$c(e,n)&&(s=s.add(n))}),s}Cs(e,t,s,n){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(n)>0)}Ss(e,t,s){return go()<=Ns.DEBUG&&yo("QueryEngine","Using full collection scan to execute query:",zc(t)),this.ps.getDocumentsMatchingQuery(e,t,ol.min(),s)}vs(e,t,s,n){return this.ps.getDocumentsMatchingQuery(e,s,n).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t,s,n){this.persistence=e,this.Fs=t,this.serializer=n,this.Ms=new bl(Vo),this.xs=new Hc(e=>Oc(e),Mc),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fu(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}async function Ou(e,t){const s=So(e);return await s.persistence.runTransaction("Handle user change","readonly",e=>{let n;return s.mutationQueue.getAllMutationBatches(e).next(i=>(n=i,s.Bs(t),s.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],r=[];let a=sd();for(const e of n){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return s.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:r}))})})}function Mu(e,t){const s=So(e);return s.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}class Du{constructor(){this.activeTargetIds=nd}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lu{constructor(){this.Mo=new Du,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Du,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{Oo(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu="ConnectivityMonitor";class Uu{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){yo(Vu,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){yo(Vu,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu=null;function Bu(){return null===Fu?Fu=268435456+Math.round(2147483648*Math.random()):Fu++,"0x"+Fu.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const zu="RestConnection",$u={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qu{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${n}`,this.Wo=this.databaseId.database===Bl?`project_id=${s}`:`project_id=${s}&database_id=${n}`}Go(e,t,s,n,i){const r=Bu(),a=this.zo(e,t.toUriEncodedString());yo(zu,`Sending RPC '${e}' ${r}:`,a,s);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,n,i);const{host:l}=new URL(a),c=Xt(l);return this.Jo(e,a,o,s,c).then(t=>(yo(zu,`Received RPC '${e}' ${r}: `,t),t),t=>{throw vo(zu,`RPC '${e}' ${r} failed with error: `,t,"url: ",a,"request:",s),t})}Ho(e,t,s,n,i,r){return this.Go(e,t,s,n,i)}jo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+mo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,s)=>e[s]=t),s&&s.headers.forEach((t,s)=>e[s]=t)}zo(e,t){const s=$u[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="WebChannelConnection";class Gu extends qu{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,n,i){const r=Bu();return new Promise((i,a)=>{const o=new to;o.setWithCredentials(!0),o.listenOnce(no.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case io.NO_ERROR:const t=o.getResponseJson();yo(Wu,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(t)),i(t);break;case io.TIMEOUT:yo(Wu,`RPC '${e}' ${r} timed out`),a(new To(jo.DEADLINE_EXCEEDED,"Request time out"));break;case io.HTTP_ERROR:const s=o.getStatus();if(yo(Wu,`RPC '${e}' ${r} failed with status:`,s,"response text:",o.getResponseText()),s>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(jo).indexOf(t)>=0?t:jo.UNKNOWN}(t.status);a(new To(e,t.message))}else a(new To(jo.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new To(jo.UNAVAILABLE,"Connection failed."));break;default:bo(9055,{l_:e,streamId:r,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{yo(Wu,`RPC '${e}' ${r} completed.`)}});const l=JSON.stringify(n);yo(Wu,`RPC '${e}' ${r} sending request:`,n),o.send(t,"POST",l,s,15)})}T_(e,t,s){const n=Bu(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=lo(),a=oo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,s),o.encodeInitMessageHeaders=!0;const c=i.join("");yo(Wu,`Creating RPC '${e}' stream ${n}: ${c}`,o);const d=r.createWebChannel(c,o);this.I_(d);let u=!1,h=!1;const p=new Hu({Yo:t=>{h?yo(Wu,`Not sending because RPC '${e}' stream ${n} is closed:`,t):(u||(yo(Wu,`Opening RPC '${e}' stream ${n} transport.`),d.open(),u=!0),yo(Wu,`RPC '${e}' stream ${n} sending:`,t),d.send(t))},Zo:()=>d.close()}),m=(e,t,s)=>{e.listen(t,e=>{try{s(e)}catch(t){setTimeout(()=>{throw t},0)}})};return m(d,so.EventType.OPEN,()=>{h||(yo(Wu,`RPC '${e}' stream ${n} transport opened.`),p.o_())}),m(d,so.EventType.CLOSE,()=>{h||(h=!0,yo(Wu,`RPC '${e}' stream ${n} transport closed`),p.a_(),this.E_(d))}),m(d,so.EventType.ERROR,t=>{h||(h=!0,vo(Wu,`RPC '${e}' stream ${n} transport errored. Name:`,t.name,"Message:",t.message),p.a_(new To(jo.UNAVAILABLE,"The operation could not be completed")))}),m(d,so.EventType.MESSAGE,t=>{if(!h){const s=t.data[0];Eo(!!s,16349);const i=s,r=i?.error||i[0]?.error;if(r){yo(Wu,`RPC '${e}' stream ${n} received error:`,r);const t=r.status;let s=function(e){const t=Vd[e];if(void 0!==t)return function(e){if(void 0===e)return xo("GRPC error has no .code"),jo.UNKNOWN;switch(e){case Vd.OK:return jo.OK;case Vd.CANCELLED:return jo.CANCELLED;case Vd.UNKNOWN:return jo.UNKNOWN;case Vd.DEADLINE_EXCEEDED:return jo.DEADLINE_EXCEEDED;case Vd.RESOURCE_EXHAUSTED:return jo.RESOURCE_EXHAUSTED;case Vd.INTERNAL:return jo.INTERNAL;case Vd.UNAVAILABLE:return jo.UNAVAILABLE;case Vd.UNAUTHENTICATED:return jo.UNAUTHENTICATED;case Vd.INVALID_ARGUMENT:return jo.INVALID_ARGUMENT;case Vd.NOT_FOUND:return jo.NOT_FOUND;case Vd.ALREADY_EXISTS:return jo.ALREADY_EXISTS;case Vd.PERMISSION_DENIED:return jo.PERMISSION_DENIED;case Vd.FAILED_PRECONDITION:return jo.FAILED_PRECONDITION;case Vd.ABORTED:return jo.ABORTED;case Vd.OUT_OF_RANGE:return jo.OUT_OF_RANGE;case Vd.UNIMPLEMENTED:return jo.UNIMPLEMENTED;case Vd.DATA_LOSS:return jo.DATA_LOSS;default:return bo(39323,{code:e})}}(t)}(t),i=r.message;void 0===s&&(s=jo.INTERNAL,i="Unknown error status: "+t+" with message "+r.message),h=!0,p.a_(new To(s,i)),d.close()}else yo(Wu,`RPC '${e}' stream ${n} received:`,s),p.u_(s)}}),m(a,ao.STAT_EVENT,t=>{t.stat===ro.PROXY?yo(Wu,`RPC '${e}' stream ${n} detected buffering proxy`):t.stat===ro.NOPROXY&&yo(Wu,`RPC '${e}' stream ${n} detected no buffering proxy`)}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Ku(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(e){return new Fd(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,t,s=1e3,n=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=n,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),n=Math.max(0,t-s);n>0&&yo("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,n,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu="PersistentStream";class Ju{constructor(e,t,s,n,i,r,a,o){this.Mi=e,this.S_=s,this.b_=n,this.connection=i,this.authCredentialsProvider=r,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xu(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===jo.RESOURCE_EXHAUSTED?(xo(t.toString()),xo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===jo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,s])=>{this.D_===t&&this.G_(e,s)},t=>{e(()=>{const e=new To(jo.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{s(()=>this.z_(e))}),this.stream.onMessage(e=>{s(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return yo(Qu,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(yo(Qu,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zu extends Ju{constructor(e,t,s,n,i,r){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,n,r),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Eo(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Eo(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Eo(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Eo(void 0!==t,14353),e.map(e=>function(e,t){let s=e.updateTime?qd(e.updateTime):qd(t);return s.isEqual(rl.min())&&(s=qd(t)),new vd(s,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),s=qd(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=function(e){return new Wo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>function(e,t){let s;if(t instanceof Id)s={update:Yd(e,t.key,t.value)};else if(t instanceof Od)s={delete:Gd(e,t.key)};else if(t instanceof Cd)s={update:Yd(e,t.key,t.data),updateMask:Zd(t.fieldMask)};else{if(!(t instanceof Md))return bo(16599,{Vt:t.type});s={verify:Gd(e,t.key)}}return t.fieldTransforms.length>0&&(s.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const s=t.transform;if(s instanceof ud)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof hd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof md)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof gd)return{fieldPath:t.field.canonicalString(),increment:s.Ae};throw bo(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(s.currentDocument=(n=e,void 0!==(i=t.precondition).updateTime?{updateTime:$d(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:bo(27497))),s;var n,i}(this.serializer,e))};this.q_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{}class th extends eh{constructor(e,t,s,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=n,this.ia=!1}sa(){if(this.ia)throw new To(jo.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,n){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,r])=>this.connection.Go(e,Wd(t,s),n,i,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===jo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new To(jo.UNKNOWN,e.toString())})}Ho(e,t,s,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Ho(e,Wd(t,s),n,r,a,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===jo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new To(jo.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class sh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xo(t),this.aa=!1):yo("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="RemoteStore";class ih{constructor(e,t,s,n,i){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{s.enqueueAndForget(async()=>{oh(this)&&(yo(nh,"Restarting streams for network reachability change."),await async function(e){const t=So(e);t.Ea.add(4),await ah(t),t.Ra.set("Unknown"),t.Ea.delete(4),await rh(t)}(this))})}),this.Ra=new sh(s,n)}}async function rh(e){if(oh(e))for(const t of e.da)await t(!0)}async function ah(e){for(const t of e.da)await t(!1)}function oh(e){return 0===So(e).Ea.size}async function lh(e,t,s){if(!hl(t))throw t;e.Ea.add(1),await ah(e),e.Ra.set("Offline"),s||(s=()=>function(e){const t=So(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{yo(nh,"Retrying IndexedDB access"),await s(),e.Ea.delete(1),await rh(e)})}function ch(e,t){return t().catch(s=>lh(e,s,t))}async function dh(e){const t=So(e),s=wh(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:-1;for(;uh(t);)try{const e=await Mu(t.localStore,n);if(null===e){0===t.Ta.length&&s.L_();break}n=e.batchId,hh(t,e)}catch(i){await lh(t,i)}ph(t)&&mh(t)}function uh(e){return oh(e)&&e.Ta.length<10}function hh(e,t){e.Ta.push(t);const s=wh(e);s.O_()&&s.X_&&s.ea(t.mutations)}function ph(e){return oh(e)&&!wh(e).x_()&&e.Ta.length>0}function mh(e){wh(e).start()}async function fh(e){wh(e).ra()}async function gh(e){const t=wh(e);for(const s of e.Ta)t.ea(s.mutations)}async function yh(e,t,s){const n=e.Ta.shift(),i=Ld.from(n,t,s);await ch(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await dh(e)}async function xh(e,t){t&&wh(e).X_&&await async function(e,t){if(function(e){switch(e){case jo.OK:return bo(64938);case jo.CANCELLED:case jo.UNKNOWN:case jo.DEADLINE_EXCEEDED:case jo.RESOURCE_EXHAUSTED:case jo.INTERNAL:case jo.UNAVAILABLE:case jo.UNAUTHENTICATED:return!1;case jo.INVALID_ARGUMENT:case jo.NOT_FOUND:case jo.ALREADY_EXISTS:case jo.PERMISSION_DENIED:case jo.FAILED_PRECONDITION:case jo.ABORTED:case jo.OUT_OF_RANGE:case jo.UNIMPLEMENTED:case jo.DATA_LOSS:return!0;default:return bo(15467,{code:e})}}(s=t.code)&&s!==jo.ABORTED){const s=e.Ta.shift();wh(e).B_(),await ch(e,()=>e.remoteSyncer.rejectFailedWrite(s.batchId,t)),await dh(e)}var s}(e,t),ph(e)&&mh(e)}async function vh(e,t){const s=So(e);s.asyncQueue.verifyOperationInProgress(),yo(nh,"RemoteStore received new credentials");const n=oh(s);s.Ea.add(3),await ah(s),n&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(t),s.Ea.delete(3),await rh(s)}function wh(e){return e.fa||(e.fa=function(e,t,s){const n=So(e);return n.sa(),new Zu(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,s)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:fh.bind(null,e),r_:xh.bind(null,e),ta:gh.bind(null,e),na:yh.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await dh(e)):(await e.fa.stop(),e.Ta.length>0&&(yo(nh,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class bh{constructor(e,t,s,n,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=n,this.removalCallback=i,this.deferred=new _o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,n,i){const r=Date.now()+s,a=new bh(e,t,r,n,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new To(jo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nh(e,t){if(xo("AsyncQueue",`${t}: ${e}`),hl(e))return new To(jo.UNAVAILABLE,`${t}: ${e}`);throw e}class Eh{constructor(){this.queries=Sh(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const s=So(e),n=s.queries;s.queries=Sh(),n.forEach((e,s)=>{for(const n of s.Sa)n.onError(t)})}(this,new To(jo.ABORTED,"Firestore shutting down"))}}function Sh(){return new Hc(e=>Bc(e),Fc)}var jh,Th;(Th=jh||(jh={})).Ma="default",Th.Cache="cache";class _h{constructor(e,t,s,n,i,r){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=n,this.currentUser=i,this.maxConcurrentLimboResolutions=r,this.Pu={},this.Tu=new Hc(e=>Bc(e),Fc),this.Iu=new Map,this.Eu=new Set,this.du=new bl(Yo.comparator),this.Au=new Map,this.Ru=new vu,this.Vu={},this.mu=new Map,this.fu=ou.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Ih(e,t,s){const n=function(e){const t=So(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ah.bind(null,t),t}(e);try{const e=await function(e,t){const s=So(e),n=il.now(),i=t.reduce((e,t)=>e.add(t.key),sd());let r,a;return s.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Gc(),l=sd();return s.Ns.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>s.localDocuments.getOverlayedDocuments(e,o)).next(i=>{r=i;const a=[];for(const e of t){const t=Td(e,r.get(e.key).overlayedDocument);null!=t&&a.push(new Cd(e.key,t,lc(t.value.mapValue),wd.exists(!0)))}return s.mutationQueue.addMutationBatch(e,n,a,t)}).next(t=>{a=t;const n=t.applyToLocalDocumentSet(r,l);return s.documentOverlayCache.saveOverlays(e,t.batchId,n)})}).then(()=>({batchId:a.batchId,changes:Xc(r)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(e.batchId),function(e,t,s){let n=e.Vu[e.currentUser.toKey()];n||(n=new bl(Vo)),n=n.insert(t,s),e.Vu[e.currentUser.toKey()]=n}(n,e.batchId,s),await Mh(n,e.changes),await dh(n.remoteStore)}catch(i){const e=Nh(i,"Failed to persist write");s.reject(e)}}function Ch(e,t,s){const n=So(e);if(n.isPrimaryClient&&0===s||!n.isPrimaryClient&&1===s){const e=[];n.Tu.forEach((s,n)=>{const i=n.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const s=So(e);s.onlineState=t;let n=!1;s.queries.forEach((e,s)=>{for(const i of s.Sa)i.va(t)&&(n=!0)}),n&&function(e){e.Ca.forEach(e=>{e.next()})}(s)}(n.eventManager,t),e.length&&n.Pu.H_(e),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function kh(e,t){const s=So(e),n=t.batch.batchId;try{const e=await function(e,t){const s=So(e);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const n=t.batch.keys(),i=s.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,s,n){const i=s.batch,r=i.keys();let a=ul.resolve();return r.forEach(e=>{a=a.next(()=>n.getEntry(t,e)).next(t=>{const r=s.docVersions.get(e);Eo(null!==r,48541),t.version.compareTo(r)<0&&(i.applyToRemoteDocument(t,s),t.isValidDocument()&&(t.setReadTime(s.commitVersion),n.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(s,e,t,i).next(()=>i.apply(e)).next(()=>s.mutationQueue.performConsistencyCheck(e)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(e,n,t.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=sd();for(let s=0;s<e.mutationResults.length;++s)e.mutationResults[s].transformResults.length>0&&(t=t.add(e.batch.mutations[s].key));return t}(t))).next(()=>s.localDocuments.getDocuments(e,n))})}(s.localStore,t);Oh(s,n,null),Ph(s,n),s.sharedClientState.updateMutationState(n,"acknowledged"),await Mh(s,e)}catch(i){await dl(i)}}async function Ah(e,t,s){const n=So(e);try{const e=await function(e,t){const s=So(e);return s.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return s.mutationQueue.lookupMutationBatch(e,t).next(t=>(Eo(null!==t,37113),n=t.keys(),s.mutationQueue.removeMutationBatch(e,t))).next(()=>s.mutationQueue.performConsistencyCheck(e)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>s.localDocuments.getDocuments(e,n))})}(n.localStore,t);Oh(n,t,s),Ph(n,t),n.sharedClientState.updateMutationState(t,"rejected",s),await Mh(n,e)}catch(i){await dl(i)}}function Ph(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Oh(e,t,s){const n=So(e);let i=n.Vu[n.currentUser.toKey()];if(i){const e=i.get(t);e&&(s?e.reject(s):e.resolve(),i=i.remove(t)),n.Vu[n.currentUser.toKey()]=i}}async function Mh(e,t,s){const n=So(e),i=[],r=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach((e,o)=>{a.push(n.pu(o,t,s).then(e=>{if((e||s)&&n.isPrimaryClient){const t=e?!e.fromCache:s?.targetChanges.get(o.targetId)?.current;n.sharedClientState.updateQueryState(o.targetId,t?"current":"not-current")}if(e){i.push(e);const t=Cu.As(o.targetId,e);r.push(t)}}))}),await Promise.all(a),n.Pu.H_(i),await async function(e,t){const s=So(e);try{await s.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ul.forEach(t,t=>ul.forEach(t.Es,n=>s.persistence.referenceDelegate.addReference(e,t.targetId,n)).next(()=>ul.forEach(t.ds,n=>s.persistence.referenceDelegate.removeReference(e,t.targetId,n)))))}catch(n){if(!hl(n))throw n;yo("LocalStore","Failed to update sequence numbers: "+n)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=s.Ms.get(e),n=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(n);s.Ms=s.Ms.insert(e,i)}}}(n.localStore,r))}async function Dh(e,t){const s=So(e);if(!s.currentUser.isEqual(t)){yo("SyncEngine","User change. New user:",t.toKey());const e=await Ou(s.localStore,t);s.currentUser=t,i="'waitForPendingWrites' promise is rejected due to a user change.",(n=s).mu.forEach(e=>{e.forEach(e=>{e.reject(new To(jo.CANCELLED,i))})}),n.mu.clear(),s.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Mh(s,e.Ls)}var n,i}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return function(e,t,s,n){return new Pu(e,t,s,n)}(this.persistence,new Au,e.initialUser,this.serializer)}Cu(e){return new ju(_u.mi,this.serializer)}Du(e){return new Lu}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class Rh extends Lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Eo(this.persistence.referenceDelegate instanceof Iu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new uu(s,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?au.withCacheSize(this.cacheSizeBytes):au.DEFAULT;return new ju(e=>Iu.mi(e,t),this.serializer)}}class Vh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ch(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dh.bind(null,this.syncEngine),await async function(e,t){const s=So(e);t?(s.Ea.delete(2),await rh(s)):t||(s.Ea.add(2),await ah(s),s.Ra.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Eh}createDatastore(e){const t=Yu(e.databaseInfo.databaseId),s=(n=e.databaseInfo,new Gu(n));var n;return function(e,t,s,n){return new th(e,t,s,n)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,n=e.asyncQueue,i=e=>Ch(this.syncEngine,e,0),r=Uu.v()?new Uu:new Ru,new ih(t,s,n,i,r);var t,s,n,i,r}createSyncEngine(e,t){return function(e,t,s,n,i,r,a){const o=new _h(e,t,s,n,i,r);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=So(e);yo(nh,"RemoteStore shutting down."),t.Ea.add(5),await ah(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vh.provider={build:()=>new Vh};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Uh="FirestoreClient";class Fh{constructor(e,t,s,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=n,this.user=po.UNAUTHENTICATED,this.clientId=Ro.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async e=>{yo(Uh,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(s,e=>(yo(Uh,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Nh(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Bh(e,t){e.asyncQueue.verifyOperationInProgress(),yo(Uh,"Initializing OfflineComponentProvider");const s=e.configuration;await t.initialize(s);let n=s.initialUser;e.setCredentialChangeListener(async e=>{n.isEqual(e)||(await Ou(t.localStore,e),n=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function zh(e,t){e.asyncQueue.verifyOperationInProgress();const s=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){yo(Uh,"Using user provided OfflineComponentProvider");try{await Bh(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!("FirebaseError"===(s=i).name?s.code===jo.FAILED_PRECONDITION||s.code===jo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw i;vo("Error using user provided cache. Falling back to memory cache: "+i),await Bh(e,new Lh)}}else yo(Uh,"Using default OfflineComponentProvider"),await Bh(e,new Rh(void 0));var s;return e._offlineComponents}(e);yo(Uh,"Initializing OnlineComponentProvider"),await t.initialize(s,e.configuration),e.setCredentialChangeListener(e=>vh(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,s)=>vh(t.remoteStore,s)),e._onlineComponents=t}function $h(e){return async function(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(yo(Uh,"Using user provided OnlineComponentProvider"),await zh(e,e._uninitializedComponentsProvider._online)):(yo(Uh,"Using default OnlineComponentProvider"),await zh(e,new Vh))),e._onlineComponents}(e).then(e=>e.syncEngine)}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Hh=new Map,Wh="firestore.googleapis.com",Gh=!0;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new To(jo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wh,this.ssl=Gh}else this.host=e.host,this.ssl=e.ssl??Gh;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=ru;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new To(jo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,s,n){if(!0===t&&!0===n)throw new To(jo.INVALID_ARGUMENT,`${e} and ${s} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qh(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new To(jo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new To(jo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new To(jo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,t.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,s}}class Yh{constructor(e,t,s,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new To(jo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new To(jo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kh(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Co;switch(e.type){case"firstParty":return new Oo(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new To(jo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Hh.get(e);t&&(yo("ComponentProvider","Removing Datastore"),Hh.delete(e),t.terminate())}(this),Promise.resolve()}}function Xh(e,t,s,n={}){e=Zo(e,Yh);const i=Xt(t),r=e._getSettings(),a={...r,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${s}`;i&&(Qt(`https://${o}`),es("Firestore",!0)),r.host!==Wh&&r.host!==o&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...r,host:o,ssl:i,emulatorOptions:n};if(!cs(l,a)&&(e._setSettings(l),n.mockUserToken)){let t,s;if("string"==typeof n.mockUserToken)t=n.mockUserToken,s=po.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s=t||"demo-project",n=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r={iss:`https://securetoken.google.com/${s}`,aud:s,iat:n,exp:n+3600,auth_time:n,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[zt(JSON.stringify({alg:"none",type:"JWT"})),zt(JSON.stringify(r)),""].join(".")}(n.mockUserToken,e._app?.options.projectId);const i=n.mockUserToken.sub||n.mockUserToken.user_id;if(!i)throw new To(jo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new po(i)}e._authCredentials=new ko(new Io(t,s))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Qh(this.firestore,e,this._query)}}class Jh{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jh(this.firestore,e,this._key)}toJSON(){return{type:Jh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(tl(t,Jh._jsonSchema))return new Jh(e,s||null,new Yo(Wo.fromString(t.referencePath)))}}Jh._jsonSchemaVersion="firestore/documentReference/1.0",Jh._jsonSchema={type:el("string",Jh._jsonSchemaVersion),referencePath:el("string")};class Zh extends Qh{constructor(e,t,s){super(e,t,function(e){return new Dc(e)}(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jh(this.firestore,null,new Yo(e))}withConverter(e){return new Zh(this.firestore,e,this._path)}}function ep(e,t,...s){if(e=ys(e),1===arguments.length&&(t=Ro.newId()),function(e,t,s){if(!s)throw new To(jo.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}("doc","path",t),e instanceof Yh){const n=Wo.fromString(t,...s);return Xo(n),new Jh(e,null,new Yo(n))}{if(!(e instanceof Jh||e instanceof Zh))throw new To(jo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Wo.fromString(t,...s));return Xo(n),new Jh(e.firestore,e instanceof Zh?e.converter:null,new Yo(n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="AsyncQueue";class sp{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xu(this,"async_queue_retry"),this._c=()=>{const e=Ku();e&&yo(tp,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Ku();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ku();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new _o;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;yo(tp,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,xo("INTERNAL UNHANDLED ERROR: ",np(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const n=bh.createAndSchedule(this,e,t,s,e=>this.hc(e));return this.tc.push(n),n}uc(){this.nc&&bo(47125,{Pc:np(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function np(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class ip extends Yh{constructor(e,t,s,n){super(e,t,s,n),this.type="firestore",this._queue=new sp,this._persistenceKey=n?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sp(e),this._firestoreClient=void 0,await e}}}function rp(e){if(e._terminated)throw new To(jo.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){const t=e._freezeSettings(),s=(n=e._databaseId,i=e._app?.options.appId||"",r=e._persistenceKey,a=t,new Fl(n,i,r,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,qh(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator));var n,i,r,a;e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Fh(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),e._firestoreClient}class ap{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ap(Il.fromBase64String(e))}catch(t){throw new To(jo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ap(Il.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ap._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tl(e,ap._jsonSchema))return ap.fromBase64String(e.bytes)}}ap._jsonSchemaVersion="firestore/bytes/1.0",ap._jsonSchema={type:el("string",ap._jsonSchemaVersion),bytes:el("string")};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class op{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new To(jo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ko(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new To(jo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new To(jo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vo(this._lat,e._lat)||Vo(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cp._jsonSchemaVersion}}static fromJSON(e){if(tl(e,cp._jsonSchema))return new cp(e.latitude,e.longitude)}}cp._jsonSchemaVersion="firestore/geoPoint/1.0",cp._jsonSchema={type:el("string",cp._jsonSchemaVersion),latitude:el("number"),longitude:el("number")};
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class dp{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length;++s)if(e[s]!==t[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:dp._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tl(e,dp._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new dp(e.vectorValues);throw new To(jo.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}dp._jsonSchemaVersion="firestore/vectorValue/1.0",dp._jsonSchema={type:el("string",dp._jsonSchemaVersion),vectorValues:el("object")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const up=/^__.*__$/;class hp{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Cd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Id(e,this.data,t,this.fieldTransforms)}}function pp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bo(40011,{Ac:e})}}class mp{constructor(e,t,s,n,i,r){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=n,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=r||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(pp(this.Ac)&&up.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fp{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Yu(e)}Cc(e,t,s,n=!1){return new mp({Ac:e,methodName:t,Dc:s,path:Ko.emptyPath(),fc:!1,bc:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gp(e){const t=e._freezeSettings(),s=Yu(e._databaseId);return new fp(e._databaseId,!!t.ignoreUndefinedProperties,s)}function yp(e,t,s,n,i,r={}){const a=e.Cc(r.merge||r.mergeFields?2:0,t,s,i);bp("Data must be an object, but it was:",a,n);const o=vp(n,a);let l,c;if(r.merge)l=new Tl(a.fieldMask),c=a.fieldTransforms;else if(r.mergeFields){const e=[];for(const n of r.mergeFields){const i=Np(t,n,s);if(!a.contains(i))throw new To(jo.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Tp(e,i)||e.push(i)}l=new Tl(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new hp(new oc(o),l,c)}function xp(e,t){if(wp(e=ys(e)))return bp("Unsupported field value:",t,e),vp(e,t);if(e instanceof lp)return function(e,t){if(!pp(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const s=e._toFieldTransform(t);s&&t.fieldTransforms.push(s)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const s=[];let n=0;for(const i of e){let e=xp(i,t.wc(n));null==e&&(e={nullValue:"NULL_VALUE"}),s.push(e),n++}return{arrayValue:{values:s}}}(e,t)}return function(e,t){if(null===(e=ys(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ad(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const s=il.fromDate(e);return{timestampValue:Bd(t.serializer,s)}}if(e instanceof il){const s=new il(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Bd(t.serializer,s)}}if(e instanceof cp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ap)return{bytesValue:zd(t.serializer,e._byteString)};if(e instanceof Jh){const s=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(s))throw t.Sc(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Hd(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof dp)return s=e,n=t,{mapValue:{fields:{[$l]:{stringValue:Wl},[Gl]:{arrayValue:{values:s.toArray().map(e=>{if("number"!=typeof e)throw n.Sc("VectorValues must only contain numeric values.");return id(n.serializer,e)})}}}}};var s,n;throw t.Sc(`Unsupported field value: ${Jo(e)}`)}(e,t)}function vp(e,t){const s={};return wl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vl(e,(e,n)=>{const i=xp(n,t.mc(e));null!=i&&(s[e]=i)}),{mapValue:{fields:s}}}function wp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof il||e instanceof cp||e instanceof ap||e instanceof Jh||e instanceof lp||e instanceof dp)}function bp(e,t,s){if(!wp(s)||!Qo(s)){const n=Jo(s);throw"an object"===n?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function Np(e,t,s){if((t=ys(t))instanceof op)return t._internalPath;if("string"==typeof t)return Sp(e,t);throw jp("Field path arguments must be of type string or ",e,!1,void 0,s)}const Ep=new RegExp("[~\\*/\\[\\]]");function Sp(e,t,s){if(t.search(Ep)>=0)throw jp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,s);try{return new op(...t.split("."))._internalPath}catch(n){throw jp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,s)}}function jp(e,t,s,n,i){const r=n&&!n.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;s&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(r||a)&&(l+=" (found",r&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new To(jo.INVALID_ARGUMENT,o+e+l)}function Tp(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t,s,n,i){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=n,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Jh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ip(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ip extends _p{data(){return super.data()}}function Cp(e,t){return"string"==typeof t?Sp(e,t):t instanceof op?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ap extends _p{constructor(e,t,s,n,i,r){super(e,t,s,n,r),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Cp("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new To(jo.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ap._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Ap._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ap._jsonSchema={type:el("string",Ap._jsonSchemaVersion),bundleSource:el("string","DocumentSnapshot"),bundleName:el("string"),bundle:el("string")};class Pp extends Ap{data(e={}){return super.data(e)}}class Op{constructor(e,t,s,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new kp(n.hasPendingWrites,n.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Pp(this._firestore,this._userDataWriter,s.key,s,new kp(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new To(jo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(s=>{const n=new Pp(e._firestore,e._userDataWriter,s.doc.key,s.doc,new kp(e._snapshot.mutatedKeys.has(s.doc.key),e._snapshot.fromCache),e.query.converter);return s.doc,{type:"added",doc:n,oldIndex:-1,newIndex:t++}})}{let s=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const n=new Pp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,r=-1;return 0!==t.type&&(i=s.indexOf(t.doc.key),s=s.delete(t.doc.key)),1!==t.type&&(s=s.add(t.doc),r=s.indexOf(t.doc.key)),{type:Mp(t.type),doc:n,oldIndex:i,newIndex:r}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new To(jo.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Op._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ro.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],n=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),s.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),n.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Mp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bo(61501,{type:e})}}function Dp(e,t,s){e=Zo(e,Jh);const n=Zo(e.firestore,ip),i=function(e,t){let s;return s=e?e.toFirestore(t):t,s}(e.converter,t);return function(e,t){return function(e,t){const s=new _o;return e.asyncQueue.enqueueAndForget(async()=>Ih(await $h(e),t,s)),s.promise}(rp(e),t)}(n,[yp(gp(n),"setDoc",e._key,i,null!==e.converter,s).toMutation(e._key,wd.none())])}Op._jsonSchemaVersion="firestore/querySnapshot/1.0",Op._jsonSchema={type:el("string",Op._jsonSchemaVersion),bundleSource:el("string","QuerySnapshot"),bundleName:el("string"),bundle:el("string")},function(e,t=!0){mo=Mn,Cn(new xs("firestore",(e,{instanceIdentifier:s,options:n})=>{const i=e.getProvider("app").getImmediate(),r=new ip(new Ao(e.getProvider("auth-internal")),new Do(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new To(jo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(e.options.projectId,t)}(i,s),i);return n={useFetchStreams:t,...n},r._setSettings(n),r},"PUBLIC").setMultipleInstances(!0)),Rn(uo,ho,e),Rn(uo,ho,"esm2020")}();const Lp="@firebase/installations",Rp="0.6.19",Vp=1e4,Up=`w:${Rp}`,Fp="FIS_v2",Bp=36e5,zp=new os("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $p(e){return e instanceof as&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function Hp(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Wp(e,t){const s=(await t.json()).error;return zp.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Gp({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Kp(e,{refreshToken:t}){const s=Gp(e);return s.append("Authorization",function(e){return`${Fp} ${e}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)),s}async function Yp(e){const t=await e();return t.status>=500&&t.status<600?e():t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Xp(e){return new Promise(t=>{setTimeout(t,e)})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Qp=/^[cdef][\w-]{21}$/;function Jp(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(s=e,btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_"));var s;return t.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return Qp.test(t)?t:""}catch{return""}}function Zp(e){return`${e.appName}!${e.appId}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new Map;function tm(e,t){const s=Zp(e);sm(s,t),function(e,t){const s=function(){!nm&&"BroadcastChannel"in self&&(nm=new BroadcastChannel("[Firebase] FID Change"),nm.onmessage=e=>{sm(e.data.key,e.data.fid)});return nm}();s&&s.postMessage({key:e,fid:t});0===em.size&&nm&&(nm.close(),nm=null)}(s,t)}function sm(e,t){const s=em.get(e);if(s)for(const n of s)n(t)}let nm=null;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const im="firebase-installations-store";let rm=null;function am(){return rm||(rm=Bs("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(im)}})),rm}async function om(e,t){const s=Zp(e),n=(await am()).transaction(im,"readwrite"),i=n.objectStore(im),r=await i.get(s);return await i.put(t,s),await n.done,r&&r.fid===t.fid||tm(e,t.fid),t}async function lm(e){const t=Zp(e),s=(await am()).transaction(im,"readwrite");await s.objectStore(im).delete(t),await s.done}async function cm(e,t){const s=Zp(e),n=(await am()).transaction(im,"readwrite"),i=n.objectStore(im),r=await i.get(s),a=t(r);return void 0===a?await i.delete(s):await i.put(a,s),await n.done,!a||r&&r.fid===a.fid||tm(e,a.fid),a}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(e){let t;const s=await cm(e.appConfig,s=>{const n=function(e){const t=e||{fid:Jp(),registrationStatus:0};return pm(t)}(s),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(zp.create("app-offline"))}}const s={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=async function(e,t){try{const s=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:s}){const n=qp(e),i=Gp(e),r=t.getImmediate({optional:!0});if(r){const e=await r.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const a={fid:s,authVersion:Fp,appId:e.appId,sdkVersion:Up},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await Yp(()=>fetch(n,o));if(l.ok){const e=await l.json();return{fid:e.fid||s,registrationStatus:2,refreshToken:e.refreshToken,authToken:Hp(e.authToken)}}throw await Wp("Create Installation",l)}(e,t);return om(e.appConfig,s)}catch(s){throw $p(s)&&409===s.customData.serverCode?await lm(e.appConfig):await om(e.appConfig,{fid:t.fid,registrationStatus:0}),s}}(e,s);return{installationEntry:s,registrationPromise:n}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:um(e)}:{installationEntry:t}}(e,n);return t=i.registrationPromise,i.installationEntry});return""===s.fid?{installationEntry:await t}:{installationEntry:s,registrationPromise:t}}async function um(e){let t=await hm(e.appConfig);for(;1===t.registrationStatus;)await Xp(100),t=await hm(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:s}=await dm(e);return s||t}return t}function hm(e){return cm(e,e=>{if(!e)throw zp.create("installation-not-found");return pm(e)})}function pm(e){return 1===(t=e).registrationStatus&&t.registrationTime+Vp<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}async function mm({appConfig:e,heartbeatServiceProvider:t},s){const n=function(e,{fid:t}){return`${qp(e)}/${t}/authTokens:generate`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,s),i=Kp(e,s),r=t.getImmediate({optional:!0});if(r){const e=await r.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const a={installation:{sdkVersion:Up,appId:e.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await Yp(()=>fetch(n,o));if(l.ok){return Hp(await l.json())}throw await Wp("Generate Auth Token",l)}async function fm(e,t=!1){let s;const n=await cm(e.appConfig,n=>{if(!ym(n))throw zp.create("not-registered");const i=n.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Bp}(e)}(i))return n;if(1===i.requestStatus)return s=async function(e,t){let s=await gm(e.appConfig);for(;1===s.authToken.requestStatus;)await Xp(100),s=await gm(e.appConfig);const n=s.authToken;return 0===n.requestStatus?fm(e,t):n}(e,t),n;{if(!navigator.onLine)throw zp.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}(n);return s=async function(e,t){try{const s=await mm(e,t),n={...t,authToken:s};return await om(e.appConfig,n),s}catch(s){if(!$p(s)||401!==s.customData.serverCode&&404!==s.customData.serverCode){const s={...t,authToken:{requestStatus:0}};await om(e.appConfig,s)}else await lm(e.appConfig);throw s}}(e,t),t}});return s?await s:n.authToken}function gm(e){return cm(e,e=>{if(!ym(e))throw zp.create("not-registered");const t=e.authToken;return 1===(s=t).requestStatus&&s.requestTime+Vp<Date.now()?{...e,authToken:{requestStatus:0}}:e;var s;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */})}function ym(e){return void 0!==e&&2===e.registrationStatus}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function xm(e,t=!1){const s=e;await async function(e){const{registrationPromise:t}=await dm(e);t&&await t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(s);return(await fm(s,t)).token}function vm(e){return zp.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="installations",bm=e=>{const t=kn(e.getProvider("app").getImmediate(),wm).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:s,registrationPromise:n}=await dm(t);return n?n.catch(console.error):fm(t).catch(console.error),s.fid}(t),getToken:e=>xm(t,e)}};Cn(new xs(wm,e=>{const t=e.getProvider("app").getImmediate(),s=function(e){if(!e||!e.options)throw vm("App Configuration");if(!e.name)throw vm("App Name");const t=["projectId","apiKey","appId"];for(const s of t)if(!e.options[s])throw vm(s);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:s,heartbeatServiceProvider:kn(t,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),Cn(new xs("installations-internal",bm,"PRIVATE")),Rn(Lp,Rp),Rn(Lp,Rp,"esm2020");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Nm="analytics",Em="https://www.googletagmanager.com/gtag/js",Sm=new Is("@firebase/analytics"),jm=new os("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Tm(e){if(!e.startsWith(Em)){const t=jm.create("invalid-gtag-resource",{gtagURL:e});return Sm.warn(t.message),""}return e}function _m(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Im(e,t){const s=function(e,t){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(e,t)),s}("firebase-js-sdk-policy",{createScriptURL:Tm}),n=document.createElement("script"),i=`${Em}?l=${e}&id=${t}`;n.src=s?s?.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function Cm(e,t,s,n){return async function(i,...r){try{if("event"===i){const[n,i]=r;await async function(e,t,s,n,i){try{let r=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const n=await _m(s);for(const s of e){const e=n.find(e=>e.measurementId===s),i=e&&t[e.appId];if(!i){r=[];break}r.push(i)}}0===r.length&&(r=Object.values(t)),await Promise.all(r),e("event",n,i||{})}catch(r){Sm.error(r)}}(e,t,s,n,i)}else if("config"===i){const[i,a]=r;await async function(e,t,s,n,i,r){const a=n[i];try{if(a)await t[a];else{const e=(await _m(s)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(o){Sm.error(o)}e("config",i,r)}(e,t,s,n,i,a)}else if("consent"===i){const[t,s]=r;e("consent",t,s)}else if("get"===i){const[t,s,n]=r;e("get",t,s,n)}else if("set"===i){const[t]=r;e("set",t)}else e(i,...r)}catch(a){Sm.error(a)}}}const km=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Am(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Pm(e,t=km,s){const{appId:n,apiKey:i,measurementId:r}=e.options;if(!n)throw jm.create("no-app-id");if(!i){if(r)return{measurementId:r,appId:n};throw jm.create("no-api-key")}const a=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Mm;return setTimeout(async()=>{o.abort()},6e4),Om({appId:n,apiKey:i,measurementId:r},a,o,t)}async function Om(e,{throttleEndTimeMillis:t,backoffCount:s},n,i=km){const{appId:r,measurementId:a}=e;try{await function(e,t){return new Promise((s,n)=>{const i=Math.max(t-Date.now(),0),r=setTimeout(s,i);e.addEventListener(()=>{clearTimeout(r),n(jm.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,t)}catch(o){if(a)return Sm.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${o?.message}]`),{appId:r,measurementId:a};throw o}try{const t=await async function(e){const{appId:t,apiKey:s}=e,n={method:"GET",headers:Am(s)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),r=await fetch(i,n);if(200!==r.status&&304!==r.status){let e="";try{const t=await r.json();t.error?.message&&(e=t.error.message)}catch(a){}throw jm.create("config-fetch-failed",{httpStatus:r.status,responseMessage:e})}return r.json()}(e);return i.deleteThrottleMetadata(r),t}catch(o){const t=o;if(!function(e){if(!(e instanceof as&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(i.deleteThrottleMetadata(r),a)return Sm.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${t?.message}]`),{appId:r,measurementId:a};throw o}const l=503===Number(t?.customData?.httpStatus)?gs(s,i.intervalMillis,30):gs(s,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:s+1};return i.setThrottleMetadata(r,c),Sm.debug(`Calling attemptFetch again in ${l} millis`),Om(e,c,n,i)}}class Mm{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Dm(e,t,s,n,i,r,a){const o=Pm(e);o.then(t=>{s[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Sm.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Sm.error(e)),t.push(o);const l=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(){if(!is())return Sm.warn(jm.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await rs()}catch(e){return Sm.warn(jm.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}return!0}().then(e=>e?n.getId():void 0),[c,d]=await Promise.all([o,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const s of Object.values(t))if(s.src&&s.src.includes(Em)&&s.src.includes(e))return s;return null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(r)||Im(r,c.measurementId),i("js",new Date);const u=a?.config??{};return u.origin="firebase",u.update=!0,null!=d&&(u.firebase_id=d),i("config",c.measurementId,u),c.measurementId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this.app=e}_delete(){return delete Rm[this.app.options.appId],Promise.resolve()}}let Rm={},Vm=[];const Um={};let Fm,Bm,zm="dataLayer",$m=!1;function qm(){const e=[];if(ss()&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),s=jm.create("invalid-analytics-context",{errorInfo:t});Sm.warn(s.message)}}function Hm(e,t,s){qm();const n=e.options.appId;if(!n)throw jm.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw jm.create("no-api-key");Sm.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Rm[n])throw jm.create("already-exists",{id:n});if(!$m){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(zm);const{wrappedGtag:e,gtagCore:t}=function(e,t,s,n,i){let r=function(...e){window[n].push(arguments)};return window[i]&&"function"==typeof window[i]&&(r=window[i]),window[i]=Cm(r,e,t,s),{gtagCore:r,wrappedGtag:window[i]}}(Rm,Vm,Um,zm,"gtag");Bm=e,Fm=t,$m=!0}Rm[n]=Dm(e,Vm,Um,t,Fm,zm,s);return new Lm(e)}const Wm="@firebase/analytics",Gm="0.10.18";Cn(new xs(Nm,(e,{options:t})=>Hm(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Cn(new xs("analytics-internal",function(e){try{const t=e.getProvider(Nm).getImmediate();return{logEvent:(e,s,n)=>function(e,t,s,n){e=ys(e),async function(e,t,s,n,i){if(i&&i.global)e("event",s,n);else{const i=await t;e("event",s,{...n,send_to:i})}}(Bm,Rm[e.app.options.appId],t,s,n).catch(e=>Sm.error(e))}(t,e,s,n)}}catch(t){throw jm.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Rn(Wm,Gm),Rn(Wm,Gm,"esm2020");const Km=Dn({apiKey:"AIzaSyCTrU2IATfepLZ7tjn5HVSWW6PKKPpcRgg",authDomain:"svasam-a94e1.firebaseapp.com",projectId:"svasam-a94e1",storageBucket:"svasam-a94e1.firebasestorage.app",messagingSenderId:"857788126873",appId:"1:857788126873:web:dea096fcd1f7b9f1978a08",measurementId:"G-QW8YP54GS3"}),Ym=function(e=Ln()){const t=kn(e,"auth");if(t.isInitialized())return t.getImmediate();const s=function(e,t){const s=kn(e,"auth");if(s.isInitialized()){const e=s.getImmediate();if(cs(s.getOptions(),t??{}))return e;Zn(e,"already-initialized")}return s.initialize({options:t})}(e,{popupRedirectResolver:Wa,persistence:[ca,Wr,Kr]}),n=Kt("authTokenSyncURL");if(n&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(n,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),s=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>Xa)return;const n=t?.token;Qa!==n&&(Qa=n,await fetch(i,{method:n?"POST":"DELETE",headers:n?{Authorization:`Bearer ${n}`}:{}}))});!function(e,t,s){ys(e).beforeAuthStateChanged(t,s)}(s,t,()=>t(s.currentUser)),function(e,t,s,n){ys(e).onIdTokenChanged(t,s,n)}(s,e=>t(e))}}var i;const r=Wt("auth");return r&&gr(s,`http://${r}`),s}(Km),Xm=function(e){const t="object"==typeof e?e:Ln(),s="string"==typeof e?e:Bl,n=kn(t,"firestore").getImmediate({identifier:s});if(!n._initialized){const e=(e=>{const t=Wt(e);if(!t)return;const s=t.lastIndexOf(":");if(s<=0||s+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(s+1),10);return"["===t[0]?[t.substring(1,s-1),n]:[t.substring(0,s),n]})("firestore");e&&Xh(n,...e)}return n}(Km);!function(e=Ln()){const t=kn(e=ys(e),Nm);t.isInitialized()?t.getImmediate():function(e,t={}){const s=kn(e,Nm);if(s.isInitialized()){const e=s.getImmediate();if(cs(t,s.getOptions()))return e;throw jm.create("already-initialized")}const n=s.initialize({options:t})}(e)}(Km);const Qm=async(e,t,s,n)=>{try{console.log("Starting signup process for:",t);const a=await async function(e,t,s){if(An(e.app))return Promise.reject(si(e));const n=ar(e),i=fr(n,{returnSecureToken:!0,email:t,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mr),r=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Fr(e),t}),a=await Dr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(a.user),a}(Ym,t,s),o=a.user;console.log("User created in Auth:",o.uid);try{await zr(o,{displayName:e}),console.log("User profile updated with display name");const s={uid:o.uid,name:e,email:t,mobile:n,createdAt:(new Date).toISOString(),role:"user",emailVerified:o.emailVerified};return await Dp(ep(Xm,"users",o.uid),s),console.log("User data saved to Firestore"),{success:!0,user:{uid:o.uid,email:o.email,displayName:e,...s}}}catch(i){console.error("Error in user setup:",i);try{await o.delete(),console.log("Cleaned up auth user due to failure")}catch(r){console.error("Error cleaning up auth user:",r)}throw i}}catch(a){return console.error("Signup error:",{code:a.code,message:a.message,name:a.name,stack:a.stack}),{success:!1,error:a.code||"auth/unknown-error",message:a.message}}},Jm=async e=>{try{return await async function(e,t){const s=ar(e),n={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};await fr(s,n,"getOobCode",Nr)}(Ym,e),{success:!0}}catch(t){return{success:!1,error:t.message}}};function Zm(){const[e,t]=n.useState({email:"",password:""}),[s,a]=n.useState({}),[o,l]=n.useState(!1),c=i(),d=e=>{const{name:n,value:i}=e.target;t(e=>({...e,[n]:i})),s[n]&&a(e=>({...e,[n]:null}))};return x.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[x.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-main",children:"Sign in to your account"}),x.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",x.jsx(r,{to:"/signup",className:"font-medium text-accent hover:text-main",children:"create a new account"})]})]}),x.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:x.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[x.jsxs("form",{className:"space-y-6",onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email is invalid"):t.email="Email is required",e.password||(t.password="Password is required"),a(t),0===Object.keys(t).length})()){l(!0),a({});try{const{email:t,password:s}=e,n=await(async(e,t)=>{try{return{success:!0,user:(await Br(Ym,e,t)).user}}catch(s){return{success:!1,error:s.message}}})(t,s);if(n.success)c("/");else{let e="Login failed. Please check your email and password.";n.error.includes("auth/user-not-found")?e="No account found with this email.":n.error.includes("auth/wrong-password")?e="Incorrect password. Please try again.":n.error.includes("auth/too-many-requests")?e="Too many failed attempts. Please try again later.":n.error.includes("auth/user-disabled")&&(e="This account has been disabled. Please contact support."),a({submit:e})}}catch(s){console.error("Login failed:",s),a({submit:"An unexpected error occurred. Please try again."})}finally{l(!1)}}},children:[s.submit&&x.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm",children:s.submit}),x.jsxs("div",{children:[x.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:["Email address ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsxs("div",{className:"mt-1",children:[x.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:d,className:`appearance-none block w-full px-3 py-2 border ${s.email?"border-red-500":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-main focus:border-main sm:text-sm`}),s.email&&x.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email})]})]}),x.jsxs("div",{children:[x.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:["Password ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsxs("div",{className:"mt-1",children:[x.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:e.password,onChange:d,className:`appearance-none block w-full px-3 py-2 border ${s.password?"border-red-500":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-main focus:border-main sm:text-sm`}),s.password&&x.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password})]})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-main focus:ring-main border-gray-300 rounded"}),x.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx(r,{to:"/signup",className:"font-medium text-main hover:text-main-dark",children:"Don't have an account? Sign up"}),x.jsx(r,{to:"/reset-password",className:"font-medium text-gray-600 hover:text-gray-500",children:"Forgot password?"})]})]}),x.jsx("div",{children:x.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-main hover:bg-accent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-main",children:o?"Signing in...":"Sign in"})})]}),x.jsxs("div",{className:"mt-6",children:[x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-gray-300"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),x.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[x.jsx("div",{children:x.jsxs("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[x.jsx("span",{className:"sr-only",children:"Sign in with Google"}),x.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:x.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"})})]})}),x.jsx("div",{children:x.jsxs("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[x.jsx("span",{className:"sr-only",children:"Sign in with Facebook"}),x.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:x.jsx("path",{fillRule:"evenodd",d:"M20 10c0-5.523-4.477-10-10-10S0 4.477 0 10c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V10h2.54V7.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V10h2.773l-.443 2.89h-2.33v6.988C16.343 19.128 20 14.991 20 10z",clipRule:"evenodd"})})]})})]})]})]})})]})}const ef=({label:e,type:t="text",name:s,placeholder:n,required:i=!0,value:r,onChange:a,error:o,...l})=>x.jsxs("div",{className:"mb-4",children:[x.jsxs("label",{htmlFor:s,className:"block text-sm font-medium text-gray-700 mb-1",children:[e," ",i&&x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{type:t,id:s,name:s,value:r,onChange:a,placeholder:n,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-main focus:border-transparent "+(o?"border-red-500":"border-gray-300"),...l}),o&&x.jsx("p",{className:"mt-1 text-sm text-red-600",children:o})]});function tf(){const e=i(),[t,s]=n.useState({name:"",email:"",mobile:"",password:"",confirmPassword:""}),[a,o]=n.useState({}),[l,c]=n.useState(!1),[d,u]=n.useState(!1),h=e=>{const{name:n,value:i}=e.target;s({...t,[n]:i}),a[n]&&o({...a,[n]:null})};return d?x.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:x.jsxs("div",{className:"max-w-md mx-auto bg-white p-8 rounded-xl shadow-md text-center",children:[x.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:x.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),x.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Created Successfully!"}),x.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been created successfully."}),x.jsx("p",{className:"text-gray-500 text-sm",children:"Redirecting you to the home page..."})]})}):x.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:x.jsxs("div",{className:"max-w-md mx-auto bg-white p-8 rounded-xl shadow-md",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create an account"}),x.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Already have an account?"," ",x.jsx(r,{to:"/login",className:"font-medium text-main hover:text-main-dark",children:"Sign in"})]})]}),a.form&&x.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm",children:a.form}),x.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),(()=>{const e={};return t.name.trim()||(e.name="Name is required"),t.email?/\S+@\S+\.\S+/.test(t.email)||(e.email="Email is invalid"):e.email="Email is required",t.mobile?/^[0-9]{10}$/.test(t.mobile)||(e.mobile="Please enter a valid 10-digit mobile number"):e.mobile="Mobile number is required",t.password?t.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",t.password!==t.confirmPassword&&(e.confirmPassword="Passwords do not match"),o(e),0===Object.keys(e).length})()){c(!0);try{const{name:s,email:n,password:i,mobile:r}=t;console.log("Attempting to sign up with:",{name:s,email:n,mobile:r||"not provided"});const l=await Qm(s,n,i,r);if(console.log("Signup result:",l),l.success)u(!0),setTimeout(()=>{e("/login")},2e3);else{let e="Signup failed. Please try again.";l.error.includes("auth/email-already-in-use")?e="An account with this email already exists.":l.error.includes("auth/weak-password")?e="Password should be at least 6 characters.":l.error.includes("auth/invalid-email")&&(e="Please enter a valid email address."),o({...a,form:e})}}catch(n){console.error("Signup failed:",n),o({submit:"Signup failed. Please try again."})}finally{c(!1)}}},className:"space-y-4",children:[x.jsx(ef,{label:"Full Name",name:"name",value:t.name,onChange:h,placeholder:"John Doe",error:a.name}),x.jsx(ef,{label:"Email address",name:"email",type:"email",value:t.email,onChange:h,placeholder:"you@example.com",error:a.email}),x.jsxs("div",{className:"mb-4",children:[x.jsxs("label",{htmlFor:"mobile",className:"block text-sm font-medium text-gray-700 mb-1",children:["Mobile Number ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:"+91"}),x.jsx("input",{type:"tel",id:"mobile",name:"mobile",value:t.mobile,onChange:h,placeholder:"9876543210",maxLength:"10",className:"flex-1 min-w-0 block w-full px-4 py-2 rounded-r-lg border border-l-0 focus:ring-2 focus:ring-main focus:border-transparent "+(a.mobile?"border-red-500":"border-gray-300")})]}),a.mobile&&x.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.mobile})]}),x.jsx(ef,{label:"Password",name:"password",type:"password",value:t.password,onChange:h,placeholder:"",error:a.password}),x.jsx(ef,{label:"Confirm Password",name:"confirmPassword",type:"password",value:t.confirmPassword,onChange:h,placeholder:"",error:a.confirmPassword}),x.jsx("div",{children:x.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-main hover:bg-accent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-main disabled:opacity-50",children:l?"Creating Account...":"Create Account"})})]}),x.jsxs("div",{className:"mt-6",children:[x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-gray-300"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),x.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[x.jsx("div",{children:x.jsxs("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[x.jsx("span",{className:"sr-only",children:"Sign in with Google"}),x.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:x.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"})})]})}),x.jsx("div",{children:x.jsxs("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[x.jsx("span",{className:"sr-only",children:"Sign in with Facebook"}),x.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:x.jsx("path",{fillRule:"evenodd",d:"M20 10c0-5.523-4.477-10-10-10S0 4.477 0 10c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V10h2.54V7.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V10h2.773l-.443 2.89h-2.33v6.988C16.343 19.128 20 14.991 20 10z",clipRule:"evenodd"})})]})})]})]})]})})}const sf=()=>{const[e,t]=n.useState(""),[s,a]=n.useState(""),[o,l]=n.useState(""),[c,d]=n.useState(!1);i();return x.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[x.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-main",children:"Reset Your Password"}),x.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})]}),x.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:x.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[s&&x.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 text-green-700 rounded-md",children:s}),o&&x.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 text-red-700 rounded-md",children:o}),x.jsxs("form",{className:"space-y-6",onSubmit:async t=>{if(t.preventDefault(),e)if(/\S+@\S+\.\S+/.test(e)){d(!0),l(""),a("");try{const t=await Jm(e);t.success?a("Password reset email sent! Please check your inbox."):l(t.error||"Failed to send password reset email. Please try again.")}catch(s){console.error("Password reset error:",s),l("An error occurred. Please try again later.")}finally{d(!1)}}else l("Please enter a valid email address");else l("Please enter your email address")},children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),x.jsx("div",{className:"mt-1",children:x.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-main focus:border-main sm:text-sm",placeholder:"you@example.com"})})]}),x.jsx("div",{children:x.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-main hover:bg-main-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-main disabled:opacity-50",children:c?"Sending...":"Send Reset Link"})})]}),x.jsxs("div",{className:"mt-6",children:[x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-gray-300"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Remember your password?"})})]}),x.jsx("div",{className:"mt-6 text-center",children:x.jsx(r,{to:"/login",className:"font-medium text-main hover:text-main-dark",children:"Back to Sign in"})})]})]})})]})};function nf(){return x.jsx("div",{className:"min-h-screen w-full bg-pink-50",children:x.jsxs("div",{className:"max-w-4xl mx-auto py-16 px-4",children:[x.jsx("h1",{className:"text-4xl font-bold text-indigo-800 text-center mb-12",children:ht("about.title")}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-4",children:ht("about.ourStory")}),x.jsxs("div",{className:"space-y-6",children:[x.jsx("p",{className:"text-gray-700 text-lg",children:"Founded in 2025, Svasam Wellness was born from a deep understanding of the interconnectedness between mind, body, and soul. Our journey began with a simple vision: to create a holistic wellness platform that empowers individuals to achieve true balance and inner peace."}),x.jsx("p",{className:"text-gray-700 text-lg",children:"We believe that true wellness is more than just physical health - it's about nurturing all aspects of your being. Our comprehensive approach combines ancient wisdom with modern science to provide personalized wellness solutions that transform lives."})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-4",children:ht("about.services")}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-2",children:ht("about.mindWellness")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Manifestation and Abundance Programs"}),x.jsx("li",{children:"Stress Reduction Techniques"}),x.jsx("li",{children:"Super Brain Training"}),x.jsx("li",{children:"Personal Growth Workshops"})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-green-700 mb-2",children:ht("about.bodyWellness")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Yoga and Meditation Classes"}),x.jsx("li",{children:"Nutrition and Diet Planning"}),x.jsx("li",{children:"Naturopathy Treatments"}),x.jsx("li",{children:"Physical Well-being Programs"})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-purple-700 mb-2",children:ht("about.soulWellness")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Trauma Healing Sessions"}),x.jsx("li",{children:"Sound Therapy Workshops"}),x.jsx("li",{children:"Breathwork Practices"}),x.jsx("li",{children:"Spiritual Guidance Programs"})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-yellow-700 mb-2",children:ht("about.storeResources")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Energy Stones and Rudrakshas"}),x.jsx("li",{children:"Wellness Products"}),x.jsx("li",{children:"Educational Resources"}),x.jsx("li",{children:"Wellness Accessories"})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-4",children:ht("about.ourPhilosophy")}),x.jsx("p",{className:"text-gray-700 text-lg mb-6",children:"At Svasam, we believe in the power of holistic healing. Our philosophy is rooted in the understanding that true wellness comes from nurturing all aspects of your being - mind, body, and soul. We combine ancient wisdom with modern science to create personalized wellness solutions that transform lives."}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-2",children:ht("about.holisticApproach")}),x.jsx("p",{className:"text-gray-600",children:"We believe in treating the whole person, not just symptoms. Our programs are designed to create lasting change by addressing all aspects of your well-being."})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-green-700 mb-2",children:ht("about.personalizedSolutions")}),x.jsx("p",{className:"text-gray-600",children:"Each person's journey is unique. That's why we offer customized wellness plans tailored to your specific needs and goals."})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-purple-700 mb-2",children:ht("about.ancientWisdom")}),x.jsx("p",{className:"text-gray-600",children:"We draw from time-tested traditions and practices while incorporating modern scientific understanding to create powerful wellness solutions."})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-yellow-700 mb-2",children:ht("about.communitySupport")}),x.jsx("p",{className:"text-gray-600",children:"We believe in the power of community. Our platform connects you with like-minded individuals on their own wellness journeys, creating a supportive network for growth."})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("about.joinJourney")}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("p",{className:"text-gray-600",children:"Ready to transform your life? Join our community of wellness seekers and begin your journey to holistic health and happiness."}),x.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[x.jsx("button",{className:"flex-1 bg-indigo-600 text-white rounded-lg py-3 px-6 hover:bg-indigo-700 transition",children:ht("about.contactUs")}),x.jsx("button",{className:"flex-1 bg-green-600 text-white rounded-lg py-3 px-6 hover:bg-green-700 transition",children:ht("about.scheduleSession")})]})]})]})]})]})})}function rf(){return x.jsx("div",{className:"min-h-screen w-full bg-pink-50",children:x.jsxs("div",{className:"max-w-4xl mx-auto py-16 px-4",children:[x.jsx("h1",{className:"text-4xl font-bold text-indigo-800 text-center mb-12",children:ht("contact.title")}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-8",children:ht("contact.getInTouch")}),x.jsxs("form",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:ht("contact.fullName")}),x.jsx("input",{type:"text",id:"name",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:ht("contact.fullNamePlaceholder")})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:ht("contact.emailAddress")}),x.jsx("input",{type:"email",id:"email",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:ht("contact.emailPlaceholder")})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:ht("contact.phoneNumber")}),x.jsx("input",{type:"tel",id:"phone",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:ht("contact.phonePlaceholder")})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:ht("contact.subject")}),x.jsxs("select",{id:"subject",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[x.jsx("option",{value:"general",children:ht("contact.generalInquiry")}),x.jsx("option",{value:"wellness",children:ht("contact.wellnessPrograms")}),x.jsx("option",{value:"store",children:ht("contact.storeProducts")}),x.jsx("option",{value:"appointment",children:ht("contact.scheduleAppointment")}),x.jsx("option",{value:"other",children:ht("contact.other")})]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:ht("contact.message")}),x.jsx("textarea",{id:"message",rows:"4",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:ht("contact.messagePlaceholder")})]}),x.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 px-6 rounded-lg hover:bg-indigo-700 transition flex items-center justify-center",children:[x.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),ht("contact.sendMessage")]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-8",children:ht("contact.contactInfo")}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("contact.officeLocation")}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-gray-600",children:"Svasam Wellness Pvt. Ltd."}),x.jsx("p",{className:"text-gray-600",children:"Office 2, 22 Paradise Villa Compound"}),x.jsx("p",{className:"text-gray-600",children:"Bhulabhai Desai Road, Mahalaxmi Mandir"}),x.jsx("p",{className:"text-gray-600",children:"Cumbala Hill, Mumbai 400026"})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("contact.contactDetails")}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-gray-600",children:"Email: support@svasam.com"}),x.jsx("p",{className:"text-gray-600",children:"Phone: +91 1234567890"}),x.jsx("p",{className:"text-gray-600",children:"Customer Support: Mon-Sat, 10 AM - 7 PM"})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("contact.businessHours")}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-gray-600",children:"Monday - Friday: 10:00 AM - 7:00 PM"}),x.jsx("p",{className:"text-gray-600",children:"Saturday: 10:00 AM - 6:00 PM"}),x.jsx("p",{className:"text-gray-600",children:"Sunday: Closed"})]})]})]})]}),x.jsxs("section",{className:"my-16 max-w-4xl mx-auto",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("contact.faq")}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("details",{className:"bg-white rounded-xl shadow p-4",children:[x.jsx("summary",{className:"font-semibold text-indigo-700 cursor-pointer",children:ht("contact.faqQuestion1")}),x.jsx("p",{className:"mt-2 text-gray-700",children:"You can schedule a session by contacting our customer support team or using our online booking system. Simply provide your preferred date and time, and we'll help you find the right wellness practitioner for your needs."})]}),x.jsxs("details",{className:"bg-white rounded-xl shadow p-4",children:[x.jsx("summary",{className:"font-semibold text-indigo-700 cursor-pointer",children:ht("contact.faqQuestion2")}),x.jsx("p",{className:"mt-2 text-gray-700",children:"We accept various payment methods including credit/debit cards, UPI, net banking, and cash on delivery for our wellness programs and store products."})]}),x.jsxs("details",{className:"bg-white rounded-xl shadow p-4",children:[x.jsx("summary",{className:"font-semibold text-indigo-700 cursor-pointer",children:ht("contact.faqQuestion3")}),x.jsx("p",{className:"mt-2 text-gray-700",children:"Yes, you can cancel your appointment up to 24 hours before the scheduled time. Please contact our customer support team for assistance."})]})]})]})]})]})})}function af(){return x.jsx("div",{className:"min-h-screen w-full bg-pink-50",children:x.jsxs("div",{className:"max-w-4xl mx-auto py-16 px-4",children:[x.jsx("h1",{className:"text-4xl font-bold text-indigo-800 text-center mb-12",children:ht("cancellation.title")}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-4",children:ht("cancellation.welcome")}),x.jsx("p",{className:"text-gray-700 text-lg",children:ht("cancellation.introText")})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("cancellation.appointmentCancellations")}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("cancellation.cancellationPolicy")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"You can cancel your appointment up to 24 hours before the scheduled time."}),x.jsx("li",{children:"Cancellations made within 24 hours of the appointment will be charged the full session fee."}),x.jsx("li",{children:"No-shows without prior notice will be charged the full session fee."}),x.jsx("li",{children:"Rescheduling is subject to availability and must be done at least 24 hours in advance."})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("cancellation.emergencyCancellations")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"In case of genuine emergencies, please inform us as soon as possible."}),x.jsx("li",{children:"We may provide flexibility in such cases at our discretion."}),x.jsx("li",{children:"Medical emergencies require proof of documentation."})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("cancellation.refundPolicy")}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("cancellation.storeProducts")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"We offer a 7-day return policy for store products."}),x.jsx("li",{children:"Products must be unused and in their original packaging."}),x.jsx("li",{children:"Shipping charges are non-refundable."}),x.jsx("li",{children:"Refunds will be processed within 5-7 business days."})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("cancellation.wellnessSessions")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"No refunds for completed sessions."}),x.jsx("li",{children:"Package sessions are non-refundable but may be transferred to another person."}),x.jsx("li",{children:"Refunds may be considered on a case-by-case basis for medical reasons."})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("cancellation.specialCases")}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("cancellation.forceMajeure")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Our policies may be waived in cases of force majeure (natural disasters, pandemics, etc.)."}),x.jsx("li",{children:"Refunds will be considered on a case-by-case basis."})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("cancellation.disputes")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Any disputes will be resolved in accordance with Indian law."}),x.jsx("li",{children:"We strive to resolve all issues amicably through direct communication."})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("cancellation.contactUs")}),x.jsx("p",{className:"text-gray-700 mb-4",children:ht("cancellation.contactMessage")}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-gray-600",children:ht("cancellation.email")}),x.jsx("p",{className:"text-gray-600",children:ht("cancellation.phone")}),x.jsx("p",{className:"text-gray-600",children:ht("cancellation.supportHours")})]})]})]})]})})}function of(){return x.jsx("div",{className:"min-h-screen w-full bg-pink-50",children:x.jsxs("div",{className:"max-w-4xl mx-auto py-16 px-4",children:[x.jsx("h1",{className:"text-4xl font-bold text-indigo-800 text-center mb-12",children:ht("shipping.title")}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-4",children:ht("shipping.welcome")}),x.jsx("p",{className:"text-gray-700 text-lg",children:"This policy outlines our shipping and delivery procedures for all products purchased from our store. We strive to provide efficient and reliable delivery services to ensure you receive your wellness products in perfect condition."})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("shipping.shippingAreas")}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("shipping.domesticShipping")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"We ship to all major cities and towns across India."}),x.jsx("li",{children:"Shipping charges vary based on location and product weight."}),x.jsx("li",{children:"Free shipping on orders above 1999."})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("shipping.internationalShipping")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Currently available for select countries."}),x.jsx("li",{children:"Additional customs and import duties may apply."}),x.jsx("li",{children:"Shipping charges calculated at checkout."})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("shipping.shippingTimes")}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"Processing Time"}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Orders are processed within 2-3 business days."}),x.jsx("li",{children:"Custom orders may take longer (5-7 business days)."}),x.jsx("li",{children:"Processing time may vary during peak seasons."})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"Delivery Time"}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Standard Delivery: 5-7 business days"}),x.jsx("li",{children:"Express Delivery: 2-3 business days (additional charges apply)"}),x.jsx("li",{children:"Delivery times may vary based on location."})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Shipping Methods"}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"Standard Shipping"}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Regular courier service"}),x.jsx("li",{children:"Delivery confirmation via email"}),x.jsx("li",{children:"Tracking number provided"})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"Express Shipping"}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Priority courier service"}),x.jsx("li",{children:"Real-time tracking available"}),x.jsx("li",{children:"Additional charges apply"})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Delivery Information"}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"Delivery Address"}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Please provide accurate delivery address."}),x.jsx("li",{children:"Delivery to ground floor only for heavy items."}),x.jsx("li",{children:"Additional charges for delivery above ground floor."})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"Delivery Time Slot"}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Standard delivery time: 10 AM - 6 PM"}),x.jsx("li",{children:"Evening delivery available (additional charges apply)"}),x.jsx("li",{children:"Please be available during the delivery time slot."})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Special Cases"}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"Remote Areas"}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Additional shipping charges may apply."}),x.jsx("li",{children:"Longer delivery times possible."}),x.jsx("li",{children:"Contact us for remote area shipping."})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"Holiday Periods"}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Shipping may be delayed during holidays."}),x.jsx("li",{children:"Special holiday shipping rates may apply."}),x.jsx("li",{children:"Orders placed during holidays processed after holidays."})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("shipping.contactUs")}),x.jsx("p",{className:"text-gray-700 mb-4",children:"For any questions regarding shipping and delivery, please contact our customer support team:"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-gray-600",children:"Email: support@svasam.com"}),x.jsx("p",{className:"text-gray-600",children:"Phone: +91 1234567890"}),x.jsx("p",{className:"text-gray-600",children:"Customer Support Hours: Mon-Sat, 10 AM - 7 PM"})]})]})]})]})})}function lf(){return x.jsx("div",{className:"min-h-screen w-full bg-pink-50",children:x.jsxs("div",{className:"max-w-4xl mx-auto py-16 px-4",children:[x.jsx("h1",{className:"text-4xl font-bold text-indigo-800 text-center mb-12",children:ht("terms.title")}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-4",children:ht("terms.welcome")}),x.jsx("p",{className:"text-gray-700 text-lg",children:ht("terms.introText")})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("terms.acceptanceOfTerms")}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("terms.accessToWebsite")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"By accessing this website, you agree to be bound by these Terms and Conditions."}),x.jsx("li",{children:"Our services are only available to individuals who can form legally binding contracts."}),x.jsx("li",{children:"Access to certain areas of the website may be restricted."})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("terms.changesToTerms")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"We reserve the right to modify these Terms and Conditions at any time."}),x.jsx("li",{children:"Continued use of the website after changes constitutes acceptance of the new terms."})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("terms.userObligations")}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("terms.accountSecurity")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Keep your account credentials secure."}),x.jsx("li",{children:"Notify us immediately of any unauthorized access."}),x.jsx("li",{children:"Be responsible for all activities under your account."})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("terms.prohibitedActivities")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Do not use our services for illegal purposes."}),x.jsx("li",{children:"Do not interfere with our website's operations."}),x.jsx("li",{children:"Do not violate intellectual property rights."})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("terms.services")}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("terms.wellnessServices")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Services are subject to availability."}),x.jsx("li",{children:"Prices are subject to change without notice."}),x.jsx("li",{children:"Services may be modified or discontinued at any time."})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("terms.storeProducts")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Product descriptions are for informational purposes only."}),x.jsx("li",{children:"Stock availability is not guaranteed."}),x.jsx("li",{children:"Prices are subject to change without notice."})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("terms.intellectualProperty")}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("terms.contentOwnership")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"All content on the website is owned by Svasam Wellness."}),x.jsx("li",{children:"You may not reproduce or distribute our content without permission."}),x.jsx("li",{children:"User-generated content remains the property of the user."})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("terms.trademarks")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Svasam Wellness and related logos are trademarks."}),x.jsx("li",{children:"You may not use our trademarks without permission."})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("terms.limitationOfLiability")}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("terms.disclaimerOfWarranties")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:'Services are provided "as is" and "as available".'}),x.jsx("li",{children:"No warranties are made regarding service availability."}),x.jsx("li",{children:"Results from wellness services are not guaranteed."})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("terms.limitationOfDamages")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"We are not liable for any indirect or consequential damages."}),x.jsx("li",{children:"Our liability is limited to the amount paid for services."})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("terms.contactUs")}),x.jsx("p",{className:"text-gray-700 mb-4",children:ht("terms.contactMessage")}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-gray-600",children:ht("terms.email")}),x.jsx("p",{className:"text-gray-600",children:ht("terms.phone")}),x.jsx("p",{className:"text-gray-600",children:ht("terms.supportHours")})]})]})]})]})})}function cf(){return x.jsx("div",{className:"min-h-screen w-full bg-pink-50",children:x.jsxs("div",{className:"max-w-4xl mx-auto py-16 px-4",children:[x.jsx("h1",{className:"text-4xl font-bold text-indigo-800 text-center mb-12",children:ht("privacy.title")}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-4",children:ht("privacy.welcome")}),x.jsx("p",{className:"text-gray-700 text-lg",children:"At Svasam Wellness, we are committed to protecting your privacy and ensuring the security of your personal information."})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("privacy.infoCollect")}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("privacy.personalInfo")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Name and contact information"}),x.jsx("li",{children:"Email address"}),x.jsx("li",{children:"Phone number"}),x.jsx("li",{children:"Payment information (when making purchases)"})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("privacy.usageInfo")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Website usage data"}),x.jsx("li",{children:"Device information"}),x.jsx("li",{children:"Location data (when applicable)"}),x.jsx("li",{children:"Service usage patterns"})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("privacy.howWeUse")}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("privacy.primaryUses")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"To provide and improve our services"}),x.jsx("li",{children:"To process orders and payments"}),x.jsx("li",{children:"To communicate with you about our services"}),x.jsx("li",{children:"To personalize your experience"})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:ht("privacy.marketing")}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"We may send promotional emails with your consent"}),x.jsx("li",{children:"You can opt-out of marketing communications"}),x.jsx("li",{children:"We do not share your information with third-party marketers"})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("privacy.dataProtection")}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"Security Measures"}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"We use encryption to protect your data"}),x.jsx("li",{children:"We implement security measures to prevent unauthorized access"}),x.jsx("li",{children:"We regularly update our security practices"})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"Data Retention"}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"We retain your information only as long as necessary"}),x.jsx("li",{children:"Information is deleted when no longer needed"}),x.jsx("li",{children:"We comply with legal requirements for data retention"})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"4. Your Rights"}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"Access to Information"}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"You can request access to your personal information"}),x.jsx("li",{children:"You can request corrections to your information"}),x.jsx("li",{children:"You can request deletion of your information"})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"Opt-Out Rights"}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"You can opt-out of marketing communications"}),x.jsx("li",{children:"You can withdraw consent for data processing"}),x.jsx("li",{children:"You can object to certain data processing activities"})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"5. Third Parties"}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"Service Providers"}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"We work with trusted third-party service providers"}),x.jsx("li",{children:"Service providers are contractually bound to protect your data"}),x.jsx("li",{children:"We do not share your information with unrelated third parties"})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"External Links"}),x.jsxs("ul",{className:"list-disc ml-6 text-gray-600 space-y-2",children:[x.jsx("li",{children:"Our website may contain links to external sites"}),x.jsx("li",{children:"We are not responsible for external sites' privacy practices"}),x.jsx("li",{children:"Please review external sites' privacy policies"})]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:ht("privacy.contactUs")}),x.jsx("p",{className:"text-gray-700 mb-4",children:"For any questions regarding this Privacy Policy or your data, please contact us:"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-gray-600",children:"Email: support@svasam.com"}),x.jsx("p",{className:"text-gray-600",children:"Phone: +91 1234567890"}),x.jsx("p",{className:"text-gray-600",children:"Customer Support Hours: Mon-Sat, 10 AM - 7 PM"})]})]})]})]})})}function df(){const[e,t]=n.useState([]),[s,i]=n.useState(!0),[a,o]=n.useState(null),{programs:l,loading:c}=$("mind"),{programs:d,loading:u}=$("body"),{programs:h,loading:p}=$("soul");return n.useEffect(()=>{if(!c&&!u&&!p)try{const e=[...l||[],...d||[],...h||[]];t(e),o(null)}catch(e){console.error("Error combining programs:",e),o(e)}finally{i(!1)}},[c,u,p,l,d,h]),s?x.jsxs("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-main"}),x.jsx("span",{className:"ml-4 text-gray-700",children:"Loading sessions..."})]}):a?x.jsx("div",{className:"min-h-screen w-full bg-background flex items-center justify-center",children:x.jsxs("div",{className:"text-red-500 text-center p-6 max-w-md bg-white rounded-lg shadow-lg",children:[x.jsx("h2",{className:"text-xl font-bold mb-2",children:"Error Loading Sessions"}),x.jsx("p",{className:"mb-4",children:"We couldn't load the sessions. Please try again later."}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-main text-white rounded-md hover:bg-accent transition-colors",children:"Retry"})]})}):x.jsx("div",{className:"min-h-screen w-full bg-background",children:x.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h1",{className:"text-4xl font-bold text-main mb-4",children:"Our Wellness Programs"}),x.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Discover transformative programs designed to nurture your mind, body, and soul."})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:e.map(e=>x.jsx(r,{to:`/programs/${e.slug}`,className:"group block h-full",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden h-full flex flex-col hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:[x.jsxs("div",{className:"relative h-48 bg-gray-100",children:[e.imageUrl?x.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover",loading:"lazy"}):x.jsx("div",{className:"w-full h-full bg-gradient-to-r from-purple-50 to-blue-50 flex items-center justify-center",children:x.jsx("span",{className:"text-gray-400",children:"No image available"})}),x.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent",children:x.jsx("span",{className:"inline-block px-3 py-1 text-xs font-semibold text-white bg-main rounded-full",children:e.category})})]}),x.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 group-hover:text-main transition-colors",children:e.title}),x.jsx("p",{className:"text-gray-600 mb-4 flex-grow line-clamp-3",children:e.description}),x.jsx("div",{className:"mt-auto pt-4 border-t border-gray-100",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-lg font-bold text-main",children:e.price?`${e.price}`:"Free"}),x.jsxs("span",{className:"inline-flex items-center text-sm text-gray-500",children:["View details",x.jsx("svg",{className:"ml-1 w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})})]})]})},e._id))}),x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-12",children:[x.jsx("h2",{className:"text-2xl font-bold text-main mb-8 text-center",children:"Explore by Category"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["Mind","Body","Soul"].map(e=>x.jsx(r,{to:`/${e.toLowerCase()}`,className:"group block",children:x.jsxs("div",{className:"bg-gray-50 hover:bg-gray-100 rounded-xl p-6 transition-colors h-full",children:[x.jsxs("h3",{className:"text-xl font-bold text-main mb-3",children:[e," Programs"]}),x.jsxs("p",{className:"text-gray-600 mb-4",children:["Discover our curated selection of ",e.toLowerCase()," programs designed to help you thrive."]}),x.jsxs("span",{className:"inline-flex items-center text-main font-medium group-hover:underline",children:["Explore ",e,x.jsx("svg",{className:"ml-1 w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})},e))})]}),x.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-2xl p-8 mb-12",children:[x.jsx("h2",{className:"text-2xl font-bold text-main mb-8 text-center",children:"Why Choose Our Programs"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:"Expert Guidance",description:"Learn from certified practitioners with years of experience in their fields."},{title:"Flexible Learning",description:"Access programs at your own pace, anytime and anywhere."},{title:"Holistic Approach",description:"Programs designed to address mind, body, and soul for complete wellbeing."},{title:"Proven Results",description:"Join thousands who have transformed their lives through our programs."}].map((e,t)=>x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[x.jsx("div",{className:"w-12 h-12 bg-main/10 rounded-full flex items-center justify-center mb-4",children:x.jsx("span",{className:"text-main text-xl font-bold",children:t+1})}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),x.jsx("p",{className:"text-gray-600",children:e.description})]},t))})]})]})})}function uf(){const e='*[_type == "blogPost"] {\n    _id,\n    title,\n    slug,\n    excerpt,\n    publishedAt,\n    "authorName": author->name,\n    "authorImage": author->image.asset->url\n  } | order(publishedAt desc)',{data:t,loading:s,error:i}=function(e,t={}){const[s,i]=n.useState(null),[r,a]=n.useState(!0),[o,l]=n.useState(null),c=n.useCallback(async()=>{try{a(!0),console.log("Executing Sanity query:",e),console.log("With parameters:",t);const s=new AbortController,n=setTimeout(()=>s.abort(),1e4),r=await B.fetch(e,t,{signal:s.signal});if(clearTimeout(n),!r)throw new Error("No data returned from Sanity");console.log("Sanity API response:",r),i(r),l(null)}catch(s){console.error("Error fetching data from Sanity:",{name:s.name,message:s.message,stack:s.stack,query:e,params:t,config:{projectId:B.config().projectId,dataset:B.config().dataset,apiVersion:B.config().apiVersion,useCdn:B.config().useCdn,withCredentials:B.config().withCredentials}}),l({message:s.message||"Failed to fetch data from Sanity",details:{name:s.name,query:e,params:t,isNetworkError:"AbortError"===s.name||!navigator.onLine}})}finally{a(!1)}},[e,JSON.stringify(t)]);return n.useEffect(()=>{c()},[c]),{data:s,loading:r,error:o,refetch:c}}(e);return s?x.jsx("div",{className:"flex justify-center items-center min-h-[200px]",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i?(console.error("Sanity API Error Details:",{message:i.message,status:i.statusCode,response:i.responseBody,query:e}),x.jsxs("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:[x.jsx("p",{className:"font-bold",children:"Error loading blog posts"}),x.jsxs("p",{className:"text-sm mt-1",children:["Status: ",i.statusCode||"Unknown"]}),x.jsxs("p",{className:"text-sm",children:["Message: ",i.message||"An unknown error occurred"]}),!1]})):t&&0!==t.length?x.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>x.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[e.mainImage&&x.jsx("img",{src:e.mainImage.asset?.url,alt:e.title,className:"w-full h-48 object-cover"}),x.jsxs("div",{className:"p-6",children:[x.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-900",children:e.title}),e.excerpt&&x.jsx("p",{className:"text-gray-600 mb-4",children:e.excerpt}),x.jsxs("div",{className:"flex items-center mt-4",children:[e.authorImage&&x.jsx("img",{src:e.authorImage,alt:e.authorName,className:"w-10 h-10 rounded-full mr-3 object-cover"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.authorName}),x.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]})]},e._id))}):x.jsx("div",{className:"text-gray-500",children:"No blog posts found."})}function hf(){return x.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-16 px-4 sm:px-6 lg:px-8",children:x.jsxs("div",{className:"max-w-7xl mx-auto",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:ht("blog.title")}),x.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:ht("blog.description")})]}),x.jsx(uf,{}),x.jsxs("div",{className:"mt-16 text-center",children:[x.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:ht("blog.stayUpdated")}),x.jsx("p",{className:"text-gray-700 mb-6",children:ht("blog.subscribeText")}),x.jsxs("form",{className:"flex gap-2 max-w-md mx-auto",children:[x.jsx("input",{type:"email",placeholder:ht("blog.emailPlaceholder"),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0}),x.jsx("button",{type:"submit",className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:ht("blog.subscribe")})]}),x.jsxs("div",{className:"mt-8 text-gray-600",children:[x.jsx("p",{children:ht("blog.email")}),x.jsx("p",{children:ht("blog.phone")}),x.jsx("p",{children:ht("blog.supportHours")})]})]})]})})}function pf(){return x.jsx("div",{className:"min-h-screen w-full bg-pink-50",children:x.jsxs("div",{className:"max-w-4xl mx-auto py-16 px-4",children:[x.jsx("h1",{className:"text-4xl font-bold text-indigo-800 text-center mb-12",children:"All Articles"}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-4",children:"Explore Our Articles"}),x.jsx("p",{className:"text-gray-700 text-lg",children:"Discover our collection of wellness articles across Mind, Body, and Soul categories."})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{id:1,title:"The Power of Positive Thinking",category:"Mind",date:"July 1, 2025",author:"Dr. Anjali Sharma",image:"/blog-1.jpg",excerpt:"Discover how positive thinking can transform your life and improve your overall well-being.",tags:["Mindfulness","Wellness","Self-Improvement"]},{id:2,title:"Yoga for Better Sleep",category:"Body",date:"June 25, 2025",author:"Yogi Raj",image:"/blog-2.jpg",excerpt:"Learn yoga poses and techniques to help you get a better night's sleep.",tags:["Yoga","Sleep","Wellness"]},{id:3,title:"Understanding Chakras",category:"Soul",date:"June 20, 2025",author:"Priya Patel",image:"/blog-3.jpg",excerpt:"A comprehensive guide to the seven major chakras and their significance.",tags:["Soul","Energy","Healing"]},{id:4,title:"Stress Management Techniques",category:"Mind",date:"June 15, 2025",author:"Dr. Anjali Sharma",image:"/blog-4.jpg",excerpt:"Effective strategies to manage and reduce stress in your daily life.",tags:["Mindfulness","Stress","Wellness"]},{id:5,title:"Nutrition for Wellness",category:"Body",date:"June 10, 2025",author:"Neha Verma",image:"/blog-5.jpg",excerpt:"How proper nutrition can support your wellness journey.",tags:["Nutrition","Wellness","Health"]}].map(e=>x.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:[x.jsx("div",{className:"relative h-48 bg-gray-100",children:x.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-100 via-pink-100 to-blue-100"})}),x.jsxs("div",{className:"p-6",children:[x.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-indigo-100 text-indigo-700 text-sm font-medium mb-2",children:e.category}),x.jsx("h3",{className:"text-xl font-bold text-indigo-800 mb-2",children:e.title}),x.jsx("p",{className:"text-gray-600 mb-4",children:e.excerpt}),x.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[x.jsx("span",{children:e.date}),x.jsx("span",{children:e.author})]}),x.jsx("div",{className:"mt-4 flex gap-2",children:e.tags.map(e=>x.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-indigo-100 text-indigo-700",children:e},e))}),x.jsx(r,{to:`/blog/${e.id}`,className:"mt-4 w-full bg-gradient-to-r from-purple-100 via-purple-200 to-blue-100 text-indigo-700 font-semibold py-2 px-4 rounded-full shadow hover:shadow-lg transition-all duration-200",children:"Read More"})]})]},e.id))}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Filter by Category"}),x.jsxs("div",{className:"flex gap-4 flex-wrap",children:[x.jsx("button",{className:"px-4 py-2 rounded-full bg-purple-100 text-purple-700 font-medium hover:bg-purple-200 transition",children:"All"}),x.jsx("button",{className:"px-4 py-2 rounded-full bg-green-100 text-green-700 font-medium hover:bg-green-200 transition",children:"Mind"}),x.jsx("button",{className:"px-4 py-2 rounded-full bg-purple-200 text-purple-800 font-medium hover:bg-purple-300 transition",children:"Body"}),x.jsx("button",{className:"px-4 py-2 rounded-full bg-indigo-100 text-indigo-700 font-medium hover:bg-indigo-200 transition",children:"Soul"}),x.jsx("button",{className:"px-4 py-2 rounded-full bg-blue-100 text-blue-700 font-medium hover:bg-blue-200 transition",children:"Wellness"}),x.jsx("button",{className:"px-4 py-2 rounded-full bg-yellow-100 text-yellow-700 font-medium hover:bg-yellow-200 transition",children:"Yoga"})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-6",children:"Subscribe to Our Newsletter"}),x.jsx("div",{className:"bg-gradient-to-r from-purple-100 via-pink-100 to-blue-100 p-6 rounded-xl",children:x.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Stay Updated"}),x.jsx("p",{className:"text-gray-700 mb-6",children:"Get our latest wellness articles straight to your inbox."}),x.jsxs("form",{className:"flex gap-2",children:[x.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-2 rounded-lg bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),x.jsx("button",{className:"px-6 py-2 rounded-lg bg-gradient-to-r from-purple-500 to-blue-500 text-white font-semibold hover:opacity-90 transition",children:"Subscribe"})]})]})})]})]})]})})}function mf({title:e,titleId:t,...s},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?n.createElement("title",{id:t},e):null,n.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const ff=n.forwardRef(mf);function gf(e){return"span"===e._type&&"text"in e&&"string"==typeof e.text&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(e=>"string"==typeof e))}function yf(e){return"string"==typeof e._type&&"@"!==e._type[0]&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(e=>"string"==typeof e._key))&&"children"in e&&Array.isArray(e.children)&&e.children.every(e=>"object"==typeof e&&"_type"in e)}function xf(e){return yf(e)&&"listItem"in e&&"string"==typeof e.listItem&&(typeof e.level>"u"||"number"==typeof e.level)}function vf(e){return"@list"===e._type}function wf(e){return"@span"===e._type}function bf(e){return"@text"===e._type}const Nf=["strong","em","code","underline","strike-through"];function Ef(e,t,s){if(!gf(e)||!e.marks)return[];if(!e.marks.length)return[];const n=e.marks.slice(),i={};return n.forEach(e=>{i[e]=1;for(let n=t+1;n<s.length;n++){const t=s[n];if(!(t&&gf(t)&&Array.isArray(t.marks)&&-1!==t.marks.indexOf(e)))break;i[e]++}}),n.sort((e,t)=>function(e,t,s){const n=e[t],i=e[s];if(n!==i)return i-n;const r=Nf.indexOf(t),a=Nf.indexOf(s);return r!==a?r-a:t.localeCompare(s)}(i,e,t))}function Sf(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function jf(e,t,s){return{_type:"@list",_key:`${e._key||`${t}`}-parent`,mode:s,level:e.level||1,listItem:e.listItem,children:[e]}}function Tf(e,t){const s=t.level||1,n=t.listItem||"normal",i="string"==typeof t.listItem;if(vf(e)&&(e.level||1)===s&&i&&(e.listItem||"normal")===n)return e;if(!("children"in e))return;const r=e.children[e.children.length-1];return r&&!gf(r)?Tf(r,t):void 0}function _f(e){let t="";return e.children.forEach(e=>{bf(e)?t+=e.text:wf(e)&&(t+=_f(e))}),t}const If={textDecoration:"underline"},Cf=(e,t)=>`[@portabletext/react] Unknown ${e}, specify a component for it in the \`components.${t}\` prop`,kf=e=>Cf(`block type "${e}"`,"types");function Af(e){console.warn(e)}const Pf={display:"none"},Of={types:{},block:{normal:({children:e})=>x.jsx("p",{children:e}),blockquote:({children:e})=>x.jsx("blockquote",{children:e}),h1:({children:e})=>x.jsx("h1",{children:e}),h2:({children:e})=>x.jsx("h2",{children:e}),h3:({children:e})=>x.jsx("h3",{children:e}),h4:({children:e})=>x.jsx("h4",{children:e}),h5:({children:e})=>x.jsx("h5",{children:e}),h6:({children:e})=>x.jsx("h6",{children:e})},marks:{em:({children:e})=>x.jsx("em",{children:e}),strong:({children:e})=>x.jsx("strong",{children:e}),code:({children:e})=>x.jsx("code",{children:e}),underline:({children:e})=>x.jsx("span",{style:If,children:e}),"strike-through":({children:e})=>x.jsx("del",{children:e}),link:({children:e,value:t})=>x.jsx("a",{href:null==t?void 0:t.href,children:e})},list:{number:({children:e})=>x.jsx("ol",{children:e}),bullet:({children:e})=>x.jsx("ul",{children:e})},listItem:({children:e})=>x.jsx("li",{children:e}),hardBreak:()=>x.jsx("br",{}),unknownType:({value:e,isInline:t})=>{const s=kf(e._type);return t?x.jsx("span",{style:Pf,children:s}):x.jsx("div",{style:Pf,children:s})},unknownMark:({markType:e,children:t})=>x.jsx("span",{className:`unknown__pt__mark__${e}`,children:t}),unknownList:({children:e})=>x.jsx("ul",{children:e}),unknownListItem:({children:e})=>x.jsx("li",{children:e}),unknownBlockStyle:({children:e})=>x.jsx("p",{children:e})};function Mf(e,t,s){const n=t[s],i=e[s];return"function"==typeof n||n&&"function"==typeof i?n:n?{...i,...n}:i}function Df({value:e,components:t,listNestingMode:s,onMissingComponent:i=Af}){const r=i||Vf,a=function(e,t){const s=[];let n;for(let i=0;i<e.length;i++){const r=e[i];if(r){if(!xf(r)){s.push(r),n=void 0;continue}if(!n){n=jf(r,i,t),s.push(n);continue}if(Sf(r,n)){n.children.push(r);continue}if((r.level||1)>n.level){const e=jf(r,i,t);if("html"===t){const t=n.children[n.children.length-1],s={...t,children:[...t.children,e]};n.children[n.children.length-1]=s}else n.children.push(e);n=e;continue}if((r.level||1)<n.level){const e=s[s.length-1],a=e&&Tf(e,r);if(a){n=a,n.children.push(r);continue}n=jf(r,i,t),s.push(n);continue}if(r.listItem!==n.listItem){const e=s[s.length-1],a=e&&Tf(e,{level:r.level||1});if(a&&a.listItem===r.listItem){n=a,n.children.push(r);continue}n=jf(r,i,t),s.push(n);continue}console.warn("Unknown state encountered for block",r),s.push(r)}}return s}(Array.isArray(e)?e:[e],s||"html"),o=n.useMemo(()=>t?function(e,t){const{block:s,list:n,listItem:i,marks:r,types:a,...o}=t;return{...e,block:Mf(e,t,"block"),list:Mf(e,t,"list"),listItem:Mf(e,t,"listItem"),marks:Mf(e,t,"marks"),types:Mf(e,t,"types"),...o}}(Of,t):Of,[t]),l=n.useMemo(()=>Lf(o,r),[o,r]),c=a.map((e,t)=>l({node:e,index:t,isInline:!1,renderNode:l}));return x.jsx(x.Fragment,{children:c})}const Lf=(e,t)=>{function s(n){const{node:i,index:r,isInline:a}=n,o=i._key||`node-${r}`;return vf(i)?function(n,i,r){const a=n.children.map((e,t)=>s({node:e._key?e:{...e,_key:`li-${i}-${t}`},index:t,isInline:!1})),o=e.list,l=("function"==typeof o?o:o[n.listItem])||e.unknownList;if(l===e.unknownList){const e=n.listItem||"bullet";t(Cf(`list style "${e}"`,"list"),{nodeType:"listStyle",type:e})}return x.jsx(l,{value:n,index:i,isInline:!1,renderNode:s,children:a},r)}(i,r,o):xf(i)?function(n,i,r){const a=Rf({node:n,index:i,isInline:!1,renderNode:s}),o=e.listItem,l=("function"==typeof o?o:o[n.listItem])||e.unknownListItem;if(l===e.unknownListItem){const e=n.listItem||"bullet";t(Cf(`list item style "${e}"`,"listItem"),{type:e,nodeType:"listItemStyle"})}let c=a.children;if(n.style&&"normal"!==n.style){const{listItem:e,...t}=n;c=s({node:t,index:i,isInline:!1})}return x.jsx(l,{value:n,index:i,isInline:!1,renderNode:s,children:c},r)}(i,r,o):wf(i)?function(n,i,r){const{markDef:a,markType:o,markKey:l}=n,c=e.marks[o]||e.unknownMark,d=n.children.map((e,t)=>s({node:e,index:t,isInline:!0}));return c===e.unknownMark&&t((e=>Cf(`mark type "${e}"`,"marks"))(o),{nodeType:"mark",type:o}),x.jsx(c,{text:_f(n),value:a,markType:o,markKey:l,renderNode:s,children:d},r)}(i,0,o):function(t){return t._type in e.types}(i)?function(t,n,i,r){const a={value:t,isInline:r,index:n,renderNode:s},o=e.types[t._type];return o?x.jsx(o,{...a},i):null}(i,r,o,a):yf(i)?function(n,i,r,a){const{_key:o,...l}=Rf({node:n,index:i,isInline:a,renderNode:s}),c=l.node.style||"normal",d=("function"==typeof e.block?e.block:e.block[c])||e.unknownBlockStyle;return d===e.unknownBlockStyle&&t((u=c,Cf(`block style "${u}"`,"block")),{nodeType:"blockStyle",type:c}),x.jsx(d,{...l,value:l.node,renderNode:s},r);var u}(i,r,o,a):bf(i)?function(t,s){if("\n"===t.text){const t=e.hardBreak;return t?x.jsx(t,{},s):"\n"}return t.text}(i,o):function(n,i,r,a){const o={value:n,isInline:a,index:i,renderNode:s};t(kf(n._type),{nodeType:"block",type:n._type});const l=e.unknownType;return x.jsx(l,{...o},r)}(i,r,o,a)}return s};function Rf(e){const{node:t,index:s,isInline:n,renderNode:i}=e,r=function(e){var t;const{children:s}=e,n=e.markDefs??[];if(!s||!s.length)return[];const i=s.map(Ef),r={_type:"@span",children:[],markType:"<unknown>"};let a=[r];for(let o=0;o<s.length;o++){const e=s[o];if(!e)continue;const r=i[o]||[];let l=1;if(a.length>1)for(;l<a.length;l++){const e=(null==(t=a[l])?void 0:t.markKey)||"",s=r.indexOf(e);if(-1===s)break;r.splice(s,1)}a=a.slice(0,l);let c=a[a.length-1];if(c){for(const t of r){const s=null==n?void 0:n.find(e=>e._key===t),i=s?s._type:t,r={_type:"@span",_key:e._key,children:[],markDef:s,markType:i,markKey:t};c.children.push(r),a.push(r),c=r}if(gf(e)){const t=e.text.split("\n");for(let e=t.length;e-- >1;)t.splice(e,0,"\n");c.children=c.children.concat(t.map(e=>({_type:"@text",text:e})))}else c.children=c.children.concat(e)}}return r.children}(t).map((e,t)=>i({node:e,isInline:!0,index:t,renderNode:i}));return{_key:t._key||`block-${s}`,children:r,index:s,isInline:n,node:t}}function Vf(){}function Uf(){const{slug:e}=l(),[t,s]=n.useState(null),[i,r]=n.useState(!0),[a,o]=n.useState(null),{addToCart:c}=E(),[d,u]=n.useState(1);n.useEffect(()=>{if(console.log("ProgramDetail mounted with slug:",e),!e){const e="No program selected. Please select a program from the programs page.";return console.error(e),o(e),void r(!1)}(async()=>{console.log("Starting to fetch program with slug:",e),r(!0),o(null);try{let t=await(async e=>{if(console.log("getProgramBySlug called with slug:",e),!e)return console.error("No slug provided to getProgramBySlug"),null;try{const t='*[_type == "program" && slug.current == $slug][0]{\n      _id,\n      title,\n      description,\n      price,\n      duration,\n      category,\n      "image": image.asset->{\n        url,\n        alt\n      },\n      "slug": slug.current,\n      includes,\n      benefits,\n      requirements,\n      body[]{\n        ...select(\n          _type == \'block\' => @{\n            ...@,\n            children[]{\n              ...@,\n              marks[]\n            },\n            markDefs[]{\n              ...@,\n              _type == \'link\' => @{\n                _key,\n                _type,\n                href,\n                blank\n              }\n            }\n          },\n          @\n        )\n      },\n      "instructor": instructor->{\n        name,\n        title,\n        bio,\n        "image": image.asset->url\n      }\n    }';console.log("Executing Sanity query with slug:",e);const s=await B.fetch(t,{slug:e});if(console.log("Sanity query result for slug:",e,s),!s){console.log("No program found for slug:",e);const t=await B.fetch('*[_type == "program"]{ "slug": slug.current }');console.log("All available program slugs:",t.map(e=>e.slug))}return s}catch(a){throw console.error("Error in getProgramBySlug for slug:",e,{error:a.message,stack:a.stack}),a}})(e);if(t||36!==e.length||(console.log("No program found with slug, trying to fetch by ID:",e),t=await getProgramById(e)),!t)throw new Error("Program not found. It may have been moved or deleted.");let n=[];t.body&&(Array.isArray(t.body)?n=t.body:"object"==typeof t.body&&null!==t.body&&(n=[t.body]));const i={id:t._id,_id:t._id,title:t.title||"Untitled Program",description:t.description,body:n,hasImage:!(!t.image&&!t.imageUrl),imageUrl:t.image?.url||t.imageUrl,price:t.price,includes:Array.isArray(t.includes)?t.includes:[],benefits:Array.isArray(t.benefits)?t.benefits:[],requirements:Array.isArray(t.requirements)?t.requirements:[],slug:t.slug||t._id,category:t.category||"uncategorized",instructor:t.instructor};if(!i.id)throw new Error("Invalid program data: missing _id");!t.slug&&t._id&&window.history.replaceState({},"",`/programs/${t._id}`),s(i)}catch(t){const s=`Failed to load program: ${t.message}`;console.error("Error in fetchProgram:",{error:t,message:t.message,stack:t.stack,slug:e}),o(s)}finally{r(!1)}})().catch(e=>{console.error("Unhandled error in fetchProgram:",e),o("An unexpected error occurred while loading the program"),r(!1)})},[e]);return i?x.jsx("div",{className:"min-h-screen bg-gray-50 pb-32 md:pb-24 pt-12 px-4 sm:px-6 lg:px-8",children:x.jsx("div",{className:"max-w-7xl mx-auto",children:x.jsxs("div",{className:"animate-pulse",children:[x.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),x.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"})]})})}):a?x.jsx("div",{className:"min-h-screen flex items-center justify-center",children:x.jsxs("div",{className:"text-center p-6 max-w-md mx-auto bg-white rounded-lg shadow-lg",children:[x.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),x.jsx("p",{className:"text-gray-700 mb-4",children:a}),x.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-main text-white rounded-md hover:bg-opacity-90 transition-colors",children:"Go Back"})]})}):t?x.jsx("div",{className:"min-h-screen bg-gray-50",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[x.jsxs("div",{className:"mb-12",children:[x.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t.title}),x.jsxs("div",{className:"flex items-center text-gray-600",children:[x.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-indigo-100 text-main mr-3",children:t.category}),x.jsx("span",{className:"text-gray-500",children:t.duration})]})]}),x.jsx("div",{className:"mb-12 rounded-xl overflow-hidden shadow-lg",children:x.jsx("img",{src:t.imageUrl||"/placeholder-program.jpg",alt:t.title,className:"w-full h-auto max-h-[500px] object-cover",loading:"lazy"})}),x.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 mb-12",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"About This Program"}),t.body&&t.body.length>0?x.jsx("div",{className:"prose max-w-none",children:x.jsx(Df,{value:t.body,components:{block:{normal:({children:e})=>x.jsx("p",{className:"mb-4",children:e}),h1:({children:e})=>x.jsx("h1",{className:"text-2xl font-bold my-4",children:e}),h2:({children:e})=>x.jsx("h2",{className:"text-xl font-bold mt-6 mb-3",children:e}),h3:({children:e})=>x.jsx("h3",{className:"text-lg font-semibold mt-5 mb-2",children:e}),h4:({children:e})=>x.jsx("h4",{className:"text-base font-medium mt-4 mb-2",children:e}),blockquote:({children:e})=>x.jsx("blockquote",{className:"border-l-4 border-gray-300 pl-4 italic my-4",children:e})},list:{bullet:({children:e})=>x.jsx("ul",{className:"list-disc pl-5 mb-4 space-y-2",children:e}),number:({children:e})=>x.jsx("ol",{className:"list-decimal pl-5 mb-4 space-y-2",children:e})},listItem:{bullet:({children:e})=>x.jsx("li",{className:"mb-1",children:e}),number:({children:e})=>x.jsx("li",{className:"mb-1",children:e})},marks:{link:({value:e,children:t})=>{const s=e?.href||"",n=s.startsWith("http");return x.jsx("a",{href:s,target:n?"_blank":void 0,rel:n?"noopener noreferrer":void 0,className:"text-main hover:underline",children:t})},strong:({children:e})=>x.jsx("strong",{className:"font-semibold",children:e}),em:({children:e})=>x.jsx("em",{className:"italic",children:e}),underline:({children:e})=>x.jsx("u",{children:e}),code:({children:e})=>x.jsx("code",{className:"bg-gray-100 px-1 rounded",children:e})},types:{image:({value:e})=>x.jsxs("div",{className:"my-4",children:[x.jsx("img",{src:e.asset?.url,alt:e.alt||"Image",className:"max-w-full h-auto rounded-lg"}),e.caption&&x.jsx("p",{className:"text-sm text-gray-500 mt-2 text-center",children:e.caption})]})}},onMissingComponent:(e,t)=>(console.warn("PortableText missing component:",{message:e,options:t}),x.jsx("div",{className:"text-yellow-600 my-2",children:"[Content could not be displayed]"}))})}):t.description?x.jsx("div",{className:"prose max-w-none",children:x.jsx("p",{className:"text-gray-700",children:t.description})}):x.jsx("div",{className:"prose max-w-none",children:x.jsx("p",{className:"text-gray-500",children:"No description available for this program."})})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 mb-12",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"About the Instructor"}),x.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[x.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 overflow-hidden",children:x.jsx("img",{src:t.instructor?.image||"/placeholder-avatar.jpg",alt:t.instructor?.name||"Instructor",className:"w-full h-full object-cover"})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:t.instructor?.name||"Expert Instructor"}),x.jsx("p",{className:"text-main font-medium mb-3",children:t.instructor?.title||"Certified Instructor"}),x.jsx("p",{className:"text-gray-600",children:t.instructor?.bio||"Our instructor has years of experience in this field and is dedicated to helping you achieve your goals."}),t.requirements?.length>0&&x.jsxs("div",{className:"mt-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Requirements"}),x.jsx("ul",{className:"space-y-3",children:t.requirements.map((e,t)=>x.jsxs("li",{className:"flex items-start",children:[x.jsx(ff,{className:"h-5 w-5 text-gray-400 mr-2 mt-0.5 flex-shrink-0"}),x.jsx("span",{className:"text-gray-700",children:e})]},t))})]})]})]})]}),x.jsx("div",{className:"bg-white rounded-xl shadow-md p-8 mt-12 border-t-4 border-main",children:x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Ready to get started?"}),x.jsxs("div",{className:"flex items-baseline mt-2",children:[x.jsxs("span",{className:"text-3xl font-bold text-main",children:["",t.price?.toLocaleString()||"Free"]}),t.originalPrice&&x.jsxs("span",{className:"ml-2 text-lg text-gray-500 line-through",children:["",t.originalPrice.toLocaleString()]}),x.jsxs("span",{className:"ml-2 text-gray-600",children:[" ",t.duration||"Lifetime access"]})]})]}),x.jsx("button",{onClick:()=>{c({id:t._id,name:t.title,price:t.price,image:t.imageUrl,quantity:d,slug:t.slug})},className:"w-full md:w-auto bg-main hover:bg-main-dark text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-main",children:"Enroll Now"})]})}),t.category&&t._id&&x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"You might also like"}),x.jsx(Ff,{category:t.category,currentProgramId:t._id})]})]})}):x.jsx("div",{className:"min-h-screen flex items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Program not found"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"The program you're looking for doesn't exist or has been removed."}),x.jsx("a",{href:"/programs",className:"inline-block px-6 py-2 bg-main text-white rounded-md hover:bg-opacity-90 transition-colors",children:"Browse Programs"})]})})}function Ff({currentProgramId:e,category:t}){const[s,i]=n.useState([]),[r,a]=n.useState(!0),[o,l]=n.useState(null);return n.useEffect(()=>{(async()=>{if(t&&e){a(!0),l(null);try{const s='*[_type == "program" && category == $category && _id != $currentProgramId][0...3]{\n          _id,\n          title,\n          price,\n          duration,\n          "imageUrl": image.asset->url,\n          "slug": slug.current,\n        }',n=await B.fetch(s,{category:t,currentProgramId:e});i(n||[])}catch(s){console.error("Error fetching related programs:",s),l("Failed to load related programs")}finally{a(!1)}}else a(!1)})()},[t,e]),r?x.jsx("div",{className:"flex justify-center py-8",children:x.jsxs("div",{className:"animate-pulse",children:[x.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded mb-4"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(e=>x.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[x.jsx("div",{className:"w-full h-48 bg-gray-200"}),x.jsxs("div",{className:"p-4",children:[x.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),x.jsx("div",{className:"h-4 bg-gray-100 rounded w-1/2"})]})]},e))})]})}):o?x.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-8",children:x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(ff,{className:"h-5 w-5 text-red-400"})}),x.jsx("div",{className:"ml-3",children:x.jsx("p",{className:"text-sm text-red-700",children:o})})]})}):0===s.length?null:x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>x.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-200",children:x.jsxs("a",{href:`/programs/${e.slug||e._id}`,className:"block group",children:[x.jsx("div",{className:"relative overflow-hidden h-48",children:x.jsx("img",{src:e.imageUrl||"/placeholder-program.jpg",alt:e.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"})}),x.jsxs("div",{className:"p-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 group-hover:text-main transition-colors",children:e.title}),e.duration&&x.jsx("p",{className:"text-gray-500 text-sm mb-2",children:e.duration}),e.price&&x.jsxs("p",{className:"text-lg font-bold text-main",children:["",e.price.toLocaleString()]})]})]})},e._id))})}function Bf(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-2xl font-bold text-indigo-800 mb-4",children:"Manifest Abundance"}),x.jsx("p",{className:"text-gray-700",children:"Learn to attract abundance into your life with guided meditations and practical exercises."})]})}function zf(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-2xl font-bold text-indigo-800 mb-4",children:"Reduce Stress & Anxiety"}),x.jsx("p",{className:"text-gray-700",children:"Guided sessions and resources to help you manage stress and anxiety effectively."})]})}function $f(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-2xl font-bold text-indigo-800 mb-4",children:"Be Extraordinary - Super Brain Techniques"}),x.jsx("p",{className:"text-gray-700",children:"Unlock your brain's potential with advanced techniques and exercises."})]})}function qf(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-2xl font-bold text-indigo-800 mb-4",children:"Self Sessions (Mind)"}),x.jsx("p",{className:"text-gray-700",children:"Access self-guided audio and video sessions for mental well-being."})]})}function Hf(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-2xl font-bold text-green-800 mb-4",children:"Yoga"}),x.jsx("p",{className:"text-gray-700",children:"Yoga sessions and resources for physical and mental well-being."})]})}function Wf(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-2xl font-bold text-green-800 mb-4",children:"Nutrition"}),x.jsx("p",{className:"text-gray-700",children:"Nutrition guidance and healthy eating tips for a better lifestyle."})]})}function Gf(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-2xl font-bold text-green-800 mb-4",children:"Naturopathy"}),x.jsx("p",{className:"text-gray-700",children:"Explore natural healing techniques and holistic wellness sessions."})]})}function Kf(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-2xl font-bold text-green-800 mb-4",children:ht("body.selfSessions.title")}),x.jsx("p",{className:"text-gray-700",children:ht("body.selfSessions.description")})]})}function Yf(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-2xl font-bold text-purple-800 mb-4",children:"Trauma Healing & Chakra Activations"}),x.jsx("p",{className:"text-gray-700",children:"Sessions focused on healing trauma and activating your chakras for spiritual growth."})]})}function Xf(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-2xl font-bold text-purple-800 mb-4",children:"Sound Therapy & Healing"}),x.jsx("p",{className:"text-gray-700",children:"Experience healing through sound therapy and vibrational techniques."})]})}function Qf(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-2xl font-bold text-purple-800 mb-4",children:"Breathwork for Life"}),x.jsx("p",{className:"text-gray-700",children:"Guided breathwork sessions to enhance your well-being and vitality."})]})}function Jf(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-2xl font-bold text-purple-800 mb-4",children:ht("soul.selfSessions.title")}),x.jsx("p",{className:"text-gray-700",children:ht("soul.selfSessions.description")})]})}function Zf(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-2xl font-bold text-yellow-800 mb-4",children:"Money Store"}),x.jsx("p",{className:"text-gray-700",children:"Pyrates, Salenites and other prosperity items available for purchase."})]})}function eg(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-2xl font-bold text-yellow-800 mb-4",children:"Rudrakshas"}),x.jsx("p",{className:"text-gray-700",children:"Spiritual Rudraksha beads and malas for meditation and healing."})]})}function tg(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-2xl font-bold text-yellow-800 mb-4",children:"Energy Stone Bracelets"}),x.jsx("p",{className:"text-gray-700",children:"Handcrafted energy stone bracelets for balance and positive energy."})]})}function sg(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-3xl font-bold text-pink-800 mb-8",children:"Cart & Transactions"}),x.jsx("p",{className:"text-gray-700",children:"View your selected products and programs, proceed to checkout, and view your transaction history."})]})}function ng(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-3xl font-bold text-red-800 mb-8",children:"Favorites"}),x.jsx("p",{className:"text-gray-700",children:"Your favorite products, coaches, and meditation audio/video will appear here."})]})}function ig(){return x.jsxs("div",{className:"max-w-2xl mx-auto py-16",children:[x.jsx("h1",{className:"text-3xl font-bold text-indigo-800 mb-8",children:"Coaching History"}),x.jsx("p",{className:"text-gray-700",children:"View your past coaching sessions and programs here."})]})}const rg=()=>{const{cart:e,isOpen:t,setIsOpen:s,removeFromCart:n,updateQuantity:i,cartTotal:a,itemCount:o,clearCart:l}=E();return t?x.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",children:x.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[x.jsx("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>s(!1),"aria-hidden":"true"}),x.jsx("div",{className:"fixed inset-y-0 right-0 max-w-full flex",children:x.jsx("div",{className:"w-screen max-w-md",children:x.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl overflow-y-scroll",children:[x.jsxs("div",{className:"flex-1 py-6 overflow-y-auto px-4 sm:px-6",children:[x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Shopping cart"}),x.jsx("div",{className:"ml-3 h-7 flex items-center",children:x.jsxs("button",{type:"button",className:"-m-2 p-2 text-gray-400 hover:text-gray-500",onClick:()=>s(!1),children:[x.jsx("span",{className:"sr-only",children:"Close panel"}),x.jsx(P,{className:"h-6 w-6","aria-hidden":"true"})]})})]}),x.jsx("div",{className:"mt-8",children:x.jsx("div",{className:"flow-root",children:0===e.length?x.jsxs("div",{className:"text-center py-12",children:[x.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),x.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Your cart is empty"}),x.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start adding some items to your cart"}),x.jsx("div",{className:"mt-6",children:x.jsx("button",{type:"button",onClick:()=>s(!1),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-main hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-main",children:"Continue Shopping"})})]}):x.jsx("ul",{className:"-my-6 divide-y divide-gray-200",children:e.map(e=>x.jsxs("li",{className:"py-6 flex",children:[x.jsx("div",{className:"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden",children:x.jsx("img",{src:e.image||"/placeholder-program.jpg",alt:e.name,className:"w-full h-full object-cover object-center"})}),x.jsxs("div",{className:"ml-4 flex-1 flex flex-col",children:[x.jsx("div",{children:x.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[x.jsx("h3",{children:x.jsx(r,{to:`/programs/${e.slug}`,onClick:()=>s(!1),children:e.name})}),x.jsxs("p",{className:"ml-4",children:["",e.price.toLocaleString()]})]})}),x.jsxs("div",{className:"flex-1 flex items-end justify-between text-sm",children:[x.jsxs("div",{className:"flex items-center border rounded-md overflow-hidden",children:[x.jsx("button",{onClick:()=>i(e.id,e.quantity-1),className:"px-2 py-1 bg-gray-100 hover:bg-gray-200",children:x.jsx(T,{className:"h-4 w-4"})}),x.jsx("span",{className:"px-3 py-1",children:e.quantity}),x.jsx("button",{onClick:()=>i(e.id,e.quantity+1),className:"px-2 py-1 bg-gray-100 hover:bg-gray-200",children:x.jsx(I,{className:"h-4 w-4"})})]}),x.jsx("div",{className:"flex",children:x.jsx("button",{type:"button",onClick:()=>n(e.id),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Remove"})})]})]})]},e.id))})})})]}),e.length>0&&x.jsxs("div",{className:"border-t border-gray-200 py-6 px-4 sm:px-6",children:[x.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900 mb-4",children:[x.jsx("p",{children:"Subtotal"}),x.jsxs("p",{children:["",a.toLocaleString()]})]}),x.jsx("p",{className:"mt-0.5 text-sm text-gray-500 mb-6",children:"Shipping and taxes calculated at checkout."}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(r,{to:"/checkout",className:"w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-main hover:bg-opacity-90",onClick:()=>s(!1),children:"Checkout"}),x.jsx("button",{type:"button",onClick:l,className:"w-full flex justify-center items-center px-6 py-3 border border-gray-300 rounded-md shadow-sm text-base font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Clear Cart"})]}),x.jsx("div",{className:"mt-6 flex justify-center text-sm text-center text-gray-500",children:x.jsxs("p",{children:["or"," ",x.jsxs("button",{type:"button",className:"text-indigo-600 font-medium hover:text-indigo-500",onClick:()=>s(!1),children:["Continue Shopping",x.jsx("span",{"aria-hidden":"true",children:" "})]})]})})]})]})})})]})}):null};function ag(){return x.jsx(N,{children:x.jsxs(c,{children:[x.jsx(L,{}),x.jsxs("div",{className:"flex flex-col min-h-screen",children:[x.jsx(D,{}),x.jsx(rg,{}),x.jsx("main",{className:"flex-grow",children:x.jsxs(d,{children:[x.jsx(u,{path:"/",element:x.jsx(Ot,{})}),x.jsx(u,{path:"/mind",element:x.jsx(Mt,{})}),x.jsx(u,{path:"/mind/manifest-abundance",element:x.jsx(Bf,{})}),x.jsx(u,{path:"/mind/reduce-stress",element:x.jsx(zf,{})}),x.jsx(u,{path:"/mind/super-brain",element:x.jsx($f,{})}),x.jsx(u,{path:"/mind/self-sessions",element:x.jsx(qf,{})}),x.jsx(u,{path:"/body",element:x.jsx(Dt,{})}),x.jsx(u,{path:"/body/yoga",element:x.jsx(Hf,{})}),x.jsx(u,{path:"/body/nutrition",element:x.jsx(Wf,{})}),x.jsx(u,{path:"/body/naturopathy",element:x.jsx(Gf,{})}),x.jsx(u,{path:"/body/self-sessions",element:x.jsx(Kf,{})}),x.jsx(u,{path:"/soul",element:x.jsx(Lt,{})}),x.jsx(u,{path:"/soul/trauma-healing",element:x.jsx(Yf,{})}),x.jsx(u,{path:"/soul/sound-therapy",element:x.jsx(Xf,{})}),x.jsx(u,{path:"/soul/breathwork",element:x.jsx(Qf,{})}),x.jsx(u,{path:"/soul/self-sessions",element:x.jsx(Jf,{})}),x.jsx(u,{path:"/store",element:x.jsx(Rt,{})}),x.jsx(u,{path:"/about",element:x.jsx(nf,{})}),x.jsx(u,{path:"/contact",element:x.jsx(rf,{})}),x.jsx(u,{path:"/refund-and-cancellation",element:x.jsx(af,{})}),x.jsx(u,{path:"/shipping-and-delivery",element:x.jsx(of,{})}),x.jsx(u,{path:"/terms-and-conditions",element:x.jsx(lf,{})}),x.jsx(u,{path:"/privacy-policy",element:x.jsx(cf,{})}),x.jsx(u,{path:"/sessions",element:x.jsx(df,{})}),x.jsx(u,{path:"/blog",element:x.jsx(hf,{})}),x.jsx(u,{path:"/all-articles",element:x.jsx(pf,{})}),x.jsx(u,{path:"/store/money-store",element:x.jsx(Zf,{})}),x.jsx(u,{path:"/test-programs",element:x.jsx(dt,{})}),x.jsx(u,{path:"/store/rudrakshas",element:x.jsx(eg,{})}),x.jsx(u,{path:"/store/bracelets",element:x.jsx(tg,{})}),x.jsx(u,{path:"/login",element:x.jsx(Zm,{})}),x.jsx(u,{path:"/signup",element:x.jsx(tf,{})}),x.jsx(u,{path:"/reset-password",element:x.jsx(sf,{})}),x.jsx(u,{path:"/about",element:x.jsx(nf,{})}),x.jsx(u,{path:"/cart",element:x.jsx(sg,{})}),x.jsx(u,{path:"/favorites",element:x.jsx(ng,{})}),x.jsx(u,{path:"/coaching-history",element:x.jsx(ig,{})}),x.jsx(u,{path:"/programs/:slug",element:x.jsx(Uf,{})})]})}),x.jsx(pt,{})]})]})})}const og={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SANITY_API_VERSION:"2023-07-21",VITE_SANITY_DATASET:"production1",VITE_SANITY_PROJECT_ID:"n5smwbzi",VITE_SANITY_USE_CDN:"true",VITE_USER_NODE_ENV:"production"};function lg(e){const t=og[e];if(!t)throw new Error(` Missing required environment variable: ${e}`);return t.trim()}const cg=lg("VITE_SANITY_PROJECT_ID"),dg=lg("VITE_SANITY_DATASET"),ug=cg.replace(/\.api\.sanity\.io.*$/,"").trim();ug!==cg&&console.warn(" Fixed malformed VITE_SANITY_PROJECT_ID:",cg,"",ug);const hg={projectId:ug,dataset:dg,apiVersion:"2023-07-21",useCdn:!0,token:void 0,withCredentials:!1,ignoreBrowserTokenWarning:!0},pg=h({...hg,fetch:async(e,t={})=>{const s=await fetch(e,{...t,headers:{"Content-Type":"application/json",Accept:"application/json",...hg.token,...t.headers||{}}});if(!s.ok){const e=await s.text();throw new Error(` Sanity API Error: ${s.status} ${e}`)}return s},requestTagPrefix:"sanity-js"}),mg=async()=>{try{const e=await pg.fetch('*[_type == "program"][0]');return console.log(" Sanity connection successful"),{success:!0,data:e}}catch(e){return console.error(" Sanity connection failed:",e.message),{success:!1,error:e.message}}};"4173"===window.location.port&&mg(),window.testSanity=mg,w.createRoot(document.getElementById("root")).render(x.jsx(o.StrictMode,{children:x.jsx(ag,{})})),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{}).catch(e=>{console.error("ServiceWorker registration failed:",e)})});
